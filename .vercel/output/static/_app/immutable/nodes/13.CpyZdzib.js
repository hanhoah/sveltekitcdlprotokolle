import{s as S,e as b,a as w,c as y,b as k,g as T,l as C,f as x,m as v,i as F,h,S as N,n as L}from"../chunks/scheduler.DeroNCAe.js";import{S as D,i as H}from"../chunks/index.B-He30dL.js";import{p as O,i as P,a as U}from"../chunks/entry.C4w03VKe.js";function I(a){const t=JSON.parse(a);return t.data&&(t.data=O(t.data)),t}function M(a){return HTMLElement.prototype.cloneNode.call(a)}function R(a,t=()=>{}){const i=async({action:e,result:l,reset:u=!0,invalidateAll:n=!0})=>{l.type==="success"&&(u&&HTMLFormElement.prototype.reset.call(a),n&&await P()),(location.origin+location.pathname===e.origin+e.pathname||l.type==="redirect"||l.type==="error")&&U(l)};async function s(e){var A,_,g,E;if(((A=e.submitter)!=null&&A.hasAttribute("formmethod")?e.submitter.formMethod:M(a).method)!=="post")return;e.preventDefault();const u=new URL((_=e.submitter)!=null&&_.hasAttribute("formaction")?e.submitter.formAction:M(a).action),n=new FormData(a),p=(g=e.submitter)==null?void 0:g.getAttribute("name");p&&n.append(p,((E=e.submitter)==null?void 0:E.getAttribute("value"))??"");const d=new AbortController;let f=!1;const o=await t({action:u,cancel:()=>f=!0,controller:d,formData:n,formElement:a,submitter:e.submitter})??i;if(f)return;let m;try{const r=await fetch(u,{method:"POST",headers:{accept:"application/json","x-sveltekit-action":"true"},cache:"no-store",body:n,signal:d.signal});m=I(await r.text()),m.type==="error"&&(m.status=r.status)}catch(r){if((r==null?void 0:r.name)==="AbortError")return;m={type:"error",error:r}}o({action:u,formData:n,formElement:a,update:r=>i({action:u,result:m,reset:r==null?void 0:r.reset,invalidateAll:r==null?void 0:r.invalidateAll}),result:m})}return HTMLFormElement.prototype.addEventListener.call(a,"submit",s),{destroy(){HTMLFormElement.prototype.removeEventListener.call(a,"submit",s)}}}function j(a){let t,i,s,e,l,u,n,p="Sign up",d,f;return{c(){t=b("form"),i=b("input"),e=w(),l=b("input"),u=w(),n=b("button"),n.textContent=p,this.h()},l(c){t=y(c,"FORM",{method:!0});var o=k(t);i=y(o,"INPUT",{name:!0}),e=T(o),l=y(o,"INPUT",{type:!0,name:!0}),u=T(o),n=y(o,"BUTTON",{"data-svelte-h":!0}),C(n)!=="svelte-11o5rk4"&&(n.textContent=p),o.forEach(x),this.h()},h(){var c;v(i,"name","email"),i.value=s=((c=a[0])==null?void 0:c.email)??"",v(l,"type","password"),v(l,"name","password"),v(t,"method","post")},m(c,o){F(c,t,o),h(t,i),h(t,e),h(t,l),h(t,u),h(t,n),d||(f=N(R.call(null,t)),d=!0)},p(c,[o]){var m;o&1&&s!==(s=((m=c[0])==null?void 0:m.email)??"")&&i.value!==s&&(i.value=s)},i:L,o:L,d(c){c&&x(t),d=!1,f()}}}function q(a,t,i){let{form:s}=t;return a.$$set=e=>{"form"in e&&i(0,s=e.form)},[s]}class G extends D{constructor(t){super(),H(this,t,q,j,S,{form:0})}}export{G as component};
