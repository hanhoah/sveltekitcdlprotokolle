import{s as M}from"../chunks/supabaseClient.BjB1Nrr3.js";import{s as U,e as y,a as T,c as D,b as E,p as Z,g as S,f as v,l as H,i as P,h as p,n as B,o as L,Q as x,t as I,d as V,j,y as ee,B as te,C as le,D as ae}from"../chunks/scheduler.DfuChs2G.js";import{S as X,i as Y,b as ne,d as se,m as oe,t as N,a as q,e as re}from"../chunks/index.BnyCCVNm.js";import{e as C}from"../chunks/each.D6YF6ztN.js";import{g as ie}from"../chunks/getHashtags.CHQhR21x.js";console.log("Produkt Layout wird initialisiert...");async function ce(){const{count:o}=await M.from("products").select("*",{count:"exact",head:!0}),{data:e}=await M.from("productcategories").select("*").order("name");return{count:o,categories:e}}const ye=Object.freeze(Object.defineProperty({__proto__:null,load:ce},Symbol.toStringTag,{value:"Module"}));function F(o,e,t){const l=o.slice();return l[1]=e[t].hashtag_id,l}function Q(o,e,t){const l=o.slice();return l[4]=e[t].tag,l[5]=e[t].anzahl,l[1]=e[t].hashtag_id,l}function W(o){let e,t,l=o[4]+"",f,i,r=o[5]+"",u,d,s,b;return{c(){e=y("a"),t=y("div"),f=I(l),i=I(" ("),u=I(r),d=I(")"),s=T(),this.h()},l(h){e=D(h,"A",{href:!0});var a=E(e);t=D(a,"DIV",{class:!0});var _=E(t);f=V(_,l),i=V(_," ("),u=V(_,r),d=V(_,")"),_.forEach(v),s=S(a),a.forEach(v),this.h()},h(){H(t,"class","p-1 border-2 m-1 bg-red-50 border-red-300"),H(e,"href",b="/produkte/hashtag/"+o[1])},m(h,a){P(h,e,a),p(e,t),p(t,f),p(t,i),p(t,u),p(t,d),p(e,s)},p(h,a){a&1&&l!==(l=h[4]+"")&&j(f,l),a&1&&r!==(r=h[5]+"")&&j(u,r),a&1&&b!==(b="/produkte/hashtag/"+h[1])&&H(e,"href",b)},d(h){h&&v(e)}}}function G(o){let e,t=o[1]+"",l,f;return{c(){e=I("'/produkte/hashtag/"),l=I(t),f=I("',")},l(i){e=V(i,"'/produkte/hashtag/"),l=V(i,t),f=V(i,"',")},m(i,r){P(i,e,r),P(i,l,r),P(i,f,r)},p(i,r){r&1&&t!==(t=i[1]+"")&&j(l,t)},d(i){i&&(v(e),v(l),v(f))}}}function fe(o){let e,t,l="Nicht das passende Produkt gefunden? Wähle einen der folgenden beliebten Hashtags:",f,i,r,u,d=C(o[0]),s=[];for(let a=0;a<d.length;a+=1)s[a]=W(Q(o,d,a));let b=C(o[0]),h=[];for(let a=0;a<b.length;a+=1)h[a]=G(F(o,b,a));return{c(){e=y("div"),t=y("h2"),t.textContent=l,f=T(),i=y("div");for(let a=0;a<s.length;a+=1)s[a].c();r=T(),u=y("div");for(let a=0;a<h.length;a+=1)h[a].c();this.h()},l(a){e=D(a,"DIV",{class:!0});var _=E(e);t=D(_,"H2",{"data-svelte-h":!0}),Z(t)!=="svelte-1dglh44"&&(t.textContent=l),f=S(_),i=D(_,"DIV",{class:!0});var n=E(i);for(let w=0;w<s.length;w+=1)s[w].l(n);n.forEach(v),r=S(_),u=D(_,"DIV",{});var g=E(u);for(let w=0;w<h.length;w+=1)h[w].l(g);g.forEach(v),_.forEach(v),this.h()},h(){H(i,"class","col columns-6 text-xs"),H(e,"class","bg-red-200 mt-10 p-3")},m(a,_){P(a,e,_),p(e,t),p(e,f),p(e,i);for(let n=0;n<s.length;n+=1)s[n]&&s[n].m(i,null);p(e,r),p(e,u);for(let n=0;n<h.length;n+=1)h[n]&&h[n].m(u,null)},p(a,[_]){if(_&1){d=C(a[0]);let n;for(n=0;n<d.length;n+=1){const g=Q(a,d,n);s[n]?s[n].p(g,_):(s[n]=W(g),s[n].c(),s[n].m(i,null))}for(;n<s.length;n+=1)s[n].d(1);s.length=d.length}if(_&1){b=C(a[0]);let n;for(n=0;n<b.length;n+=1){const g=F(a,b,n);h[n]?h[n].p(g,_):(h[n]=G(g),h[n].c(),h[n].m(u,null))}for(;n<h.length;n+=1)h[n].d(1);h.length=b.length}},i:B,o:B,d(a){a&&v(e),L(s,a),L(h,a)}}}function he(o,e,t){let l=[];return x(async()=>{try{t(0,l=await ie(3)),console.log("TopHashTags are: ",l)}catch(f){console.error("Fehler beim Laden der Top-Hashtags:",f.message)}}),[l]}class ue extends X{constructor(e){super(),Y(this,e,he,fe,U,{})}}function J(o,e,t){const l=o.slice();return l[3]=e[t],l}function de(o){let e=o[3].name+"",t;return{c(){t=I(e)},l(l){t=V(l,e)},m(l,f){P(l,t,f)},p(l,f){f&1&&e!==(e=l[3].name+"")&&j(t,e)},d(l){l&&v(t)}}}function _e(o){let e;return{c(){e=I("Öle")},l(t){e=V(t,"Öle")},m(t,l){P(t,e,l)},p:B,d(t){t&&v(e)}}}function R(o){let e,t,l,f;function i(d,s){return d[3].name==="Oele"?_e:de}let r=i(o),u=r(o);return{c(){e=y("a"),t=y("div"),u.c(),l=T(),this.h()},l(d){e=D(d,"A",{href:!0});var s=E(e);t=D(s,"DIV",{class:!0});var b=E(t);u.l(b),b.forEach(v),l=S(s),s.forEach(v),this.h()},h(){H(t,"class","w-full p-1 text-xs bg-green-100 hover:bg-yellow-300"),H(e,"href",f="/produkte/cat/"+o[3].category_id)},m(d,s){P(d,e,s),p(e,t),u.m(t,null),p(e,l)},p(d,s){r===(r=i(d))&&u?u.p(d,s):(u.d(1),u=r(d),u&&(u.c(),u.m(t,null))),s&1&&f!==(f="/produkte/cat/"+d[3].category_id)&&H(e,"href",f)},d(d){d&&v(e),u.d()}}}function ge(o){let e,t=o[0].count+"",l,f,i,r,u,d,s,b,h,a,_,n=C(o[0].categories),g=[];for(let c=0;c<n.length;c+=1)g[c]=R(J(o,n,c));const w=o[2].default,k=ee(w,o,o[1],null);return a=new ue({}),{c(){e=y("div"),l=I(t),f=I(" Produkte in der Datenbank gefunden. Bitte wählen Sie eine Kategorie aus um Ihr Produkt schneller zu finden."),i=T(),r=y("div"),u=y("div"),d=y("nav"),s=y("div");for(let c=0;c<g.length;c+=1)g[c].c();b=T(),k&&k.c(),h=T(),ne(a.$$.fragment),this.h()},l(c){e=D(c,"DIV",{class:!0});var $=E(e);l=V($,t),f=V($," Produkte in der Datenbank gefunden. Bitte wählen Sie eine Kategorie aus um Ihr Produkt schneller zu finden."),$.forEach(v),i=S(c),r=D(c,"DIV",{class:!0});var m=E(r);u=D(m,"DIV",{});var z=E(u);d=D(z,"NAV",{});var O=E(d);s=D(O,"DIV",{class:!0});var K=E(s);for(let A=0;A<g.length;A+=1)g[A].l(K);K.forEach(v),O.forEach(v),z.forEach(v),b=S(m),k&&k.l(m),h=S(m),se(a.$$.fragment,m),m.forEach(v),this.h()},h(){H(e,"class","w-full p-3 text-xs bg-yellow-200 hover:bg-lime-300"),H(s,"class","grid grid-cols-4 md:grid-cols-6 m-5 gap-3 "),H(r,"class","mb-5")},m(c,$){P(c,e,$),p(e,l),p(e,f),P(c,i,$),P(c,r,$),p(r,u),p(u,d),p(d,s);for(let m=0;m<g.length;m+=1)g[m]&&g[m].m(s,null);p(r,b),k&&k.m(r,null),p(r,h),oe(a,r,null),_=!0},p(c,[$]){if((!_||$&1)&&t!==(t=c[0].count+"")&&j(l,t),$&1){n=C(c[0].categories);let m;for(m=0;m<n.length;m+=1){const z=J(c,n,m);g[m]?g[m].p(z,$):(g[m]=R(z),g[m].c(),g[m].m(s,null))}for(;m<g.length;m+=1)g[m].d(1);g.length=n.length}k&&k.p&&(!_||$&2)&&te(k,w,c,c[1],_?ae(w,c[1],$,null):le(c[1]),null)},i(c){_||(N(k,c),N(a.$$.fragment,c),_=!0)},o(c){q(k,c),q(a.$$.fragment,c),_=!1},d(c){c&&(v(e),v(i),v(r)),L(g,c),k&&k.d(c),re(a)}}}function me(o,e,t){let{$$slots:l={},$$scope:f}=e,{data:i}=e;return o.$$set=r=>{"data"in r&&t(0,i=r.data),"$$scope"in r&&t(1,f=r.$$scope)},[i,f,l]}class De extends X{constructor(e){super(),Y(this,e,me,ge,U,{data:0})}}export{De as component,ye as universal};
