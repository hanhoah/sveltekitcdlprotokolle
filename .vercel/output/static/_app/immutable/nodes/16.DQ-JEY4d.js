import{a as $,g as x}from"../chunks/categories.VNeXaOrY.js";import{s as ee}from"../chunks/supabaseClient.CCJhsT86.js";import{s as te,e as w,t as S,a as B,p as j,c as I,b as E,d as V,f as h,g as C,m as D,i as k,h as P,j as q,q as W,H as X,r as Y,B as le}from"../chunks/scheduler.DeroNCAe.js";import{S as ae,i as re,t as H,e as se,b as K,c as oe,a as ie,m as ne,d as ce,g as fe}from"../chunks/index.B-He30dL.js";import{e as L}from"../chunks/each.D6YF6ztN.js";import{g as M,P as ue}from"../chunks/shops.CftjmkxP.js";const de="false";async function _e({params:r}){const e=r.catid;console.log("Lade Cat Parameter ...",e);const a=await $(parseInt(e)),t=await x(parseInt(e));console.log("desc",t);const{data:l,error:s}=await ee.from("productwithpricecategories").select().eq("category_id",e).order("name"),i=l==null?void 0:l.length;return{catid:e,length:i,category:a,description:t,products:l}}const Ie=Object.freeze(Object.defineProperty({__proto__:null,load:_e,prerender:de},Symbol.toStringTag,{value:"Module"}));function O(r,e,a){const t=r.slice();return t[10]=e[a],t}function U(r,e,a){const t=r.slice();return t[13]=e[a],t}function F(r){let e,a;return{c(){e=w("div"),a=new X(!1),this.h()},l(t){e=I(t,"DIV",{class:!0});var l=E(e);a=Y(l,!1),l.forEach(h),this.h()},h(){a.a=null,D(e,"class","border-2 p-2 bg-slate-100")},m(t,l){k(t,e,l),a.m(r[4],e)},p(t,l){l&16&&a.p(t[4])},d(t){t&&h(e)}}}function G(r){let e,a,t,l,s=M(r[13].id)+"",i,n,c,p;return n=new ue({props:{product:{id:r[13].id,name:r[13].name,img:r[13].image,price:r[13].price}}}),{c(){e=w("div"),a=w("li"),t=w("div"),l=new X(!1),i=B(),oe(n.$$.fragment),c=B(),this.h()},l(d){e=I(d,"DIV",{class:!0});var g=E(e);a=I(g,"LI",{class:!0});var v=E(a);t=I(v,"DIV",{class:!0});var b=E(t);l=Y(b,!1),b.forEach(h),i=C(v),ie(n.$$.fragment,v),v.forEach(h),c=C(g),g.forEach(h),this.h()},h(){l.a=null,D(t,"class","absolute right-10"),D(a,"class","my-2 relative"),D(e,"class","lazy-load")},m(d,g){k(d,e,g),P(e,a),P(a,t),l.m(s,t),P(a,i),ne(n,a,null),P(e,c),p=!0},p(d,g){(!p||g&4)&&s!==(s=M(d[13].id)+"")&&l.p(s);const v={};g&4&&(v.product={id:d[13].id,name:d[13].name,img:d[13].image,price:d[13].price}),n.$set(v)},i(d){p||(H(n.$$.fragment,d),p=!0)},o(d){K(n.$$.fragment,d),p=!1},d(d){d&&h(e),ce(n)}}}function J(r){let e,a=L(Array.from({length:r[3]()}).map(R)),t=[];for(let l=0;l<a.length;l+=1)t[l]=Q(O(r,a,l));return{c(){e=w("div");for(let l=0;l<t.length;l+=1)t[l].c();this.h()},l(l){e=I(l,"DIV",{class:!0});var s=E(e);for(let i=0;i<t.length;i+=1)t[i].l(s);s.forEach(h),this.h()},h(){D(e,"class","page-selector svelte-ra8vou")},m(l,s){k(l,e,s);for(let i=0;i<t.length;i+=1)t[i]&&t[i].m(e,null)},p(l,s){if(s&74){a=L(Array.from({length:l[3]()}).map(R));let i;for(i=0;i<a.length;i+=1){const n=O(l,a,i);t[i]?t[i].p(n,s):(t[i]=Q(n),t[i].c(),t[i].m(e,null))}for(;i<t.length;i+=1)t[i].d(1);t.length=a.length}},d(l){l&&h(e),W(t,l)}}}function he(r){let e,a=r[10]+"",t,l,s;function i(){return r[8](r[10])}return{c(){e=w("a"),t=S(a),this.h()},l(n){e=I(n,"A",{class:!0});var c=E(e);t=V(c,a),c.forEach(h),this.h()},h(){D(e,"class","page-number svelte-ra8vou")},m(n,c){k(n,e,c),P(e,t),l||(s=le(e,"click",i),l=!0)},p(n,c){r=n,c&8&&a!==(a=r[10]+"")&&q(t,a)},d(n){n&&h(e),l=!1,s()}}}function me(r){let e,a=r[10]+"",t;return{c(){e=w("span"),t=S(a),this.h()},l(l){e=I(l,"SPAN",{class:!0});var s=E(e);t=V(s,a),s.forEach(h),this.h()},h(){D(e,"class","page-number current-page svelte-ra8vou")},m(l,s){k(l,e,s),P(e,t)},p(l,s){s&8&&a!==(a=l[10]+"")&&q(t,a)},d(l){l&&h(e)}}}function Q(r){let e;function a(s,i){return s[10]==s[1]?me:he}let t=a(r),l=t(r);return{c(){l.c(),e=j()},l(s){l.l(s),e=j()},m(s,i){l.m(s,i),k(s,e,i)},p(s,i){t===(t=a(s))&&l?l.p(s,i):(l.d(1),l=t(s),l&&(l.c(),l.m(e.parentNode,e)))},d(s){s&&h(e),l.d(s)}}}function pe(r){let e,a,t,l,s,i,n,c,p,d,g=r[3]()>1,v,b,m=r[4]&&F(r),N=L(r[2]),_=[];for(let o=0;o<N.length;o+=1)_[o]=G(U(r,N,o));const Z=o=>K(_[o],1,1,()=>{_[o]=null});let y=g&&J(r);return{c(){e=w("div"),a=w("h2"),t=S(r[0]),l=S(" Produkte in der Kategorie "),s=S(r[5]),i=S(" gefunden."),n=B(),m&&m.c(),c=B(),p=w("ul");for(let o=0;o<_.length;o+=1)_[o].c();d=B(),y&&y.c(),v=j(),this.h()},l(o){e=I(o,"DIV",{class:!0});var f=E(e);a=I(f,"H2",{class:!0});var u=E(a);t=V(u,r[0]),l=V(u," Produkte in der Kategorie "),s=V(u,r[5]),i=V(u," gefunden."),u.forEach(h),f.forEach(h),n=C(o),m&&m.l(o),c=C(o),p=I(o,"UL",{class:!0});var A=E(p);for(let T=0;T<_.length;T+=1)_[T].l(A);A.forEach(h),d=C(o),y&&y.l(o),v=j(),this.h()},h(){D(a,"class","text-center my-5 p-2"),D(e,"class","w-full"),D(p,"class","grid grid-cols-2 md:grid-cols-3")},m(o,f){k(o,e,f),P(e,a),P(a,t),P(a,l),P(a,s),P(a,i),k(o,n,f),m&&m.m(o,f),k(o,c,f),k(o,p,f);for(let u=0;u<_.length;u+=1)_[u]&&_[u].m(p,null);k(o,d,f),y&&y.m(o,f),k(o,v,f),b=!0},p(o,[f]){if((!b||f&1)&&q(t,o[0]),(!b||f&32)&&q(s,o[5]),o[4]?m?m.p(o,f):(m=F(o),m.c(),m.m(c.parentNode,c)):m&&(m.d(1),m=null),f&4){N=L(o[2]);let u;for(u=0;u<N.length;u+=1){const A=U(o,N,u);_[u]?(_[u].p(A,f),H(_[u],1)):(_[u]=G(A),_[u].c(),H(_[u],1),_[u].m(p,null))}for(fe(),u=N.length;u<_.length;u+=1)Z(u);se()}f&8&&(g=o[3]()>1),g?y?y.p(o,f):(y=J(o),y.c(),y.m(v.parentNode,v)):y&&(y.d(1),y=null)},i(o){if(!b){for(let f=0;f<N.length;f+=1)H(_[f]);b=!0}},o(o){_=_.filter(Boolean);for(let f=0;f<_.length;f+=1)K(_[f]);b=!1},d(o){o&&(h(e),h(n),h(c),h(p),h(d),h(v)),m&&m.d(o),W(_,o),y&&y.d(o)}}}const z=50,R=(r,e)=>e+1;function ge(r,e,a){let t,l,s,i,n,{data:c}=e;console.log("catid: ",c.catid);function p(){return a(2,t=c.products.slice(0,10)),t}t=p();let d=1;async function g(b){a(1,d=b);const m=(d-1)*z,N=m+z;return a(2,t=await c.products.slice(m,N)),t}t=g(1);const v=b=>g(b);return r.$$set=b=>{"data"in b&&a(7,c=b.data)},r.$$.update=()=>{r.$$.dirty&128&&a(2,t=c.products.slice(0,10)),r.$$.dirty&128&&a(0,l=c.products.length),r.$$.dirty&128&&a(5,s=c.category),r.$$.dirty&128&&a(4,i=c.description),r.$$.dirty&1&&a(3,n=()=>Math.ceil(l/z))},[l,d,t,n,i,s,g,c,v]}class Ee extends ae{constructor(e){super(),re(this,e,ge,pe,te,{data:7})}}export{Ee as component,Ie as universal};
