import{s as q}from"../chunks/supabaseClient.BjB1Nrr3.js";import{a as O}from"../chunks/getHashtags.CHQhR21x.js";import{s as T,e as p,t as H,a as $,c as v,b as y,d as B,f as h,g as E,l as b,i as P,h as f,j as z,o as A,H as C,q as F}from"../chunks/scheduler.DfuChs2G.js";import{S as M,i as G,t as k,c as J,a as S,b as K,d as L,m as Q,e as R,g as U}from"../chunks/index.BnyCCVNm.js";import{e as j}from"../chunks/each.D6YF6ztN.js";import{g as D,P as W}from"../chunks/shops.DAHteFvT.js";async function X(l){console.log("getProductsByName",l);const{data:e,error:s}=await q.from("products").select("*").ilike("name","%"+l+"%").order("name");if(s)console.log("Fehler beim Abrufen getProductsByName");else return e}async function Y({params:l}){console.log("hashtags:"),console.log("**********");let e=[];const s=l.tag,{tag:n}=await O(s);console.log("hastag id ",s),console.log("hashtag ",n),e=await X(n);const m=e==null?void 0:e.length;return{hashtag:n,length:m,products:e}}const re=Object.freeze(Object.defineProperty({__proto__:null,load:Y},Symbol.toStringTag,{value:"Module"}));function I(l,e,s){const n=l.slice();return n[3]=e[s],n}function N(l){let e,s,n=D(l[3].id)+"",m,d,g,u;return d=new W({props:{product:{id:l[3].id,name:l[3].name,img:l[3].image}}}),{c(){e=p("div"),s=new C(!1),m=$(),K(d.$$.fragment),g=$(),this.h()},l(r){e=v(r,"DIV",{class:!0});var i=y(e);s=F(i,!1),m=E(i),L(d.$$.fragment,i),g=E(i),i.forEach(h),this.h()},h(){s.a=m,b(e,"class","my-2 relative")},m(r,i){P(r,e,i),s.m(n,e),f(e,m),Q(d,e,null),f(e,g),u=!0},p(r,i){(!u||i&1)&&n!==(n=D(r[3].id)+"")&&s.p(n);const a={};i&1&&(a.product={id:r[3].id,name:r[3].name,img:r[3].image}),d.$set(a)},i(r){u||(k(d.$$.fragment,r),u=!0)},o(r){S(d.$$.fragment,r),u=!1},d(r){r&&h(e),R(d)}}}function Z(l){let e,s,n,m,d,g,u,r,i=j(l[0]),a=[];for(let t=0;t<i.length;t+=1)a[t]=N(I(l,i,t));const V=t=>S(a[t],1,1,()=>{a[t]=null});return{c(){e=p("div"),s=p("h2"),n=H("Produkte mit dem Hashtag "),m=H(l[1]),d=H(" gefunden."),g=$(),u=p("div");for(let t=0;t<a.length;t+=1)a[t].c();this.h()},l(t){e=v(t,"DIV",{class:!0});var c=y(e);s=v(c,"H2",{class:!0});var o=y(s);n=B(o,"Produkte mit dem Hashtag "),m=B(o,l[1]),d=B(o," gefunden."),o.forEach(h),c.forEach(h),g=E(t),u=v(t,"DIV",{class:!0});var _=y(u);for(let w=0;w<a.length;w+=1)a[w].l(_);_.forEach(h),this.h()},h(){b(s,"class","text-center my-5 p-2"),b(e,"class","w-full"),b(u,"class","grid grid-cols-2 md:grid-cols-3")},m(t,c){P(t,e,c),f(e,s),f(s,n),f(s,m),f(s,d),P(t,g,c),P(t,u,c);for(let o=0;o<a.length;o+=1)a[o]&&a[o].m(u,null);r=!0},p(t,[c]){if((!r||c&2)&&z(m,t[1]),c&1){i=j(t[0]);let o;for(o=0;o<i.length;o+=1){const _=I(t,i,o);a[o]?(a[o].p(_,c),k(a[o],1)):(a[o]=N(_),a[o].c(),k(a[o],1),a[o].m(u,null))}for(U(),o=i.length;o<a.length;o+=1)V(o);J()}},i(t){if(!r){for(let c=0;c<i.length;c+=1)k(a[c]);r=!0}},o(t){a=a.filter(Boolean);for(let c=0;c<a.length;c+=1)S(a[c]);r=!1},d(t){t&&(h(e),h(g),h(u)),A(a,t)}}}function x(l,e,s){let n,m,{data:d}=e;return l.$$set=g=>{"data"in g&&s(2,d=g.data)},l.$$.update=()=>{l.$$.dirty&4&&s(1,n=d.hashtag),l.$$.dirty&4&&s(0,m=d.products)},[m,n,d]}class ne extends M{constructor(e){super(),G(this,e,x,Z,T,{data:2})}}export{ne as component,re as universal};
