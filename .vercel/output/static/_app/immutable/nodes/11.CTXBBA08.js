import{s as N}from"../chunks/supabaseClient.CD4MZNEJ.js";import{s as O,e as m,a as A,m as P,c as g,b as p,f as h,g as I,l as v,i as d,o as D,H as V,q as C,h as b,t as L,d as M,A as U,n as $}from"../chunks/scheduler.DBuKuVba.js";import{S as F,i as G,t as y,c as J,a as S,b as K,d as Q,m as R,e as W,g as X}from"../chunks/index.CsvtYcO8.js";import{e as w}from"../chunks/each.D6YF6ztN.js";import{g as q,P as Y}from"../chunks/shops.XWkl3EzL.js";async function Z({params:i}){const e=i.catid,{data:o,error:l}=await N.from("productswithcategory").select().eq("category_id",e).order("name"),t=o==null?void 0:o.length;return{catid:e,length:t,products:o}}const ie=Object.freeze(Object.defineProperty({__proto__:null,load:Z},Symbol.toStringTag,{value:"Module"}));function H(i,e,o){const l=i.slice();return l[8]=e[o],l}function T(i,e,o){const l=i.slice();return l[11]=e[o],l}function j(i){let e,o,l,t=q(i[11].id)+"",n,a,r,_;return a=new Y({props:{product:{id:i[11].id,name:i[11].name,img:i[11].image}}}),{c(){e=m("div"),o=m("li"),l=new V(!1),n=A(),K(a.$$.fragment),r=A(),this.h()},l(u){e=g(u,"DIV",{class:!0});var s=p(e);o=g(s,"LI",{class:!0});var c=p(o);l=C(c,!1),n=I(c),Q(a.$$.fragment,c),c.forEach(h),r=I(s),s.forEach(h),this.h()},h(){l.a=n,v(o,"class","my-2 relative"),v(e,"class","lazy-load")},m(u,s){d(u,e,s),b(e,o),l.m(t,o),b(o,n),R(a,o,null),b(e,r),_=!0},p(u,s){(!_||s&2)&&t!==(t=q(u[11].id)+"")&&l.p(t);const c={};s&2&&(c.product={id:u[11].id,name:u[11].name,img:u[11].image}),a.$set(c)},i(u){_||(y(a.$$.fragment,u),_=!0)},o(u){S(a.$$.fragment,u),_=!1},d(u){u&&h(e),W(a)}}}function x(i){let e,o=w(Array.from({length:i[2]()}).map(B)),l=[];for(let t=0;t<o.length;t+=1)l[t]=z(H(i,o,t));return{c(){e=m("div");for(let t=0;t<l.length;t+=1)l[t].c();this.h()},l(t){e=g(t,"DIV",{class:!0});var n=p(e);for(let a=0;a<l.length;a+=1)l[a].l(n);n.forEach(h),this.h()},h(){v(e,"class","page-selector svelte-ra8vou")},m(t,n){d(t,e,n);for(let a=0;a<l.length;a+=1)l[a]&&l[a].m(e,null)},p(t,n){if(n&13){o=w(Array.from({length:t[2]()}).map(B));let a;for(a=0;a<o.length;a+=1){const r=H(t,o,a);l[a]?l[a].p(r,n):(l[a]=z(r),l[a].c(),l[a].m(e,null))}for(;a<l.length;a+=1)l[a].d(1);l.length=o.length}},d(t){t&&h(e),D(l,t)}}}function ee(i){let e,o=i[8]+"",l,t,n;function a(){return i[5](i[8])}return{c(){e=m("a"),l=L(o),this.h()},l(r){e=g(r,"A",{class:!0});var _=p(e);l=M(_,o),_.forEach(h),this.h()},h(){v(e,"class","page-number svelte-ra8vou")},m(r,_){d(r,e,_),b(e,l),t||(n=U(e,"click",a),t=!0)},p(r,_){i=r},d(r){r&&h(e),t=!1,n()}}}function te(i){let e,o=i[8]+"",l;return{c(){e=m("span"),l=L(o),this.h()},l(t){e=g(t,"SPAN",{class:!0});var n=p(e);l=M(n,o),n.forEach(h),this.h()},h(){v(e,"class","page-number current-page svelte-ra8vou")},m(t,n){d(t,e,n),b(e,l)},p:$,d(t){t&&h(e)}}}function z(i){let e;function o(n,a){return n[8]==n[0]?te:ee}let l=o(i),t=l(i);return{c(){t.c(),e=P()},l(n){t.l(n),e=P()},m(n,a){t.m(n,a),d(n,e,a)},p(n,a){l===(l=o(n))&&t?t.p(n,a):(t.d(1),t=l(n),t&&(t.c(),t.m(e.parentNode,e)))},d(n){n&&h(e),t.d(n)}}}function le(i){let e,o,l=i[2]()>1,t,n,a=w(i[1]),r=[];for(let s=0;s<a.length;s+=1)r[s]=j(T(i,a,s));const _=s=>S(r[s],1,1,()=>{r[s]=null});let u=l&&x(i);return{c(){e=m("ul");for(let s=0;s<r.length;s+=1)r[s].c();o=A(),u&&u.c(),t=P(),this.h()},l(s){e=g(s,"UL",{class:!0});var c=p(e);for(let f=0;f<r.length;f+=1)r[f].l(c);c.forEach(h),o=I(s),u&&u.l(s),t=P(),this.h()},h(){v(e,"class","grid grid-cols-2 md:grid-cols-3")},m(s,c){d(s,e,c);for(let f=0;f<r.length;f+=1)r[f]&&r[f].m(e,null);d(s,o,c),u&&u.m(s,c),d(s,t,c),n=!0},p(s,[c]){if(c&2){a=w(s[1]);let f;for(f=0;f<a.length;f+=1){const k=T(s,a,f);r[f]?(r[f].p(k,c),y(r[f],1)):(r[f]=j(k),r[f].c(),y(r[f],1),r[f].m(e,null))}for(X(),f=a.length;f<r.length;f+=1)_(f);J()}l&&u.p(s,c)},i(s){if(!n){for(let c=0;c<a.length;c+=1)y(r[c]);n=!0}},o(s){r=r.filter(Boolean);for(let c=0;c<r.length;c+=1)S(r[c]);n=!1},d(s){s&&(h(e),h(o),h(t)),D(r,s),u&&u.d(s)}}}const E=50,B=(i,e)=>e+1;function ae(i,e,o){let l,{data:t}=e;console.log("catid: ",t.catid);function n(){return o(1,l=t.products.slice(0,10)),l}l=n();let a=t.products.length,r=1;const _=()=>Math.ceil(a/E);async function u(c){console.log("going to page ",c),o(0,r=c);const f=(r-1)*E,k=f+E;return o(1,l=await t.products.slice(f,k)),l}l=u(1);const s=c=>u(c);return i.$$set=c=>{"data"in c&&o(4,t=c.data)},i.$$.update=()=>{i.$$.dirty&16&&o(1,l=t.products.slice(0,10))},[r,l,_,u,t,s]}class ue extends F{constructor(e){super(),G(this,e,ae,le,O,{data:4})}}export{ue as component,ie as universal};
