import{a as le,g as ae}from"../chunks/categories.VNeXaOrY.js";import{s as re}from"../chunks/supabaseClient.CCJhsT86.js";import{s as oe,e as w,a as z,t as C,p as q,o as se,c as I,f as u,g as H,b as D,d as T,m as y,h as P,i as k,j as B,q as $,H as x,r as ee,E as ie}from"../chunks/scheduler.zM5vpuro.js";import{S as ne,i as ce,t as j,e as fe,b as U,c as ue,a as de,m as _e,d as he,g as me}from"../chunks/index.Lc7HYTwW.js";import{e as L}from"../chunks/each.D6YF6ztN.js";import{g as G,P as pe}from"../chunks/product.BVHWFriy.js";const ge="false";async function ve({params:o}){const t=o.catid;console.log("Lade Cat Parameter ...",t);const a=await le(parseInt(t)),l=await ae(parseInt(t));console.log("desc",l);const{data:e,error:r}=await re.from("productwithpricecategories").select().eq("category_id",t).order("name"),i=e==null?void 0:e.length;return{catid:t,length:i,category:a,description:l,products:e}}const Ne=Object.freeze(Object.defineProperty({__proto__:null,load:ve,prerender:ge},Symbol.toStringTag,{value:"Module"}));function J(o,t,a){const l=o.slice();return l[10]=t[a],l}function Q(o,t,a){const l=o.slice();return l[13]=t[a],l}function R(o){let t,a;return{c(){t=w("div"),a=new x(!1),this.h()},l(l){t=I(l,"DIV",{class:!0});var e=D(t);a=ee(e,!1),e.forEach(u),this.h()},h(){a.a=null,y(t,"class","border-2 p-2 bg-slate-100")},m(l,e){k(l,t,e),a.m(o[4],t)},p(l,e){e&16&&a.p(l[4])},d(l){l&&u(t)}}}function W(o){let t,a,l,e,r=G(o[13].id)+"",i,c,f,E;return c=new pe({props:{product:{id:o[13].id,name:o[13].name,img:o[13].image,price:o[13].price}}}),{c(){t=w("div"),a=w("li"),l=w("div"),e=new x(!1),i=z(),ue(c.$$.fragment),f=z(),this.h()},l(d){t=I(d,"DIV",{class:!0});var m=D(t);a=I(m,"LI",{class:!0});var p=D(a);l=I(p,"DIV",{class:!0});var b=D(l);e=ee(b,!1),b.forEach(u),i=H(p),de(c.$$.fragment,p),p.forEach(u),f=H(m),m.forEach(u),this.h()},h(){e.a=null,y(l,"class","absolute right-10 md:right-28"),y(a,"class","my-2 relative"),y(t,"class","lazy-load")},m(d,m){k(d,t,m),P(t,a),P(a,l),e.m(r,l),P(a,i),_e(c,a,null),P(t,f),E=!0},p(d,m){(!E||m&4)&&r!==(r=G(d[13].id)+"")&&e.p(r);const p={};m&4&&(p.product={id:d[13].id,name:d[13].name,img:d[13].image,price:d[13].price}),c.$set(p)},i(d){E||(j(c.$$.fragment,d),E=!0)},o(d){U(c.$$.fragment,d),E=!1},d(d){d&&u(t),he(c)}}}function X(o){let t,a=L(Array.from({length:o[3]()}).map(Z)),l=[];for(let e=0;e<a.length;e+=1)l[e]=Y(J(o,a,e));return{c(){t=w("div");for(let e=0;e<l.length;e+=1)l[e].c();this.h()},l(e){t=I(e,"DIV",{class:!0});var r=D(t);for(let i=0;i<l.length;i+=1)l[i].l(r);r.forEach(u),this.h()},h(){y(t,"class","page-selector svelte-ra8vou")},m(e,r){k(e,t,r);for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(t,null)},p(e,r){if(r&74){a=L(Array.from({length:e[3]()}).map(Z));let i;for(i=0;i<a.length;i+=1){const c=J(e,a,i);l[i]?l[i].p(c,r):(l[i]=Y(c),l[i].c(),l[i].m(t,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=a.length}},d(e){e&&u(t),$(l,e)}}}function be(o){let t,a=o[10]+"",l,e,r;function i(){return o[8](o[10])}return{c(){t=w("a"),l=C(a),this.h()},l(c){t=I(c,"A",{class:!0});var f=D(t);l=T(f,a),f.forEach(u),this.h()},h(){y(t,"class","page-number svelte-ra8vou")},m(c,f){k(c,t,f),P(t,l),e||(r=ie(t,"click",i),e=!0)},p(c,f){o=c,f&8&&a!==(a=o[10]+"")&&B(l,a)},d(c){c&&u(t),e=!1,r()}}}function ke(o){let t,a=o[10]+"",l;return{c(){t=w("span"),l=C(a),this.h()},l(e){t=I(e,"SPAN",{class:!0});var r=D(t);l=T(r,a),r.forEach(u),this.h()},h(){y(t,"class","page-number current-page svelte-ra8vou")},m(e,r){k(e,t,r),P(t,l)},p(e,r){r&8&&a!==(a=e[10]+"")&&B(l,a)},d(e){e&&u(t)}}}function Y(o){let t;function a(r,i){return r[10]==r[1]?ke:be}let l=a(o),e=l(o);return{c(){e.c(),t=q()},l(r){e.l(r),t=q()},m(r,i){e.m(r,i),k(r,t,i)},p(r,i){l===(l=a(r))&&e?e.p(r,i):(e.d(1),e=l(r),e&&(e.c(),e.m(t.parentNode,t)))},d(r){r&&u(t),e.d(r)}}}function ye(o){let t,a,l,e,r,i,c,f,E,d,m,p,b,V=o[3]()>1,A,M;document.title=t="Preisvergleich Produkte der alternativen Medizin - "+o[5];let g=o[4]&&R(o),S=L(o[2]),_=[];for(let s=0;s<S.length;s+=1)_[s]=W(Q(o,S,s));const te=s=>U(_[s],1,1,()=>{_[s]=null});let v=V&&X(o);return{c(){a=w("meta"),l=z(),e=w("div"),r=w("h2"),i=C(o[0]),c=C(" Produkte in der Kategorie "),f=C(o[5]),E=C(" gefunden."),d=z(),g&&g.c(),m=z(),p=w("ul");for(let s=0;s<_.length;s+=1)_[s].c();b=z(),v&&v.c(),A=q(),this.h()},l(s){const n=se("svelte-1xmwefo",document.head);a=I(n,"META",{name:!0,content:!0}),n.forEach(u),l=H(s),e=I(s,"DIV",{class:!0});var h=D(e);r=I(h,"H2",{class:!0});var N=D(r);i=T(N,o[0]),c=T(N," Produkte in der Kategorie "),f=T(N,o[5]),E=T(N," gefunden."),N.forEach(u),h.forEach(u),d=H(s),g&&g.l(s),m=H(s),p=I(s,"UL",{class:!0});var F=D(p);for(let K=0;K<_.length;K+=1)_[K].l(F);F.forEach(u),b=H(s),v&&v.l(s),A=q(),this.h()},h(){y(a,"name","description"),y(a,"content",o[4]),y(r,"class","text-center my-5 p-2"),y(e,"class","w-full"),y(p,"class","grid grid-cols-2 md:grid-cols-3 space-y-5")},m(s,n){P(document.head,a),k(s,l,n),k(s,e,n),P(e,r),P(r,i),P(r,c),P(r,f),P(r,E),k(s,d,n),g&&g.m(s,n),k(s,m,n),k(s,p,n);for(let h=0;h<_.length;h+=1)_[h]&&_[h].m(p,null);k(s,b,n),v&&v.m(s,n),k(s,A,n),M=!0},p(s,[n]){if((!M||n&32)&&t!==(t="Preisvergleich Produkte der alternativen Medizin - "+s[5])&&(document.title=t),(!M||n&16)&&y(a,"content",s[4]),(!M||n&1)&&B(i,s[0]),(!M||n&32)&&B(f,s[5]),s[4]?g?g.p(s,n):(g=R(s),g.c(),g.m(m.parentNode,m)):g&&(g.d(1),g=null),n&4){S=L(s[2]);let h;for(h=0;h<S.length;h+=1){const N=Q(s,S,h);_[h]?(_[h].p(N,n),j(_[h],1)):(_[h]=W(N),_[h].c(),j(_[h],1),_[h].m(p,null))}for(me(),h=S.length;h<_.length;h+=1)te(h);fe()}n&8&&(V=s[3]()>1),V?v?v.p(s,n):(v=X(s),v.c(),v.m(A.parentNode,A)):v&&(v.d(1),v=null)},i(s){if(!M){for(let n=0;n<S.length;n+=1)j(_[n]);M=!0}},o(s){_=_.filter(Boolean);for(let n=0;n<_.length;n+=1)U(_[n]);M=!1},d(s){s&&(u(l),u(e),u(d),u(m),u(p),u(b),u(A)),u(a),g&&g.d(s),$(_,s),v&&v.d(s)}}}const O=50,Z=(o,t)=>t+1;function Pe(o,t,a){let l,e,r,i,c,{data:f}=t;console.log("catid: ",f.catid);function E(){return a(2,l=f.products.slice(0,10)),l}l=E();let d=1;async function m(b){a(1,d=b);const V=(d-1)*O,A=V+O;return a(2,l=await f.products.slice(V,A)),l}l=m(1);const p=b=>m(b);return o.$$set=b=>{"data"in b&&a(7,f=b.data)},o.$$.update=()=>{o.$$.dirty&128&&a(2,l=f.products.slice(0,10)),o.$$.dirty&128&&a(0,e=f.products.length),o.$$.dirty&128&&a(5,r=f.category),o.$$.dirty&128&&a(4,i=f.description),o.$$.dirty&1&&a(3,c=()=>Math.ceil(e/O))},[e,d,l,c,i,r,m,f,p]}class Se extends ne{constructor(t){super(),ce(this,t,Pe,ye,oe,{data:7})}}export{Se as component,Ne as universal};
