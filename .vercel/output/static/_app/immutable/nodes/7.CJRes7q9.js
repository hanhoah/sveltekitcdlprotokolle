import{g as P,a as V,b as q,c as z}from"../chunks/books.qmCxIzA8.js";import{s as H,e as k,t as I,a as M,c as b,b as v,d as S,f as d,g as T,l as B,i as _,h as y,j as U,n as h,m as C,o as A}from"../chunks/scheduler.DBuKuVba.js";import{h as E,u as G}from"../chunks/await_block.CtqnqUU4.js";import{e as L}from"../chunks/each.D6YF6ztN.js";import{S as J,i as Q,t as g,a as $,g as R,c as W,b as F,d as K,m as N,e as O}from"../chunks/index.CsvtYcO8.js";import{B as X}from"../chunks/book.pYU5oA7H.js";import{S as Y}from"../chunks/Spinner.BpP10mi9.js";async function Z({params:r}){const t=r.catid,o=await P(parseInt(t)),n=await V(parseInt(t)),e=q();return{data:{catid:t,catname:n,bookcategories:e},streamed:{books:z(o)}}}const me=Object.freeze(Object.defineProperty({__proto__:null,load:Z},Symbol.toStringTag,{value:"Module"}));function j(r,t,o){const n=r.slice();return n[3]=t[o],n}function x(r){return{c:h,l:h,m:h,p:h,i:h,o:h,d:h}}function ee(r){let t,o,n=L(r[2]),e=[];for(let a=0;a<n.length;a+=1)e[a]=D(j(r,n,a));const l=a=>$(e[a],1,1,()=>{e[a]=null});return{c(){for(let a=0;a<e.length;a+=1)e[a].c();t=C()},l(a){for(let s=0;s<e.length;s+=1)e[s].l(a);t=C()},m(a,s){for(let i=0;i<e.length;i+=1)e[i]&&e[i].m(a,s);_(a,t,s),o=!0},p(a,s){if(s&1){n=L(a[2]);let i;for(i=0;i<n.length;i+=1){const f=j(a,n,i);e[i]?(e[i].p(f,s),g(e[i],1)):(e[i]=D(f),e[i].c(),g(e[i],1),e[i].m(t.parentNode,t))}for(R(),i=n.length;i<e.length;i+=1)l(i);W()}},i(a){if(!o){for(let s=0;s<n.length;s+=1)g(e[s]);o=!0}},o(a){e=e.filter(Boolean);for(let s=0;s<e.length;s+=1)$(e[s]);o=!1},d(a){a&&d(t),A(e,a)}}}function D(r){let t,o,n;return o=new X({props:{book:{id:r[3].id,title:r[3].title,img:r[3].img}}}),{c(){t=k("li"),F(o.$$.fragment),this.h()},l(e){t=b(e,"LI",{class:!0});var l=v(t);K(o.$$.fragment,l),l.forEach(d),this.h()},h(){B(t,"class","my-2")},m(e,l){_(e,t,l),N(o,t,null),n=!0},p(e,l){const a={};l&1&&(a.book={id:e[3].id,title:e[3].title,img:e[3].img}),o.$set(a)},i(e){n||(g(o.$$.fragment,e),n=!0)},o(e){$(o.$$.fragment,e),n=!1},d(e){e&&d(t),O(o)}}}function te(r){let t,o,n,e;return o=new Y({}),{c(){t=k("div"),F(o.$$.fragment),n=I(`
            Loading Books ...`),this.h()},l(l){t=b(l,"DIV",{class:!0});var a=v(t);K(o.$$.fragment,a),n=S(a,`
            Loading Books ...`),a.forEach(d),this.h()},h(){B(t,"class","loading")},m(l,a){_(l,t,a),N(o,t,null),y(t,n),e=!0},p:h,i(l){e||(g(o.$$.fragment,l),e=!0)},o(l){$(o.$$.fragment,l),e=!1},d(l){l&&d(t),O(o)}}}function ae(r){let t,o,n,e=r[0].categories[r[1]].name+"",l,a,s,i,f,c={ctx:r,current:null,token:null,hasCatch:!1,pending:te,then:ee,catch:x,value:2,blocks:[,,,]};return E(i=r[0].streamed.books,c),{c(){t=k("div"),o=k("h2"),n=I("Bücher der Kategorie  "),l=I(e),a=M(),s=k("ul"),c.block.c(),this.h()},l(m){t=b(m,"DIV",{class:!0});var u=v(t);o=b(u,"H2",{});var p=v(o);n=S(p,"Bücher der Kategorie  "),l=S(p,e),p.forEach(d),u.forEach(d),a=T(m),s=b(m,"UL",{class:!0});var w=v(s);c.block.l(w),w.forEach(d),this.h()},h(){B(t,"class","px-2 m-2 border-2 "),B(s,"class","grid grid-cols-2 md:grid-cols-3 bg-gray-100")},m(m,u){_(m,t,u),y(t,o),y(o,n),y(o,l),_(m,a,u),_(m,s,u),c.block.m(s,c.anchor=null),c.mount=()=>s,c.anchor=null,f=!0},p(m,[u]){r=m,(!f||u&3)&&e!==(e=r[0].categories[r[1]].name+"")&&U(l,e),c.ctx=r,u&1&&i!==(i=r[0].streamed.books)&&E(i,c)||G(c,r,u)},i(m){f||(g(c.block),f=!0)},o(m){for(let u=0;u<3;u+=1){const p=c.blocks[u];$(p)}f=!1},d(m){m&&(d(t),d(a),d(s)),c.block.d(),c.token=null,c=null}}}function oe(r,t,o){let n,{data:e}=t;return r.$$set=l=>{"data"in l&&o(0,e=l.data)},r.$$.update=()=>{r.$$.dirty&1&&o(1,n=parseInt(e.data.catid)-1)},[e,n]}class de extends J{constructor(t){super(),Q(this,t,oe,ae,H,{data:0})}}export{de as component,me as universal};
