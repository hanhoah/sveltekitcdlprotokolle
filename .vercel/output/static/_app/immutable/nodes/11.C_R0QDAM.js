import{g as W,a as X,b as Y}from"../chunks/books.C4behfhn.js";import{g as Z}from"../chunks/categories.VNeXaOrY.js";import{s as x,e as k,a as M,t as j,o as ee,c as b,f as d,g as N,b as B,d as V,m as v,h as _,i as $,j as T,n as g,p as z,q as te}from"../chunks/scheduler.CzaLFZzx.js";import{h as A,u as ae}from"../chunks/await_block.DdT5Fn5c.js";import{e as F}from"../chunks/each.D6YF6ztN.js";import{S as oe,i as ne,t as D,b as C,g as le,e as re,c as G,a as J,m as Q,d as R}from"../chunks/index.C2gRMFDs.js";import{B as se}from"../chunks/book.BPTvf_Y4.js";import{S as ie}from"../chunks/Spinner.6YvIMwKj.js";async function ce({params:n}){const a=n.catid,o=await W(parseInt(a)),r=X(),e=o+" Bücher | cdl-protokolle.com",l=await Z(parseInt(a));return{data:{catid:a,catname:o,bookcategories:r,title:e,metaDescription:l},streamed:{books:Y(parseInt(a))}}}const Be=Object.freeze(Object.defineProperty({__proto__:null,load:ce},Symbol.toStringTag,{value:"Module"}));function H(n,a,o){const r=n.slice();return r[3]=a[o],r}function me(n){return{c:g,l:g,m:g,p:g,i:g,o:g,d:g}}function ue(n){let a,o,r=F(n[2]),e=[];for(let t=0;t<r.length;t+=1)e[t]=U(H(n,r,t));const l=t=>C(e[t],1,1,()=>{e[t]=null});return{c(){for(let t=0;t<e.length;t+=1)e[t].c();a=z()},l(t){for(let i=0;i<e.length;i+=1)e[i].l(t);a=z()},m(t,i){for(let s=0;s<e.length;s+=1)e[s]&&e[s].m(t,i);$(t,a,i),o=!0},p(t,i){if(i&1){r=F(t[2]);let s;for(s=0;s<r.length;s+=1){const p=H(t,r,s);e[s]?(e[s].p(p,i),D(e[s],1)):(e[s]=U(p),e[s].c(),D(e[s],1),e[s].m(a.parentNode,a))}for(le(),s=r.length;s<e.length;s+=1)l(s);re()}},i(t){if(!o){for(let i=0;i<r.length;i+=1)D(e[i]);o=!0}},o(t){e=e.filter(Boolean);for(let i=0;i<e.length;i+=1)C(e[i]);o=!1},d(t){t&&d(a),te(e,t)}}}function U(n){let a,o,r;return o=new se({props:{book:{slug:n[3].slug,id:n[3].id,title:n[3].title,img:n[3].img}}}),{c(){a=k("li"),G(o.$$.fragment),this.h()},l(e){a=b(e,"LI",{class:!0});var l=B(a);J(o.$$.fragment,l),l.forEach(d),this.h()},h(){v(a,"class","my-2")},m(e,l){$(e,a,l),Q(o,a,null),r=!0},p(e,l){const t={};l&1&&(t.book={slug:e[3].slug,id:e[3].id,title:e[3].title,img:e[3].img}),o.$set(t)},i(e){r||(D(o.$$.fragment,e),r=!0)},o(e){C(o.$$.fragment,e),r=!1},d(e){e&&d(a),R(o)}}}function de(n){let a,o,r,e;return o=new ie({}),{c(){a=k("div"),G(o.$$.fragment),r=j(`
            Loading Books ...`),this.h()},l(l){a=b(l,"DIV",{class:!0});var t=B(a);J(o.$$.fragment,t),r=V(t,`
            Loading Books ...`),t.forEach(d),this.h()},h(){v(a,"class","loading")},m(l,t){$(l,a,t),Q(o,a,null),_(a,r),e=!0},p:g,i(l){e||(D(o.$$.fragment,l),e=!0)},o(l){C(o.$$.fragment,l),e=!1},d(l){l&&d(a),R(o)}}}function fe(n){let a,o,r,e,l,t,i,s=n[0].categories[n[1]].name+"",p,q,I,E=n[0].data.metaDescription+"",S,w,f,L,h;document.title=a=n[0].data.title;let m={ctx:n,current:null,token:null,hasCatch:!1,pending:de,then:ue,catch:me,value:2,blocks:[,,,]};return A(L=n[0].streamed.books,m),{c(){o=k("meta"),e=M(),l=k("div"),t=k("h2"),i=j("Bücher der Kategorie  "),p=j(s),q=M(),I=k("div"),S=j(E),w=M(),f=k("ul"),m.block.c(),this.h()},l(u){const c=ee("svelte-1x4ga1y",document.head);o=b(c,"META",{name:!0,content:!0}),c.forEach(d),e=N(u),l=b(u,"DIV",{class:!0});var y=B(l);t=b(y,"H2",{});var K=B(t);i=V(K,"Bücher der Kategorie  "),p=V(K,s),K.forEach(d),q=N(y),I=b(y,"DIV",{});var O=B(I);S=V(O,E),O.forEach(d),y.forEach(d),w=N(u),f=b(u,"UL",{class:!0});var P=B(f);m.block.l(P),P.forEach(d),this.h()},h(){v(o,"name","description"),v(o,"content",r=n[0].data.metaDescription),v(l,"class","px-2 m-2 border-2 "),v(f,"class","grid grid-cols-2 md:grid-cols-3 bg-gray-100")},m(u,c){_(document.head,o),$(u,e,c),$(u,l,c),_(l,t),_(t,i),_(t,p),_(l,q),_(l,I),_(I,S),$(u,w,c),$(u,f,c),m.block.m(f,m.anchor=null),m.mount=()=>f,m.anchor=null,h=!0},p(u,[c]){n=u,(!h||c&1)&&a!==(a=n[0].data.title)&&(document.title=a),(!h||c&1&&r!==(r=n[0].data.metaDescription))&&v(o,"content",r),(!h||c&3)&&s!==(s=n[0].categories[n[1]].name+"")&&T(p,s),(!h||c&1)&&E!==(E=n[0].data.metaDescription+"")&&T(S,E),m.ctx=n,c&1&&L!==(L=n[0].streamed.books)&&A(L,m)||ae(m,n,c)},i(u){h||(D(m.block),h=!0)},o(u){for(let c=0;c<3;c+=1){const y=m.blocks[c];C(y)}h=!1},d(u){u&&(d(e),d(l),d(w),d(f)),d(o),m.block.d(),m.token=null,m=null}}}function he(n,a,o){let r,{data:e}=a;return n.$$set=l=>{"data"in l&&o(0,e=l.data)},n.$$.update=()=>{n.$$.dirty&1&&o(1,r=parseInt(e.data.catid)-1)},[e,r]}class De extends oe{constructor(a){super(),ne(this,a,he,fe,x,{data:0})}}export{De as component,Be as universal};
