import{h as y,u as z,S as A,g as Q,a as R,b as W,c as X}from"../chunks/books.BjRiXvPo.js";import{s as H,e as k,a as K,c as p,b,L as Y,g as F,f as u,l as $,i as _,h as v,n as m,m as M,t as E,d as w,j as T,o as N}from"../chunks/scheduler.TcPaG1AO.js";import{e as L}from"../chunks/each.D6YF6ztN.js";import{S as G,i as J,t as I,a as B,b as j,d as S,m as D,e as V,g as Z,c as x}from"../chunks/index.eDZ0B_bf.js";import{B as ee}from"../chunks/book.D_yoPbWw.js";function O(r,l,n){const a=r.slice();return a[2]=l[n],a}function te(r){return{c:m,l:m,m,p:m,i:m,o:m,d:m}}function le(r){let l,n=L(r[1]),a=[];for(let e=0;e<n.length;e+=1)a[e]=P(O(r,n,e));return{c(){l=k("ul");for(let e=0;e<a.length;e+=1)a[e].c()},l(e){l=p(e,"UL",{});var o=b(l);for(let t=0;t<a.length;t+=1)a[t].l(o);o.forEach(u)},m(e,o){_(e,l,o);for(let t=0;t<a.length;t+=1)a[t]&&a[t].m(l,null)},p(e,o){if(o&1){n=L(e[1]);let t;for(t=0;t<n.length;t+=1){const s=O(e,n,t);a[t]?a[t].p(s,o):(a[t]=P(s),a[t].c(),a[t].m(l,null))}for(;t<a.length;t+=1)a[t].d(1);a.length=n.length}},i:m,o:m,d(e){e&&u(l),M(a,e)}}}function P(r){let l,n,a=r[2].name+"",e,o;return{c(){l=k("li"),n=k("a"),e=E(a),this.h()},l(t){l=p(t,"LI",{});var s=b(l);n=p(s,"A",{href:!0});var i=b(n);e=w(i,a),i.forEach(u),s.forEach(u),this.h()},h(){$(n,"href",o="/buecher/cat/"+r[2].id)},m(t,s){_(t,l,s),v(l,n),v(n,e)},p(t,s){s&1&&a!==(a=t[2].name+"")&&T(e,a),s&1&&o!==(o="/buecher/cat/"+t[2].id)&&$(n,"href",o)},d(t){t&&u(l)}}}function ae(r){let l,n,a,e;return n=new A({}),{c(){l=k("div"),j(n.$$.fragment),a=E(`
            Loading Categories ...`),this.h()},l(o){l=p(o,"DIV",{class:!0});var t=b(l);S(n.$$.fragment,t),a=w(t,`
            Loading Categories ...`),t.forEach(u),this.h()},h(){$(l,"class","loading")},m(o,t){_(o,l,t),D(n,l,null),v(l,a),e=!0},p:m,i(o){e||(I(n.$$.fragment,o),e=!0)},o(o){B(n.$$.fragment,o),e=!1},d(o){o&&u(l),V(n)}}}function ne(r){let l,n,a="alle Kategorien:",e,o,t,s,i={ctx:r,current:null,token:null,hasCatch:!1,pending:ae,then:le,catch:te,value:1,blocks:[,,,]};return y(t=r[0],i),{c(){l=k("div"),n=k("div"),n.textContent=a,e=K(),o=k("div"),i.block.c(),this.h()},l(c){l=p(c,"DIV",{class:!0});var d=b(l);n=p(d,"DIV",{class:!0,"data-svelte-h":!0}),Y(n)!=="svelte-1xjjy2u"&&(n.textContent=a),e=F(d),o=p(d,"DIV",{class:!0});var f=b(o);i.block.l(f),f.forEach(u),d.forEach(u),this.h()},h(){$(n,"class","p-2 w-full mt-5 bg-teal-300 text-lg font-bold text-center"),$(o,"class","p-5 flex flex-row justify-center "),$(l,"class","bg-teal-100")},m(c,d){_(c,l,d),v(l,n),v(l,e),v(l,o),i.block.m(o,i.anchor=null),i.mount=()=>o,i.anchor=null,s=!0},p(c,[d]){r=c,i.ctx=r,d&1&&t!==(t=r[0])&&y(t,i)||z(i,r,d)},i(c){s||(I(i.block),s=!0)},o(c){for(let d=0;d<3;d+=1){const f=i.blocks[d];B(f)}s=!1},d(c){c&&u(l),i.block.d(),i.token=null,i=null}}}function oe(r,l,n){let{kategorien:a}=l;return r.$$set=e=>{"kategorien"in e&&n(0,a=e.kategorien)},[a]}class re extends G{constructor(l){super(),J(this,l,oe,ne,H,{kategorien:0})}}async function ie({params:r}){const l=r.catid,n=await Q(parseInt(l)),a=await R(parseInt(l)),e=W();return{data:{catid:l,catname:a,bookcategories:e},streamed:{books:X(n)}}}const pe=Object.freeze(Object.defineProperty({__proto__:null,load:ie},Symbol.toStringTag,{value:"Module"}));function U(r,l,n){const a=r.slice();return a[3]=l[n],a}function se(r){return{c:m,l:m,m,p:m,i:m,o:m,d:m}}function ce(r){let l,n,a=L(r[2]),e=[];for(let t=0;t<a.length;t+=1)e[t]=q(U(r,a,t));const o=t=>B(e[t],1,1,()=>{e[t]=null});return{c(){for(let t=0;t<e.length;t+=1)e[t].c();l=N()},l(t){for(let s=0;s<e.length;s+=1)e[s].l(t);l=N()},m(t,s){for(let i=0;i<e.length;i+=1)e[i]&&e[i].m(t,s);_(t,l,s),n=!0},p(t,s){if(s&1){a=L(t[2]);let i;for(i=0;i<a.length;i+=1){const c=U(t,a,i);e[i]?(e[i].p(c,s),I(e[i],1)):(e[i]=q(c),e[i].c(),I(e[i],1),e[i].m(l.parentNode,l))}for(Z(),i=a.length;i<e.length;i+=1)o(i);x()}},i(t){if(!n){for(let s=0;s<a.length;s+=1)I(e[s]);n=!0}},o(t){e=e.filter(Boolean);for(let s=0;s<e.length;s+=1)B(e[s]);n=!1},d(t){t&&u(l),M(e,t)}}}function q(r){let l,n,a;return n=new ee({props:{book:{id:r[3].id,title:r[3].title,img:r[3].img}}}),{c(){l=k("li"),j(n.$$.fragment),this.h()},l(e){l=p(e,"LI",{class:!0});var o=b(l);S(n.$$.fragment,o),o.forEach(u),this.h()},h(){$(l,"class","my-2")},m(e,o){_(e,l,o),D(n,l,null),a=!0},p(e,o){const t={};o&1&&(t.book={id:e[3].id,title:e[3].title,img:e[3].img}),n.$set(t)},i(e){a||(I(n.$$.fragment,e),a=!0)},o(e){B(n.$$.fragment,e),a=!1},d(e){e&&u(l),V(n)}}}function ue(r){let l,n,a,e;return n=new A({}),{c(){l=k("div"),j(n.$$.fragment),a=E(`
            Loading Books ...`),this.h()},l(o){l=p(o,"DIV",{class:!0});var t=b(l);S(n.$$.fragment,t),a=w(t,`
            Loading Books ...`),t.forEach(u),this.h()},h(){$(l,"class","loading")},m(o,t){_(o,l,t),D(n,l,null),v(l,a),e=!0},p:m,i(o){e||(I(n.$$.fragment,o),e=!0)},o(o){B(n.$$.fragment,o),e=!1},d(o){o&&u(l),V(n)}}}function fe(r){let l,n,a=r[0].categories[r[1]].name+"",e,o,t,s,i,c,d,f={ctx:r,current:null,token:null,hasCatch:!1,pending:ue,then:ce,catch:se,value:2,blocks:[,,,]};return y(s=r[0].streamed.books,f),c=new re({props:{kategorien:r[0].data.bookcategories}}),{c(){l=k("h2"),n=E("Bücher der Kategorie  "),e=E(a),o=K(),t=k("ul"),f.block.c(),i=K(),j(c.$$.fragment),this.h()},l(h){l=p(h,"H2",{});var g=b(l);n=w(g,"Bücher der Kategorie  "),e=w(g,a),g.forEach(u),o=F(h),t=p(h,"UL",{class:!0});var C=b(t);f.block.l(C),C.forEach(u),i=F(h),S(c.$$.fragment,h),this.h()},h(){$(t,"class","grid grid-cols-2 md:grid-cols-3 bg-gray-100")},m(h,g){_(h,l,g),v(l,n),v(l,e),_(h,o,g),_(h,t,g),f.block.m(t,f.anchor=null),f.mount=()=>t,f.anchor=null,_(h,i,g),D(c,h,g),d=!0},p(h,[g]){r=h,(!d||g&3)&&a!==(a=r[0].categories[r[1]].name+"")&&T(e,a),f.ctx=r,g&1&&s!==(s=r[0].streamed.books)&&y(s,f)||z(f,r,g);const C={};g&1&&(C.kategorien=r[0].data.bookcategories),c.$set(C)},i(h){d||(I(f.block),I(c.$$.fragment,h),d=!0)},o(h){for(let g=0;g<3;g+=1){const C=f.blocks[g];B(C)}B(c.$$.fragment,h),d=!1},d(h){h&&(u(l),u(o),u(t),u(i)),f.block.d(),f.token=null,f=null,V(c,h)}}}function he(r,l,n){let a,{data:e}=l;return console.log("catid ist ",a),r.$$set=o=>{"data"in o&&n(0,e=o.data)},r.$$.update=()=>{r.$$.dirty&1&&n(1,a=parseInt(e.data.catid)-1)},[e,a]}class be extends G{constructor(l){super(),J(this,l,he,fe,H,{data:0})}}export{be as component,pe as universal};
