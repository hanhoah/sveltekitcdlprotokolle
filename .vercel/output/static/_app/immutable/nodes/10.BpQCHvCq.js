import{s as ie}from"../chunks/supabaseClient.CCJhsT86.js";import{s as fe,e as g,a as M,t as Q,H as ue,o as me,c as d,f,g as T,b as A,d as W,r as _e,m as n,u as R,h,i as y,j as he,q as ge,n as te}from"../chunks/scheduler.CzaLFZzx.js";import{S as de,i as pe,c as X,a as Y,m as Z,t as H,e as be,b as C,d as x,g as ke}from"../chunks/index.C2gRMFDs.js";import{e as se}from"../chunks/each.D6YF6ztN.js";import{B as ee}from"../chunks/Button.rvaLcshS.js";import{g as $e}from"../chunks/getBookImg.B3agDJL6.js";import{n as oe}from"../chunks/nl2br.vwt-lStt.js";async function we(s){console.log("function getBookDetails",s);try{const{data:e}=await ie.from("books").select().eq("slug",s).limit(1).single();return{data:e}}catch{return{}}}async function ve(s){try{const{data:e}=await ie.from("booklinks").select("label, link").eq("book_id",s);return e}catch{return{}}}async function ye({params:s}){let e=s.bookId,{data:a}=await we(e),l=a.id;console.log("bookid ist ",l),console.log("data in page.ts ist ",a);const o=await ve(l);return{data:a,links:o}}const Ve=Object.freeze(Object.defineProperty({__proto__:null,load:ye},Symbol.toStringTag,{value:"Module"}));function re(s,e,a){const l=s.slice();return l[6]=e[a],l}function Ee(s){let e=s[6].label+"",a,l;return{c(){a=Q(e),l=Q(" ðŸ›’")},l(o){a=W(o,e),l=W(o," ðŸ›’")},m(o,i){y(o,a,i),y(o,l,i)},p:te,d(o){o&&(f(a),f(l))}}}function ne(s){let e,a,l;return a=new ee({props:{class:"text-lg mt-3",color:"green",$$slots:{default:[Ee]},$$scope:{ctx:s}}}),{c(){e=g("a"),X(a.$$.fragment),this.h()},l(o){e=d(o,"A",{href:!0,target:!0});var i=A(e);Y(a.$$.fragment,i),i.forEach(f),this.h()},h(){n(e,"href",s[6].link),n(e,"target","_blank")},m(o,i){y(o,e,i),Z(a,e,null),l=!0},p(o,i){const b={};i&512&&(b.$$scope={dirty:i,ctx:o}),a.$set(b)},i(o){l||(H(a.$$.fragment,o),l=!0)},o(o){C(a.$$.fragment,o),l=!1},d(o){o&&f(e),x(a)}}}function Ie(s){let e,a;return{c(){e=g("img"),this.h()},l(l){e=d(l,"IMG",{width:!0,alt:!0,src:!0}),this.h()},h(){n(e,"width","100"),n(e,"alt","Amazon Logo"),R(e.src,a="/images/logos/Amazon.de-Logo.svg.png")||n(e,"src",a)},m(l,o){y(l,e,o)},p:te,d(l){l&&f(e)}}}function Be(s){let e,a;return{c(){e=g("img"),this.h()},l(l){e=d(l,"IMG",{width:!0,alt:!0,src:!0}),this.h()},h(){n(e,"width","100"),n(e,"alt","Ebay Logo"),R(e.src,a="/images/logos/EBay_logo.png")||n(e,"src",a)},m(l,o){y(l,e,o)},p:te,d(l){l&&f(e)}}}function je(s){let e,a,l,o,i,b,$,m,w,G,U,q,S,L=oe(s[0])+"",J,p,F,E,I,O,K,B,j,P,_;document.title=e=s[2];let D=se(s[3]),c=[];for(let t=0;t<D.length;t+=1)c[t]=ne(re(s,D,t));const ce=t=>C(c[t],1,1,()=>{c[t]=null});return I=new ee({props:{class:"text-lg mt-3",color:"light",$$slots:{default:[Ie]},$$scope:{ctx:s}}}),j=new ee({props:{class:"text-lg mt-3",color:"light",$$slots:{default:[Be]},$$scope:{ctx:s}}}),{c(){a=g("meta"),l=M(),o=g("div"),i=g("img"),$=M(),m=g("div"),w=g("h2"),G=Q(s[2]),U=M(),q=g("div"),S=new ue(!1),J=M(),p=g("div");for(let t=0;t<c.length;t+=1)c[t].c();F=M(),E=g("a"),X(I.$$.fragment),K=M(),B=g("a"),X(j.$$.fragment),this.h()},l(t){const r=me("svelte-5raxrm",document.head);a=d(r,"META",{name:!0,content:!0}),r.forEach(f),l=T(t),o=d(t,"DIV",{class:!0});var k=A(o);i=d(k,"IMG",{class:!0,width:!0,alt:!0,src:!0}),k.forEach(f),$=T(t),m=d(t,"DIV",{class:!0});var v=A(m);w=d(v,"H2",{class:!0});var u=A(w);G=W(u,s[2]),u.forEach(f),U=T(v),q=d(v,"DIV",{class:!0});var V=A(q);S=_e(V,!1),V.forEach(f),J=T(v),p=d(v,"DIV",{class:!0});var z=A(p);for(let N=0;N<c.length;N+=1)c[N].l(z);F=T(z),E=d(z,"A",{href:!0,target:!0});var ae=A(E);Y(I.$$.fragment,ae),ae.forEach(f),K=T(z),B=d(z,"A",{href:!0,target:!0});var le=A(B);Y(j.$$.fragment,le),le.forEach(f),z.forEach(f),v.forEach(f),this.h()},h(){n(a,"name","description"),n(a,"content",s[0]),n(i,"class","py-10"),n(i,"width","400"),n(i,"alt",s[2]),R(i.src,b=s[1])||n(i,"src",b),n(o,"class","w-full flex flex-row bg-gray-100 justify-center"),n(w,"class","bg-yellow-300 p-2"),S.a=null,n(q,"class","p-5"),n(E,"href",O="https://www.amazon.de/gp/search?ie=UTF8&tag=jumex_online-21&linkCode=ur2&linkId=470bf27aa1feb315de9cb5f18b114f2f&camp=1638&creative=6742&index=books&keywords="+s[2]),n(E,"target","_blank"),n(B,"href",P="https://www.ebay.de/sch/i.html?_from=R40&_trksid=p4432023.m570.l1313&_nkw="+s[2]+"&_sacat=0"),n(B,"target","_blank"),n(p,"class","my-5 pb-10 flex flex-col items-center "),n(m,"class","bg-yellow-100")},m(t,r){h(document.head,a),y(t,l,r),y(t,o,r),h(o,i),y(t,$,r),y(t,m,r),h(m,w),h(w,G),h(m,U),h(m,q),S.m(L,q),h(m,J),h(m,p);for(let k=0;k<c.length;k+=1)c[k]&&c[k].m(p,null);h(p,F),h(p,E),Z(I,E,null),h(p,K),h(p,B),Z(j,B,null),_=!0},p(t,[r]){if((!_||r&4)&&e!==(e=t[2])&&(document.title=e),(!_||r&1)&&n(a,"content",t[0]),(!_||r&4)&&n(i,"alt",t[2]),(!_||r&2&&!R(i.src,b=t[1]))&&n(i,"src",b),(!_||r&4)&&he(G,t[2]),(!_||r&1)&&L!==(L=oe(t[0])+"")&&S.p(L),r&8){D=se(t[3]);let u;for(u=0;u<D.length;u+=1){const V=re(t,D,u);c[u]?(c[u].p(V,r),H(c[u],1)):(c[u]=ne(V),c[u].c(),H(c[u],1),c[u].m(p,F))}for(ke(),u=D.length;u<c.length;u+=1)ce(u);be()}const k={};r&512&&(k.$$scope={dirty:r,ctx:t}),I.$set(k),(!_||r&4&&O!==(O="https://www.amazon.de/gp/search?ie=UTF8&tag=jumex_online-21&linkCode=ur2&linkId=470bf27aa1feb315de9cb5f18b114f2f&camp=1638&creative=6742&index=books&keywords="+t[2]))&&n(E,"href",O);const v={};r&512&&(v.$$scope={dirty:r,ctx:t}),j.$set(v),(!_||r&4&&P!==(P="https://www.ebay.de/sch/i.html?_from=R40&_trksid=p4432023.m570.l1313&_nkw="+t[2]+"&_sacat=0"))&&n(B,"href",P)},i(t){if(!_){for(let r=0;r<D.length;r+=1)H(c[r]);H(I.$$.fragment,t),H(j.$$.fragment,t),_=!0}},o(t){c=c.filter(Boolean);for(let r=0;r<c.length;r+=1)C(c[r]);C(I.$$.fragment,t),C(j.$$.fragment,t),_=!1},d(t){t&&(f(l),f(o),f($),f(m)),f(a),ge(c,t),x(I),x(j)}}}function Ae(s,e,a){let l,o,i,b,{data:$}=e,m=$.links;return s.$$set=w=>{"data"in w&&a(4,$=w.data)},s.$$.update=()=>{s.$$.dirty&16&&a(5,l=$.data),s.$$.dirty&32&&a(2,o=l.title),s.$$.dirty&32&&a(1,i=$e(l.img[0],l.id,"books")),s.$$.dirty&32&&a(0,b=l.desc)},[b,i,o,m,$,l]}class Ce extends de{constructor(e){super(),pe(this,e,Ae,je,fe,{data:4})}}export{Ce as component,Ve as universal};
