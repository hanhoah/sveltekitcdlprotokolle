import{s as ct}from"../chunks/supabaseClient.CCJhsT86.js";import{d as gt,c as mt}from"../chunks/books.DUWMxUuU.js";import{b as _t,h as bt}from"../chunks/getHashtags.DsRrQDEt.js";import{s as me,p as A,i as p,f as u,u as K,R as ht,w as N,x as ee,e as y,c as w,b as z,a2 as kt,z as fe,C as ue,D as ce,E as de,v as pt,y as Ne,a as V,g as T,A as ze,h as v,B as vt,t as q,d as R,m as d,j as _e,I as Qe,J as We,_ as yt,H as wt,o as Et,r as It,l as Xe,T as Ce,n as B,q as Pe}from"../chunks/scheduler.DeroNCAe.js";import{h as se,u as Ae}from"../chunks/await_block.aeA-sEYK.js";import{e as ie}from"../chunks/each.D6YF6ztN.js";import{S as be,i as he,g as te,b as h,e as le,t as _,c as j,a as F,m as M,d as H,f as Ye}from"../chunks/index.B-He30dL.js";import{g as ge,a as De}from"../chunks/spread.CgU5AtxT.js";import{f as Bt,F as dt}from"../chunks/index.Dse97V2a.js";import{t as Le}from"../chunks/bundle-mjs.BTwrKG5i.js";import{B as Ct}from"../chunks/Button.BY3CSdr8.js";import{S as je}from"../chunks/Spinner.CGR2q5cp.js";import{g as zt,B as Lt}from"../chunks/book.DKQqplc1.js";const Dt=o=>({}),Ze=o=>({close:o[4]});function St(o){let e,r;const l=[o[5]];let t={$$slots:{default:[Tt]},$$scope:{ctx:o}};for(let a=0;a<l.length;a+=1)t=N(t,l[a]);return e=new dt({props:t}),{c(){j(e.$$.fragment)},l(a){F(e.$$.fragment,a)},m(a,n){M(e,a,n),r=!0},p(a,n){const s=n&32?ge(l,[De(a[5])]):{};n&128&&(s.$$scope={dirty:n,ctx:a}),e.$set(s)},i(a){r||(_(e.$$.fragment,a),r=!0)},o(a){h(e.$$.fragment,a),r=!1},d(a){H(e,a)}}}function Vt(o){let e,r,l=o[0]&&$e(o);return{c(){l&&l.c(),e=A()},l(t){l&&l.l(t),e=A()},m(t,a){l&&l.m(t,a),p(t,e,a),r=!0},p(t,a){t[0]?l?(l.p(t,a),a&1&&_(l,1)):(l=$e(t),l.c(),_(l,1),l.m(e.parentNode,e)):l&&(te(),h(l,1,1,()=>{l=null}),le())},i(t){r||(_(l),r=!0)},o(t){h(l),r=!1},d(t){t&&u(e),l&&l.d(t)}}}function Tt(o){let e;const r=o[6].default,l=fe(r,o,o[7],null);return{c(){l&&l.c()},l(t){l&&l.l(t)},m(t,a){l&&l.m(t,a),e=!0},p(t,a){l&&l.p&&(!e||a&128)&&ue(l,r,t,t[7],e?de(r,t[7],a,null):ce(t[7]),null)},i(t){e||(_(l,t),e=!0)},o(t){h(l,t),e=!1},d(t){l&&l.d(t)}}}function $e(o){let e,r,l,t;const a=[o[5]];let n={$$slots:{default:[At]},$$scope:{ctx:o}};for(let s=0;s<a.length;s+=1)n=N(n,a[s]);return r=new dt({props:n}),{c(){e=y("div"),j(r.$$.fragment)},l(s){e=w(s,"DIV",{});var i=z(e);F(r.$$.fragment,i),i.forEach(u)},m(s,i){p(s,e,i),M(r,e,null),t=!0},p(s,i){o=s;const f=i&32?ge(a,[De(o[5])]):{};i&128&&(f.$$scope={dirty:i,ctx:o}),r.$set(f)},i(s){t||(_(r.$$.fragment,s),s&&kt(()=>{t&&(l||(l=Ye(e,o[1],o[2],!0)),l.run(1))}),t=!0)},o(s){h(r.$$.fragment,s),s&&(l||(l=Ye(e,o[1],o[2],!1)),l.run(0)),t=!1},d(s){s&&u(e),H(r),s&&l&&l.end()}}}function At(o){let e;const r=o[6].default,l=fe(r,o,o[7],Ze);return{c(){l&&l.c()},l(t){l&&l.l(t)},m(t,a){l&&l.m(t,a),e=!0},p(t,a){l&&l.p&&(!e||a&128)&&ue(l,r,t,t[7],e?de(r,t[7],a,Dt):ce(t[7]),Ze)},i(t){e||(_(l,t),e=!0)},o(t){h(l,t),e=!1},d(t){l&&l.d(t)}}}function Nt(o){let e,r,l,t;const a=[Vt,St],n=[];function s(i,f){return i[3]?0:i[0]?1:-1}return~(e=s(o))&&(r=n[e]=a[e](o)),{c(){r&&r.c(),l=A()},l(i){r&&r.l(i),l=A()},m(i,f){~e&&n[e].m(i,f),p(i,l,f),t=!0},p(i,[f]){let c=e;e=s(i),e===c?~e&&n[e].p(i,f):(r&&(te(),h(n[c],1,1,()=>{n[c]=null}),le()),~e?(r=n[e],r?r.p(i,f):(r=n[e]=a[e](i),r.c()),_(r,1),r.m(l.parentNode,l)):r=null)},i(i){t||(_(r),t=!0)},o(i){h(r),t=!1},d(i){i&&u(l),~e&&n[e].d(i)}}}function Pt(o,e,r){const l=["transition","params","open","dismissable"];let t=K(e,l),{$$slots:a={},$$scope:n}=e,{transition:s=Bt}=e,{params:i={}}=e,{open:f=!0}=e,{dismissable:c=!1}=e;const k=ht();function m(g){g!=null&&g.stopPropagation&&g.stopPropagation(),r(0,f=!1)}return o.$$set=g=>{e=N(N({},e),ee(g)),r(5,t=K(e,l)),"transition"in g&&r(1,s=g.transition),"params"in g&&r(2,i=g.params),"open"in g&&r(0,f=g.open),"dismissable"in g&&r(3,c=g.dismissable),"$$scope"in g&&r(7,n=g.$$scope)},o.$$.update=()=>{o.$$.dirty&1&&k(f?"open":"close")},[f,s,i,c,m,t,a,n]}class jt extends be{constructor(e){super(),he(this,e,Pt,Nt,me,{transition:1,params:2,open:0,dismissable:3})}}const Ft=o=>({svgSize:o&4}),xe=o=>({svgSize:o[5][o[2]]}),Mt=o=>({svgSize:o&4}),et=o=>({svgSize:o[5][o[2]]});function Ht(o){let e,r,l,t,a,n,s=o[0]&&tt(o);const i=o[9].default,f=fe(i,o,o[8],xe);let c=[{type:"button"},o[6],{class:o[4]},{"aria-label":l=o[1]??o[0]}],k={};for(let m=0;m<c.length;m+=1)k=N(k,c[m]);return{c(){e=y("button"),s&&s.c(),r=V(),f&&f.c(),this.h()},l(m){e=w(m,"BUTTON",{type:!0,class:!0,"aria-label":!0});var g=z(e);s&&s.l(g),r=T(g),f&&f.l(g),g.forEach(u),this.h()},h(){ze(e,k)},m(m,g){p(m,e,g),s&&s.m(e,null),v(e,r),f&&f.m(e,null),e.autofocus&&e.focus(),t=!0,a||(n=vt(e,"click",o[10]),a=!0)},p(m,g){m[0]?s?s.p(m,g):(s=tt(m),s.c(),s.m(e,r)):s&&(s.d(1),s=null),f&&f.p&&(!t||g&260)&&ue(f,i,m,m[8],t?de(i,m[8],g,Ft):ce(m[8]),xe),ze(e,k=ge(c,[{type:"button"},g&64&&m[6],(!t||g&16)&&{class:m[4]},(!t||g&3&&l!==(l=m[1]??m[0]))&&{"aria-label":l}]))},i(m){t||(_(f,m),t=!0)},o(m){h(f,m),t=!1},d(m){m&&u(e),s&&s.d(),f&&f.d(m),a=!1,n()}}}function qt(o){let e,r,l,t,a=o[0]&&lt(o);const n=o[9].default,s=fe(n,o,o[8],et);let i=[{href:o[3]},o[6],{class:o[4]},{"aria-label":l=o[1]??o[0]}],f={};for(let c=0;c<i.length;c+=1)f=N(f,i[c]);return{c(){e=y("a"),a&&a.c(),r=V(),s&&s.c(),this.h()},l(c){e=w(c,"A",{href:!0,class:!0,"aria-label":!0});var k=z(e);a&&a.l(k),r=T(k),s&&s.l(k),k.forEach(u),this.h()},h(){ze(e,f)},m(c,k){p(c,e,k),a&&a.m(e,null),v(e,r),s&&s.m(e,null),t=!0},p(c,k){c[0]?a?a.p(c,k):(a=lt(c),a.c(),a.m(e,r)):a&&(a.d(1),a=null),s&&s.p&&(!t||k&260)&&ue(s,n,c,c[8],t?de(n,c[8],k,Mt):ce(c[8]),et),ze(e,f=ge(i,[(!t||k&8)&&{href:c[3]},k&64&&c[6],(!t||k&16)&&{class:c[4]},(!t||k&3&&l!==(l=c[1]??c[0]))&&{"aria-label":l}]))},i(c){t||(_(s,c),t=!0)},o(c){h(s,c),t=!1},d(c){c&&u(e),a&&a.d(),s&&s.d(c)}}}function tt(o){let e,r;return{c(){e=y("span"),r=q(o[0]),this.h()},l(l){e=w(l,"SPAN",{class:!0});var t=z(e);r=R(t,o[0]),t.forEach(u),this.h()},h(){d(e,"class","sr-only")},m(l,t){p(l,e,t),v(e,r)},p(l,t){t&1&&_e(r,l[0])},d(l){l&&u(e)}}}function lt(o){let e,r;return{c(){e=y("span"),r=q(o[0]),this.h()},l(l){e=w(l,"SPAN",{class:!0});var t=z(e);r=R(t,o[0]),t.forEach(u),this.h()},h(){d(e,"class","sr-only")},m(l,t){p(l,e,t),v(e,r)},p(l,t){t&1&&_e(r,l[0])},d(l){l&&u(e)}}}function Rt(o){let e,r,l,t;const a=[qt,Ht],n=[];function s(i,f){return i[3]?0:1}return e=s(o),r=n[e]=a[e](o),{c(){r.c(),l=A()},l(i){r.l(i),l=A()},m(i,f){n[e].m(i,f),p(i,l,f),t=!0},p(i,[f]){let c=e;e=s(i),e===c?n[e].p(i,f):(te(),h(n[c],1,1,()=>{n[c]=null}),le(),r=n[e],r?r.p(i,f):(r=n[e]=a[e](i),r.c()),_(r,1),r.m(l.parentNode,l))},i(i){t||(_(r),t=!0)},o(i){h(r),t=!1},d(i){i&&u(l),n[e].d(i)}}}function Ut(o,e,r){const l=["color","name","ariaLabel","size","href"];let t=K(e,l),{$$slots:a={},$$scope:n}=e;const s=pt("background");let{color:i="default"}=e,{name:f=void 0}=e,{ariaLabel:c=void 0}=e,{size:k="md"}=e,{href:m=void 0}=e;const g={dark:"text-gray-500 hover:text-gray-900 hover:bg-gray-200 dark:text-gray-400 dark:hover:text-white dark:hover:bg-gray-600",gray:"text-gray-500 focus:ring-gray-400 hover:bg-gray-200 dark:hover:bg-gray-800 dark:hover:text-gray-300",red:"text-red-500 focus:ring-red-400 hover:bg-red-200 dark:hover:bg-red-800 dark:hover:text-red-300",yellow:"text-yellow-500 focus:ring-yellow-400 hover:bg-yellow-200 dark:hover:bg-yellow-800 dark:hover:text-yellow-300",green:"text-green-500 focus:ring-green-400 hover:bg-green-200 dark:hover:bg-green-800 dark:hover:text-green-300",indigo:"text-indigo-500 focus:ring-indigo-400 hover:bg-indigo-200 dark:hover:bg-indigo-800 dark:hover:text-indigo-300",purple:"text-purple-500 focus:ring-purple-400 hover:bg-purple-200 dark:hover:bg-purple-800 dark:hover:text-purple-300",pink:"text-pink-500 focus:ring-pink-400 hover:bg-pink-200 dark:hover:bg-pink-800 dark:hover:text-pink-300",blue:"text-blue-500 focus:ring-blue-400 hover:bg-blue-200 dark:hover:bg-blue-800 dark:hover:text-blue-300",primary:"text-primary-500 focus:ring-primary-400 hover:bg-primary-200 dark:hover:bg-primary-800 dark:hover:text-primary-300",default:"focus:ring-gray-400"},Q={xs:"m-0.5 rounded-sm focus:ring-1 p-0.5",sm:"m-0.5 rounded focus:ring-1 p-0.5",md:"m-0.5 rounded-lg focus:ring-2 p-1.5",lg:"m-0.5 rounded-lg focus:ring-2 p-2.5"};let E;const re={xs:"w-3 h-3",sm:"w-3.5 h-3.5",md:"w-5 h-5",lg:"w-5 h-5"};function ae(I){Ne.call(this,o,I)}return o.$$set=I=>{r(14,e=N(N({},e),ee(I))),r(6,t=K(e,l)),"color"in I&&r(7,i=I.color),"name"in I&&r(0,f=I.name),"ariaLabel"in I&&r(1,c=I.ariaLabel),"size"in I&&r(2,k=I.size),"href"in I&&r(3,m=I.href),"$$scope"in I&&r(8,n=I.$$scope)},o.$$.update=()=>{r(4,E=Le("focus:outline-none whitespace-normal",Q[k],g[i],i==="default"&&(s?"hover:bg-gray-100 dark:hover:bg-gray-600":"hover:bg-gray-100 dark:hover:bg-gray-700"),e.class))},e=ee(e),[f,c,k,m,E,re,t,i,n,a,ae]}class Gt extends be{constructor(e){super(),he(this,e,Ut,Rt,me,{color:7,name:0,ariaLabel:1,size:2,href:3})}}function Ot(o){let e,r,l;return{c(){e=Qe("svg"),r=Qe("path"),this.h()},l(t){e=We(t,"svg",{class:!0,fill:!0,viewBox:!0,xmlns:!0});var a=z(e);r=We(a,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),z(r).forEach(u),a.forEach(u),this.h()},h(){d(r,"fill-rule","evenodd"),d(r,"d","M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"),d(r,"clip-rule","evenodd"),d(e,"class",l=o[4]),d(e,"fill","currentColor"),d(e,"viewBox","0 0 20 20"),d(e,"xmlns","http://www.w3.org/2000/svg")},m(t,a){p(t,e,a),v(e,r)},p(t,a){a&16&&l!==(l=t[4])&&d(e,"class",l)},d(t){t&&u(e)}}}function Jt(o){let e,r;const l=[{name:o[0]},o[1],{class:Le("ms-auto",o[2].class)}];let t={$$slots:{default:[Ot,({svgSize:a})=>({4:a}),({svgSize:a})=>a?16:0]},$$scope:{ctx:o}};for(let a=0;a<l.length;a+=1)t=N(t,l[a]);return e=new Gt({props:t}),e.$on("click",o[3]),{c(){j(e.$$.fragment)},l(a){F(e.$$.fragment,a)},m(a,n){M(e,a,n),r=!0},p(a,[n]){const s=n&7?ge(l,[n&1&&{name:a[0]},n&2&&De(a[1]),n&4&&{class:Le("ms-auto",a[2].class)}]):{};n&48&&(s.$$scope={dirty:n,ctx:a}),e.$set(s)},i(a){r||(_(e.$$.fragment,a),r=!0)},o(a){h(e.$$.fragment,a),r=!1},d(a){H(e,a)}}}function Kt(o,e,r){const l=["name"];let t=K(e,l),{name:a="Close"}=e;function n(s){Ne.call(this,o,s)}return o.$$set=s=>{r(2,e=N(N({},e),ee(s))),r(1,t=K(e,l)),"name"in s&&r(0,a=s.name)},e=ee(e),[a,t,e,n]}class Qt extends be{constructor(e){super(),he(this,e,Kt,Jt,me,{name:0})}}const Wt=o=>({close:o&8192}),rt=o=>({close:o[13]});function at(o){let e;const r=o[5]["close-button"],l=fe(r,o,o[7],rt),t=l||Xt(o);return{c(){t&&t.c()},l(a){t&&t.l(a)},m(a,n){t&&t.m(a,n),e=!0},p(a,n){l?l.p&&(!e||n&8320)&&ue(l,r,a,a[7],e?de(r,a[7],n,Wt):ce(a[7]),rt):t&&t.p&&(!e||n&8195)&&t.p(a,e?n:-1)},i(a){e||(_(t,a),e=!0)},o(a){h(t,a),e=!1},d(a){t&&t.d(a)}}}function Xt(o){let e,r;return e=new Qt({props:{color:o[0],size:o[1]?"sm":"xs",name:"Remove badge",class:"ms-1.5 -me-1.5"}}),e.$on("click",function(){yt(o[13])&&o[13].apply(this,arguments)}),{c(){j(e.$$.fragment)},l(l){F(e.$$.fragment,l)},m(l,t){M(e,l,t),r=!0},p(l,t){o=l;const a={};t&1&&(a.color=o[0]),t&2&&(a.size=o[1]?"sm":"xs"),e.$set(a)},i(l){r||(_(e.$$.fragment,l),r=!0)},o(l){h(e.$$.fragment,l),r=!1},d(l){H(e,l)}}}function Yt(o){let e,r,l;const t=o[5].default,a=fe(t,o,o[7],null);let n=o[2]&&at(o);return{c(){a&&a.c(),e=V(),n&&n.c(),r=A()},l(s){a&&a.l(s),e=T(s),n&&n.l(s),r=A()},m(s,i){a&&a.m(s,i),p(s,e,i),n&&n.m(s,i),p(s,r,i),l=!0},p(s,i){a&&a.p&&(!l||i&128)&&ue(a,t,s,s[7],l?de(t,s[7],i,null):ce(s[7]),null),s[2]?n?(n.p(s,i),i&4&&_(n,1)):(n=at(s),n.c(),_(n,1),n.m(r.parentNode,r)):n&&(te(),h(n,1,1,()=>{n=null}),le())},i(s){l||(_(a,s),_(n),l=!0)},o(s){h(a,s),h(n),l=!1},d(s){s&&(u(e),u(r)),a&&a.d(s),n&&n.d(s)}}}function Zt(o){let e,r;const l=[{dismissable:o[2]},o[4],{class:o[3]}];let t={$$slots:{default:[Yt,({close:a})=>({13:a}),({close:a})=>a?8192:0]},$$scope:{ctx:o}};for(let a=0;a<l.length;a+=1)t=N(t,l[a]);return e=new jt({props:t}),e.$on("close",o[6]),{c(){j(e.$$.fragment)},l(a){F(e.$$.fragment,a)},m(a,n){M(e,a,n),r=!0},p(a,[n]){const s=n&28?ge(l,[n&4&&{dismissable:a[2]},n&16&&De(a[4]),n&8&&{class:a[3]}]):{};n&8327&&(s.$$scope={dirty:n,ctx:a}),e.$set(s)},i(a){r||(_(e.$$.fragment,a),r=!0)},o(a){h(e.$$.fragment,a),r=!1},d(a){H(e,a)}}}const $t="font-medium inline-flex items-center justify-center px-2.5 py-0.5";function xt(o,e,r){const l=["color","large","dismissable"];let t=K(e,l),{$$slots:a={},$$scope:n}=e,{color:s="primary"}=e,{large:i=!1}=e,{dismissable:f=!1}=e;const c={primary:"bg-primary-100 text-primary-800 dark:bg-primary-900 dark:text-primary-300",blue:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300",dark:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",gray:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",red:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300",green:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",yellow:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300",indigo:"bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-300",purple:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300",pink:"bg-pink-100 text-pink-800 dark:bg-pink-900 dark:text-pink-300",none:""},k={primary:"bg-primary-100 text-primary-800 dark:bg-gray-700 dark:text-primary-400 border-primary-400 dark:border-primary-400",blue:"bg-blue-100 text-blue-800 dark:bg-gray-700 dark:text-blue-400 border-blue-400 dark:border-blue-400",dark:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-400 border-gray-500 dark:border-gray-500",red:"bg-red-100 text-red-800 dark:bg-gray-700 dark:text-red-400 border-red-400 dark:border-red-400",green:"bg-green-100 text-green-800 dark:bg-gray-700 dark:text-green-400 border-green-400 dark:border-green-400",yellow:"bg-yellow-100 text-yellow-800 dark:bg-gray-700 dark:text-yellow-300 border-yellow-300 dark:border-yellow-300",indigo:"bg-indigo-100 text-indigo-800 dark:bg-gray-700 dark:text-indigo-400 border-indigo-400 dark:border-indigo-400",purple:"bg-purple-100 text-purple-800 dark:bg-gray-700 dark:text-purple-400 border-purple-400 dark:border-purple-400",pink:"bg-pink-100 text-pink-800 dark:bg-gray-700 dark:text-pink-400 border-pink-400 dark:border-pink-400",none:""},m={primary:"hover:bg-primary-200",blue:"hover:bg-blue-200",dark:"hover:bg-gray-200",red:"hover:bg-red-200",green:"hover:bg-green-200",yellow:"hover:bg-yellow-200",indigo:"hover:bg-indigo-200",purple:"hover:bg-purple-200",pink:"hover:bg-pink-200",none:""};let g;function Q(E){Ne.call(this,o,E)}return o.$$set=E=>{r(12,e=N(N({},e),ee(E))),r(4,t=K(e,l)),"color"in E&&r(0,s=E.color),"large"in E&&r(1,i=E.large),"dismissable"in E&&r(2,f=E.dismissable),"$$scope"in E&&r(7,n=E.$$scope)},o.$$.update=()=>{r(3,g=Le($t,i?"text-sm":"text-xs",t.border?`border ${k[s]}`:c[s],t.href&&m[s],t.rounded?"rounded-full":"rounded",e.class))},e=ee(e),[s,i,f,g,t,a,Q,n]}class el extends be{constructor(e){super(),he(this,e,xt,Zt,me,{color:0,large:1,dismissable:2})}}async function tl(o){try{const{data:e}=await ct.from("books").select("*").eq("id",o).limit(1).single();return{data:e}}catch{return{}}}async function ll(o){try{const{data:e}=await ct.from("booklinks").select("label, link").eq("book_id",o);return e}catch{return{}}}async function rl({params:o}){let e=parseInt(o.bookId),{data:r}=await tl(e),l=await _t(e),t=await gt(l);return{data:r,streamed:{links:ll(e),similarBooks:mt(t),hashtags:bt(l)}}}const Sl=Object.freeze(Object.defineProperty({__proto__:null,load:rl},Symbol.toStringTag,{value:"Module"}));function ot(o,e,r){const l=o.slice();return l[6]=e[r],l}function nt(o,e,r){const l=o.slice();return l[10]=e[r],l}function st(o,e,r){const l=o.slice();return l[14]=e[r],l}function al(o){return{c:B,l:B,m:B,p:B,i:B,o:B,d:B}}function ol(o){let e,r,l=ie(o[13]),t=[];for(let n=0;n<l.length;n+=1)t[n]=it(st(o,l,n));const a=n=>h(t[n],1,1,()=>{t[n]=null});return{c(){for(let n=0;n<t.length;n+=1)t[n].c();e=A()},l(n){for(let s=0;s<t.length;s+=1)t[s].l(n);e=A()},m(n,s){for(let i=0;i<t.length;i+=1)t[i]&&t[i].m(n,s);p(n,e,s),r=!0},p(n,s){if(s&1){l=ie(n[13]);let i;for(i=0;i<l.length;i+=1){const f=st(n,l,i);t[i]?(t[i].p(f,s),_(t[i],1)):(t[i]=it(f),t[i].c(),_(t[i],1),t[i].m(e.parentNode,e))}for(te(),i=l.length;i<t.length;i+=1)a(i);le()}},i(n){if(!r){for(let s=0;s<l.length;s+=1)_(t[s]);r=!0}},o(n){t=t.filter(Boolean);for(let s=0;s<t.length;s+=1)h(t[s]);r=!1},d(n){n&&u(e),Pe(t,n)}}}function nl(o){let e=o[14].label+"",r,l;return{c(){r=q(e),l=q(" 🛒")},l(t){r=R(t,e),l=R(t," 🛒")},m(t,a){p(t,r,a),p(t,l,a)},p(t,a){a&1&&e!==(e=t[14].label+"")&&_e(r,e)},d(t){t&&(u(r),u(l))}}}function it(o){let e,r,l,t,a;return r=new Ct({props:{class:"text-lg mt-3",color:"green",$$slots:{default:[nl]},$$scope:{ctx:o}}}),{c(){e=y("a"),j(r.$$.fragment),l=V(),this.h()},l(n){e=w(n,"A",{href:!0,target:!0});var s=z(e);F(r.$$.fragment,s),l=T(s),s.forEach(u),this.h()},h(){d(e,"href",t=o[14].link),d(e,"target","_blank")},m(n,s){p(n,e,s),M(r,e,null),v(e,l),a=!0},p(n,s){const i={};s&131073&&(i.$$scope={dirty:s,ctx:n}),r.$set(i),(!a||s&1&&t!==(t=n[14].link))&&d(e,"href",t)},i(n){a||(_(r.$$.fragment,n),a=!0)},o(n){h(r.$$.fragment,n),a=!1},d(n){n&&u(e),H(r)}}}function sl(o){let e,r,l,t;return r=new je({}),{c(){e=y("div"),j(r.$$.fragment),l=q(`
                Loading Shops ...`),this.h()},l(a){e=w(a,"DIV",{class:!0});var n=z(e);F(r.$$.fragment,n),l=R(n,`
                Loading Shops ...`),n.forEach(u),this.h()},h(){d(e,"class","loading")},m(a,n){p(a,e,n),M(r,e,null),v(e,l),t=!0},p:B,i(a){t||(_(r.$$.fragment,a),t=!0)},o(a){h(r.$$.fragment,a),t=!1},d(a){a&&u(e),H(r)}}}function il(o){return{c:B,l:B,m:B,p:B,i:B,o:B,d:B}}function fl(o){let e,r,l=ie(o[9]),t=[];for(let n=0;n<l.length;n+=1)t[n]=ft(nt(o,l,n));const a=n=>h(t[n],1,1,()=>{t[n]=null});return{c(){for(let n=0;n<t.length;n+=1)t[n].c();e=A()},l(n){for(let s=0;s<t.length;s+=1)t[s].l(n);e=A()},m(n,s){for(let i=0;i<t.length;i+=1)t[i]&&t[i].m(n,s);p(n,e,s),r=!0},p(n,s){if(s&1){l=ie(n[9]);let i;for(i=0;i<l.length;i+=1){const f=nt(n,l,i);t[i]?(t[i].p(f,s),_(t[i],1)):(t[i]=ft(f),t[i].c(),_(t[i],1),t[i].m(e.parentNode,e))}for(te(),i=l.length;i<t.length;i+=1)a(i);le()}},i(n){if(!r){for(let s=0;s<l.length;s+=1)_(t[s]);r=!0}},o(n){t=t.filter(Boolean);for(let s=0;s<t.length;s+=1)h(t[s]);r=!1},d(n){n&&u(e),Pe(t,n)}}}function ul(o){let e,r=o[10].tag+"",l;return{c(){e=q("#"),l=q(r)},l(t){e=R(t,"#"),l=R(t,r)},m(t,a){p(t,e,a),p(t,l,a)},p(t,a){a&1&&r!==(r=t[10].tag+"")&&_e(l,r)},d(t){t&&(u(e),u(l))}}}function ft(o){let e,r;return e=new el({props:{class:"mx-3",border:!0,color:"yellow",$$slots:{default:[ul]},$$scope:{ctx:o}}}),{c(){j(e.$$.fragment)},l(l){F(e.$$.fragment,l)},m(l,t){M(e,l,t),r=!0},p(l,t){const a={};t&131073&&(a.$$scope={dirty:t,ctx:l}),e.$set(a)},i(l){r||(_(e.$$.fragment,l),r=!0)},o(l){h(e.$$.fragment,l),r=!1},d(l){H(e,l)}}}function cl(o){let e,r,l,t;return r=new je({}),{c(){e=y("div"),j(r.$$.fragment),l=q(`
                    Loading hashtags ...`),this.h()},l(a){e=w(a,"DIV",{class:!0});var n=z(e);F(r.$$.fragment,n),l=R(n,`
                    Loading hashtags ...`),n.forEach(u),this.h()},h(){d(e,"class","loading")},m(a,n){p(a,e,n),M(r,e,null),v(e,l),t=!0},p:B,i(a){t||(_(r.$$.fragment,a),t=!0)},o(a){h(r.$$.fragment,a),t=!1},d(a){a&&u(e),H(r)}}}function dl(o){return{c:B,l:B,m:B,p:B,i:B,o:B,d:B}}function gl(o){let e,r,l=ie(o[5]),t=[];for(let n=0;n<l.length;n+=1)t[n]=ut(ot(o,l,n));const a=n=>h(t[n],1,1,()=>{t[n]=null});return{c(){for(let n=0;n<t.length;n+=1)t[n].c();e=A()},l(n){for(let s=0;s<t.length;s+=1)t[s].l(n);e=A()},m(n,s){for(let i=0;i<t.length;i+=1)t[i]&&t[i].m(n,s);p(n,e,s),r=!0},p(n,s){if(s&1){l=ie(n[5]);let i;for(i=0;i<l.length;i+=1){const f=ot(n,l,i);t[i]?(t[i].p(f,s),_(t[i],1)):(t[i]=ut(f),t[i].c(),_(t[i],1),t[i].m(e.parentNode,e))}for(te(),i=l.length;i<t.length;i+=1)a(i);le()}},i(n){if(!r){for(let s=0;s<l.length;s+=1)_(t[s]);r=!0}},o(n){t=t.filter(Boolean);for(let s=0;s<t.length;s+=1)h(t[s]);r=!1},d(n){n&&u(e),Pe(t,n)}}}function ut(o){let e,r,l;return r=new Lt({props:{book:{id:o[6].id,title:o[6].title,img:o[6].img}}}),{c(){e=y("li"),j(r.$$.fragment),this.h()},l(t){e=w(t,"LI",{class:!0});var a=z(e);F(r.$$.fragment,a),a.forEach(u),this.h()},h(){d(e,"class","my-2")},m(t,a){p(t,e,a),M(r,e,null),l=!0},p(t,a){const n={};a&1&&(n.book={id:t[6].id,title:t[6].title,img:t[6].img}),r.$set(n)},i(t){l||(_(r.$$.fragment,t),l=!0)},o(t){h(r.$$.fragment,t),l=!1},d(t){t&&u(e),H(r)}}}function ml(o){let e,r,l,t;return r=new je({}),{c(){e=y("div"),j(r.$$.fragment),l=q(`
            Loading similar books ...`),this.h()},l(a){e=w(a,"DIV",{class:!0});var n=z(e);F(r.$$.fragment,n),l=R(n,`
            Loading similar books ...`),n.forEach(u),this.h()},h(){d(e,"class","loading")},m(a,n){p(a,e,n),M(r,e,null),v(e,l),t=!0},p:B,i(a){t||(_(r.$$.fragment,a),t=!0)},o(a){h(r.$$.fragment,a),t=!1},d(a){a&&u(e),H(r)}}}function _l(o){let e,r,l,t,a,n,s,i,f,c,k,m,g,Q,E,re,ae,I,W,Fe,ke,Se,O,X,Me,pe,ve,U,Y,He="Stichwörter:",Ve,Z,ye,we,G,$,qe="Ähnliche Bücher:",Te,x,Ee,P;document.title=e=o[3];let L={ctx:o,current:null,token:null,hasCatch:!1,pending:sl,then:ol,catch:al,value:13,blocks:[,,,]};se(re=o[0].streamed.links,L);let D={ctx:o,current:null,token:null,hasCatch:!1,pending:cl,then:fl,catch:il,value:9,blocks:[,,,]};se(ye=o[0].streamed.hashtags,D);let S={ctx:o,current:null,token:null,hasCatch:!1,pending:ml,then:gl,catch:dl,value:5,blocks:[,,,]};return se(Ee=o[0].streamed.similarBooks,S),{c(){r=y("meta"),l=V(),t=y("div"),a=y("img"),s=V(),i=y("div"),f=y("h2"),c=q(o[3]),k=V(),m=y("div"),g=new wt(!1),Q=V(),E=y("div"),L.block.c(),ae=V(),I=y("a"),W=y("img"),Se=V(),O=y("a"),X=y("img"),ve=V(),U=y("div"),Y=y("div"),Y.textContent=He,Ve=V(),Z=y("div"),D.block.c(),we=V(),G=y("div"),$=y("div"),$.textContent=qe,Te=V(),x=y("ul"),S.block.c(),this.h()},l(C){const b=Et("svelte-5raxrm",document.head);r=w(b,"META",{name:!0,content:!0}),b.forEach(u),l=T(C),t=w(C,"DIV",{class:!0});var J=z(t);a=w(J,"IMG",{class:!0,width:!0,alt:!0,src:!0}),J.forEach(u),s=T(C),i=w(C,"DIV",{class:!0});var oe=z(i);f=w(oe,"H2",{class:!0});var Re=z(f);c=R(Re,o[3]),Re.forEach(u),k=T(oe),m=w(oe,"DIV",{class:!0});var Ue=z(m);g=It(Ue,!1),Ue.forEach(u),Q=T(oe),E=w(oe,"DIV",{class:!0});var ne=z(E);L.block.l(ne),ae=T(ne),I=w(ne,"A",{href:!0,target:!0});var Ge=z(I);W=w(Ge,"IMG",{width:!0,alt:!0,src:!0}),Ge.forEach(u),Se=T(ne),O=w(ne,"A",{href:!0,target:!0});var Oe=z(O);X=w(Oe,"IMG",{width:!0,alt:!0,src:!0}),Oe.forEach(u),ne.forEach(u),oe.forEach(u),ve=T(C),U=w(C,"DIV",{class:!0});var Ie=z(U);Y=w(Ie,"DIV",{class:!0,"data-svelte-h":!0}),Xe(Y)!=="svelte-ooggy2"&&(Y.textContent=He),Ve=T(Ie),Z=w(Ie,"DIV",{class:!0});var Je=z(Z);D.block.l(Je),Je.forEach(u),Ie.forEach(u),we=T(C),G=w(C,"DIV",{class:!0});var Be=z(G);$=w(Be,"DIV",{class:!0,"data-svelte-h":!0}),Xe($)!=="svelte-nfoxyh"&&($.textContent=qe),Te=T(Be),x=w(Be,"UL",{class:!0});var Ke=z(x);S.block.l(Ke),Ke.forEach(u),Be.forEach(u),this.h()},h(){d(r,"name","description"),d(r,"content",o[1]),d(a,"class","py-10"),d(a,"width","400"),d(a,"alt",o[3]),Ce(a.src,n=o[2])||d(a,"src",n),d(t,"class","w-full flex flex-row bg-gray-100 justify-center"),d(f,"class","bg-yellow-300 p-2"),g.a=null,d(m,"class","p-5"),d(W,"width","100"),d(W,"alt","Amazon Logo"),Ce(W.src,Fe="/images/logos/Amazon.de-Logo.svg.png")||d(W,"src",Fe),d(I,"href",ke="https://www.amazon.de/gp/search?ie=UTF8&tag=jumex_online-21&linkCode=ur2&linkId=470bf27aa1feb315de9cb5f18b114f2f&camp=1638&creative=6742&index=books&keywords="+o[3]),d(I,"target","_blank"),d(X,"width","100"),d(X,"alt","Ebay Logo"),Ce(X.src,Me="/images/logos/EBay_logo.png")||d(X,"src",Me),d(O,"href",pe="https://www.ebay.de/sch/i.html?_from=R40&_trksid=p4432023.m570.l1313&_nkw="+o[3]+"&_sacat=0"),d(O,"target","_blank"),d(E,"class","my-5 pb-10 flex flex-col items-center "),d(i,"class","bg-yellow-100"),d(Y,"class","p-2 w-full mt-5 bg-teal-300 text-lg font-bold text-center"),d(Z,"class","p-5 flex flex-row justify-center "),d(U,"class","bg-teal-100"),d($,"class","w-full my-5 bg-lime-300 p-3 text-lg font-bold text-center"),d(x,"class","grid grid-cols-2 md:grid-cols-3"),d(G,"class","bg-lime-100")},m(C,b){v(document.head,r),p(C,l,b),p(C,t,b),v(t,a),p(C,s,b),p(C,i,b),v(i,f),v(f,c),v(i,k),v(i,m),g.m(o[1],m),v(i,Q),v(i,E),L.block.m(E,L.anchor=null),L.mount=()=>E,L.anchor=ae,v(E,ae),v(E,I),v(I,W),v(E,Se),v(E,O),v(O,X),p(C,ve,b),p(C,U,b),v(U,Y),v(U,Ve),v(U,Z),D.block.m(Z,D.anchor=null),D.mount=()=>Z,D.anchor=null,p(C,we,b),p(C,G,b),v(G,$),v(G,Te),v(G,x),S.block.m(x,S.anchor=null),S.mount=()=>x,S.anchor=null,P=!0},p(C,[b]){o=C,(!P||b&8)&&e!==(e=o[3])&&(document.title=e),(!P||b&2)&&d(r,"content",o[1]),(!P||b&8)&&d(a,"alt",o[3]),(!P||b&4&&!Ce(a.src,n=o[2]))&&d(a,"src",n),(!P||b&8)&&_e(c,o[3]),(!P||b&2)&&g.p(o[1]),L.ctx=o,b&1&&re!==(re=o[0].streamed.links)&&se(re,L)||Ae(L,o,b),(!P||b&8&&ke!==(ke="https://www.amazon.de/gp/search?ie=UTF8&tag=jumex_online-21&linkCode=ur2&linkId=470bf27aa1feb315de9cb5f18b114f2f&camp=1638&creative=6742&index=books&keywords="+o[3]))&&d(I,"href",ke),(!P||b&8&&pe!==(pe="https://www.ebay.de/sch/i.html?_from=R40&_trksid=p4432023.m570.l1313&_nkw="+o[3]+"&_sacat=0"))&&d(O,"href",pe),D.ctx=o,b&1&&ye!==(ye=o[0].streamed.hashtags)&&se(ye,D)||Ae(D,o,b),S.ctx=o,b&1&&Ee!==(Ee=o[0].streamed.similarBooks)&&se(Ee,S)||Ae(S,o,b)},i(C){P||(_(L.block),_(D.block),_(S.block),P=!0)},o(C){for(let b=0;b<3;b+=1){const J=L.blocks[b];h(J)}for(let b=0;b<3;b+=1){const J=D.blocks[b];h(J)}for(let b=0;b<3;b+=1){const J=S.blocks[b];h(J)}P=!1},d(C){C&&(u(l),u(t),u(s),u(i),u(ve),u(U),u(we),u(G)),u(r),L.block.d(),L.token=null,L=null,D.block.d(),D.token=null,D=null,S.block.d(),S.token=null,S=null}}}function bl(o,e,r){let l,t,a,n,{data:s}=e;return o.$$set=i=>{"data"in i&&r(0,s=i.data)},o.$$.update=()=>{o.$$.dirty&1&&r(4,l=s.data),o.$$.dirty&16&&r(3,t=l.title),o.$$.dirty&16&&r(2,a=zt(l.img[0],l.id,"books")),o.$$.dirty&16&&r(1,n=l.desc)},[s,n,a,t,l]}class Vl extends be{constructor(e){super(),he(this,e,bl,_l,me,{data:0})}}export{Vl as component,Sl as universal};
