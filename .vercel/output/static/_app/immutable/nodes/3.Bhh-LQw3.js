import{s as Q}from"../chunks/supabaseClient.CCJhsT86.js";import{s as R,e as k,a as V,c as z,b as w,l as ee,g as M,f,m as $,i as E,h as g,n as L,q as X,U as te,t as D,d as I,j as A,D as ae,o as ne,G as le,I as re,J as se}from"../chunks/scheduler.CzaLFZzx.js";import{S as Y,i as Z,c as ie,a as oe,m as ce,t as B,b as F,d as ue}from"../chunks/index.C2gRMFDs.js";import{e as H}from"../chunks/each.D6YF6ztN.js";import{g as de}from"../chunks/getHashtags.DSo7Yvht.js";let K=null;async function he(){if(!K){console.log("getting Categories from supabase");const{data:s}=await Q.from("productcategories").select("*").order("name");return console.log("speichere Katgorien im Cache um zukünftige Anfragen zu beschleunigen"),K=s,s}return console.log("Getting Categories from Cache"),K}console.log("Produkt Layout wird initialisiert...");async function fe(){const{count:s}=await Q.from("products").select("*",{count:"exact",head:!0}),e=await he();return{count:s,categories:e}}const Ee=Object.freeze(Object.defineProperty({__proto__:null,load:fe},Symbol.toStringTag,{value:"Module"}));function U(s,e,t){const n=s.slice();return n[2]=e[t].tag,n[3]=e[t].anzahl,n[4]=e[t].hashtag_id,n}function W(s){let e,t,n=s[2]+"",c,d,u=s[3]+"",l,a,o,i;return{c(){e=k("a"),t=k("div"),c=D(n),d=D(" ("),l=D(u),a=D(")"),o=V(),this.h()},l(h){e=z(h,"A",{href:!0});var v=w(e);t=z(v,"DIV",{class:!0});var P=w(t);c=I(P,n),d=I(P," ("),l=I(P,u),a=I(P,")"),P.forEach(f),o=M(v),v.forEach(f),this.h()},h(){$(t,"class","border-2 mt-1 md:p-1 md:m-1 bg-red-50 border-red-300"),$(e,"href",i="/produkte/hashtag/"+s[4])},m(h,v){E(h,e,v),g(e,t),g(t,c),g(t,d),g(t,l),g(t,a),g(e,o)},p(h,v){v&1&&n!==(n=h[2]+"")&&A(c,n),v&1&&u!==(u=h[3]+"")&&A(l,u),v&1&&i!==(i="/produkte/hashtag/"+h[4])&&$(e,"href",i)},d(h){h&&f(e)}}}function _e(s){let e,t,n="Nicht das passende Produkt gefunden? Wähle einen der folgenden beliebten Hashtags:",c,d,u=H(s[0]),l=[];for(let a=0;a<u.length;a+=1)l[a]=W(U(s,u,a));return{c(){e=k("div"),t=k("h2"),t.textContent=n,c=V(),d=k("div");for(let a=0;a<l.length;a+=1)l[a].c();this.h()},l(a){e=z(a,"DIV",{class:!0});var o=w(e);t=z(o,"H2",{"data-svelte-h":!0}),ee(t)!=="svelte-1dglh44"&&(t.textContent=n),c=M(o),d=z(o,"DIV",{class:!0});var i=w(d);for(let h=0;h<l.length;h+=1)l[h].l(i);i.forEach(f),o.forEach(f),this.h()},h(){$(d,"class","col columns-3 md:columns-6 text-xs"),$(e,"class","bg-red-200 mt-10 p-3")},m(a,o){E(a,e,o),g(e,t),g(e,c),g(e,d);for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(d,null)},p(a,[o]){if(o&1){u=H(a[0]);let i;for(i=0;i<u.length;i+=1){const h=U(a,u,i);l[i]?l[i].p(h,o):(l[i]=W(h),l[i].c(),l[i].m(d,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=u.length}},i:L,o:L,d(a){a&&f(e),X(l,a)}}}function ge(s,e,t){let n=[];async function c(){try{t(0,n=await de(3))}catch(d){console.error("Fehler beim Laden der Top-Hashtags:",d.message)}}return te(c),[n]}class me extends Y{constructor(e){super(),Z(this,e,ge,_e,R,{})}}function J(s,e,t){const n=s.slice();return n[3]=e[t],n}function ve(s){let e=s[3].name+"",t;return{c(){t=D(e)},l(n){t=I(n,e)},m(n,c){E(n,t,c)},p(n,c){c&1&&e!==(e=n[3].name+"")&&A(t,e)},d(n){n&&f(t)}}}function pe(s){let e;return{c(){e=D("Öle")},l(t){e=I(t,"Öle")},m(t,n){E(t,e,n)},p:L,d(t){t&&f(e)}}}function x(s){let e,t,n,c;function d(a,o){return a[3].name==="Oele"?pe:ve}let u=d(s),l=u(s);return{c(){e=k("a"),t=k("div"),l.c(),n=V(),this.h()},l(a){e=z(a,"A",{href:!0});var o=w(e);t=z(o,"DIV",{class:!0});var i=w(t);l.l(i),i.forEach(f),n=M(o),o.forEach(f),this.h()},h(){$(t,"class","w-full p-1 text-xs bg-green-100 hover:bg-yellow-300"),$(e,"href",c="/produkte/cat/"+s[3].category_id)},m(a,o){E(a,e,o),g(e,t),l.m(t,null),g(e,n)},p(a,o){u===(u=d(a))&&l?l.p(a,o):(l.d(1),l=u(a),l&&(l.c(),l.m(t,null))),o&1&&c!==(c="/produkte/cat/"+a[3].category_id)&&$(e,"href",c)},d(a){a&&f(e),l.d()}}}function be(s){let e,t,n,c=s[0].count+"",d,u,l,a,o,i,h,v,P,S,C,T=H(s[0].categories),m=[];for(let r=0;r<T.length;r+=1)m[r]=x(J(s,T,r));const j=s[2].default,p=ae(j,s,s[1],null);return S=new me({}),{c(){e=k("meta"),t=V(),n=k("div"),d=D(c),u=D(" Produkte in der Datenbank gefunden. Bitte wählen Sie eine Kategorie aus um Ihr Produkt schneller zu finden."),l=V(),a=k("div"),o=k("div"),i=k("nav"),h=k("div");for(let r=0;r<m.length;r+=1)m[r].c();v=V(),p&&p.c(),P=V(),ie(S.$$.fragment),this.h()},l(r){const b=ne("svelte-tpw4bw",document.head);e=z(b,"META",{name:!0,content:!0}),b.forEach(f),t=M(r),n=z(r,"DIV",{class:!0});var _=w(n);d=I(_,c),u=I(_," Produkte in der Datenbank gefunden. Bitte wählen Sie eine Kategorie aus um Ihr Produkt schneller zu finden."),_.forEach(f),l=M(r),a=z(r,"DIV",{class:!0});var y=w(a);o=z(y,"DIV",{});var N=w(o);i=z(N,"NAV",{});var O=w(i);h=z(O,"DIV",{class:!0});var q=w(h);for(let G=0;G<m.length;G+=1)m[G].l(q);q.forEach(f),O.forEach(f),N.forEach(f),v=M(y),p&&p.l(y),P=M(y),oe(S.$$.fragment,y),y.forEach(f),this.h()},h(){document.title="Produkte der alternativen Medizin - Die Preis und Suchmaschine für alternative Medizin.",$(e,"name","description"),$(e,"content","Entdecken Sie eine Vielzahl natürlicher Produkte der alternativen Medizin und vergleichen Sie Preise mit unserer Preisvergleichs-Maschine. Unsere Produktgruppe bietet eine breite Auswahl an alternativen Naturprodukten, die darauf abzielen, die Gesundheit auf ganzheitliche Weise zu unterstützen, ohne auf pharmazeutische Medikamente zurückzugreifen. Finden Sie die besten Angebote für alternative Medizinprodukte und nutzen Sie unsere Plattform für transparente Preisvergleiche."),$(n,"class","w-full p-3 text-xs bg-yellow-200 hover:bg-lime-300"),$(h,"class","grid grid-cols-4 md:grid-cols-6 m-5 gap-3 "),$(a,"class","mb-5")},m(r,b){g(document.head,e),E(r,t,b),E(r,n,b),g(n,d),g(n,u),E(r,l,b),E(r,a,b),g(a,o),g(o,i),g(i,h);for(let _=0;_<m.length;_+=1)m[_]&&m[_].m(h,null);g(a,v),p&&p.m(a,null),g(a,P),ce(S,a,null),C=!0},p(r,[b]){if((!C||b&1)&&c!==(c=r[0].count+"")&&A(d,c),b&1){T=H(r[0].categories);let _;for(_=0;_<T.length;_+=1){const y=J(r,T,_);m[_]?m[_].p(y,b):(m[_]=x(y),m[_].c(),m[_].m(h,null))}for(;_<m.length;_+=1)m[_].d(1);m.length=T.length}p&&p.p&&(!C||b&2)&&le(p,j,r,r[1],C?se(j,r[1],b,null):re(r[1]),null)},i(r){C||(B(p,r),B(S.$$.fragment,r),C=!0)},o(r){F(p,r),F(S.$$.fragment,r),C=!1},d(r){r&&(f(t),f(n),f(l),f(a)),f(e),X(m,r),p&&p.d(r),ue(S)}}}function ke(s,e,t){let{$$slots:n={},$$scope:c}=e,{data:d}=e;return s.$$set=u=>{"data"in u&&t(0,d=u.data),"$$scope"in u&&t(1,c=u.$$scope)},[d,c,n]}class De extends Y{constructor(e){super(),Z(this,e,ke,be,R,{data:0})}}export{De as component,Ee as universal};
