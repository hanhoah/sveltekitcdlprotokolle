import{s as q}from"../chunks/supabaseClient.-wfdu3WJ.js";import{a as O}from"../chunks/getHashtags.Beph7Bi3.js";import{s as T,e as p,t as H,a as $,c as v,b as y,d as B,f,g as E,l as b,i as P,h as g,j as z,o as A,H as C,q as F}from"../chunks/scheduler.DfuChs2G.js";import{S as M,i as G,t as k,c as J,a as S,b as K,d as L,m as Q,e as R,g as U}from"../chunks/index.BnyCCVNm.js";import{e as j}from"../chunks/each.D6YF6ztN.js";import{g as D,P as W}from"../chunks/shops.Dfb--GkT.js";async function X(r){console.log("getProductsByName",r);const{data:e,error:o}=await q.from("products").select("*").ilike("name","%"+r+"%").order("name");if(o)console.log("Fehler beim Abrufen getProductsByName");else return e}async function Y({params:r}){console.log("hashtags:");let e=[];const o=r.tag,{tag:c}=await O(o);e=await X(c);const u=e==null?void 0:e.length;return{hashtag:c,length:u,products:e}}const le=Object.freeze(Object.defineProperty({__proto__:null,load:Y},Symbol.toStringTag,{value:"Module"}));function I(r,e,o){const c=r.slice();return c[3]=e[o],c}function N(r){let e,o,c=D(r[3].id)+"",u,m,h,d;return m=new W({props:{product:{id:r[3].id,name:r[3].name,img:r[3].image}}}),{c(){e=p("div"),o=new C(!1),u=$(),K(m.$$.fragment),h=$(),this.h()},l(l){e=v(l,"DIV",{class:!0});var n=y(e);o=F(n,!1),u=E(n),L(m.$$.fragment,n),h=E(n),n.forEach(f),this.h()},h(){o.a=u,b(e,"class","my-2 relative")},m(l,n){P(l,e,n),o.m(c,e),g(e,u),Q(m,e,null),g(e,h),d=!0},p(l,n){(!d||n&1)&&c!==(c=D(l[3].id)+"")&&o.p(c);const a={};n&1&&(a.product={id:l[3].id,name:l[3].name,img:l[3].image}),m.$set(a)},i(l){d||(k(m.$$.fragment,l),d=!0)},o(l){S(m.$$.fragment,l),d=!1},d(l){l&&f(e),R(m)}}}function Z(r){let e,o,c,u,m,h,d,l,n=j(r[0]),a=[];for(let t=0;t<n.length;t+=1)a[t]=N(I(r,n,t));const V=t=>S(a[t],1,1,()=>{a[t]=null});return{c(){e=p("div"),o=p("h2"),c=H("Produkte mit dem Hashtag "),u=H(r[1]),m=H(" gefunden."),h=$(),d=p("div");for(let t=0;t<a.length;t+=1)a[t].c();this.h()},l(t){e=v(t,"DIV",{class:!0});var i=y(e);o=v(i,"H2",{class:!0});var s=y(o);c=B(s,"Produkte mit dem Hashtag "),u=B(s,r[1]),m=B(s," gefunden."),s.forEach(f),i.forEach(f),h=E(t),d=v(t,"DIV",{class:!0});var _=y(d);for(let w=0;w<a.length;w+=1)a[w].l(_);_.forEach(f),this.h()},h(){b(o,"class","text-center my-5 p-2"),b(e,"class","w-full"),b(d,"class","grid grid-cols-2 md:grid-cols-3")},m(t,i){P(t,e,i),g(e,o),g(o,c),g(o,u),g(o,m),P(t,h,i),P(t,d,i);for(let s=0;s<a.length;s+=1)a[s]&&a[s].m(d,null);l=!0},p(t,[i]){if((!l||i&2)&&z(u,t[1]),i&1){n=j(t[0]);let s;for(s=0;s<n.length;s+=1){const _=I(t,n,s);a[s]?(a[s].p(_,i),k(a[s],1)):(a[s]=N(_),a[s].c(),k(a[s],1),a[s].m(d,null))}for(U(),s=n.length;s<a.length;s+=1)V(s);J()}},i(t){if(!l){for(let i=0;i<n.length;i+=1)k(a[i]);l=!0}},o(t){a=a.filter(Boolean);for(let i=0;i<a.length;i+=1)S(a[i]);l=!1},d(t){t&&(f(e),f(h),f(d)),A(a,t)}}}function x(r,e,o){let c,u,{data:m}=e;return r.$$set=h=>{"data"in h&&o(2,m=h.data)},r.$$.update=()=>{r.$$.dirty&4&&o(1,c=m.hashtag),r.$$.dirty&4&&o(0,u=m.products)},[u,c,m]}class ne extends M{constructor(e){super(),G(this,e,x,Z,T,{data:2})}}export{ne as component,le as universal};
