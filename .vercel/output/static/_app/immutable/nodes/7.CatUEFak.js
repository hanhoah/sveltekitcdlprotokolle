import{g as P,a as V,b as q,c as z,S as H}from"../chunks/books.aWT9B0oQ.js";import{s as M,e as k,t as I,a as T,c as b,b as v,d as S,f as m,g as U,l as B,i as _,h as y,j as A,n as h,m as C,o as G}from"../chunks/scheduler.DV3wrT91.js";import{h as E,u as J}from"../chunks/await_block.DhpAazeM.js";import{e as L}from"../chunks/each.D6YF6ztN.js";import{S as Q,i as R,t as g,a as $,g as W,c as X,b as F,d as K,m as N,e as O}from"../chunks/index.D0GblgS9.js";import{B as Y}from"../chunks/book.DHbXXHTS.js";async function Z({params:n}){const t=n.catid,o=await P(parseInt(t)),r=await V(parseInt(t)),e=q();return{data:{catid:t,catname:r,bookcategories:e},streamed:{books:z(o)}}}const ue=Object.freeze(Object.defineProperty({__proto__:null,load:Z},Symbol.toStringTag,{value:"Module"}));function j(n,t,o){const r=n.slice();return r[3]=t[o],r}function x(n){return{c:h,l:h,m:h,p:h,i:h,o:h,d:h}}function ee(n){let t,o,r=L(n[2]),e=[];for(let a=0;a<r.length;a+=1)e[a]=D(j(n,r,a));const l=a=>$(e[a],1,1,()=>{e[a]=null});return{c(){for(let a=0;a<e.length;a+=1)e[a].c();t=C()},l(a){for(let s=0;s<e.length;s+=1)e[s].l(a);t=C()},m(a,s){for(let i=0;i<e.length;i+=1)e[i]&&e[i].m(a,s);_(a,t,s),o=!0},p(a,s){if(s&1){r=L(a[2]);let i;for(i=0;i<r.length;i+=1){const f=j(a,r,i);e[i]?(e[i].p(f,s),g(e[i],1)):(e[i]=D(f),e[i].c(),g(e[i],1),e[i].m(t.parentNode,t))}for(W(),i=r.length;i<e.length;i+=1)l(i);X()}},i(a){if(!o){for(let s=0;s<r.length;s+=1)g(e[s]);o=!0}},o(a){e=e.filter(Boolean);for(let s=0;s<e.length;s+=1)$(e[s]);o=!1},d(a){a&&m(t),G(e,a)}}}function D(n){let t,o,r;return o=new Y({props:{book:{id:n[3].id,title:n[3].title,img:n[3].img}}}),{c(){t=k("li"),F(o.$$.fragment),this.h()},l(e){t=b(e,"LI",{class:!0});var l=v(t);K(o.$$.fragment,l),l.forEach(m),this.h()},h(){B(t,"class","my-2")},m(e,l){_(e,t,l),N(o,t,null),r=!0},p(e,l){const a={};l&1&&(a.book={id:e[3].id,title:e[3].title,img:e[3].img}),o.$set(a)},i(e){r||(g(o.$$.fragment,e),r=!0)},o(e){$(o.$$.fragment,e),r=!1},d(e){e&&m(t),O(o)}}}function te(n){let t,o,r,e;return o=new H({}),{c(){t=k("div"),F(o.$$.fragment),r=I(`
            Loading Books ...`),this.h()},l(l){t=b(l,"DIV",{class:!0});var a=v(t);K(o.$$.fragment,a),r=S(a,`
            Loading Books ...`),a.forEach(m),this.h()},h(){B(t,"class","loading")},m(l,a){_(l,t,a),N(o,t,null),y(t,r),e=!0},p:h,i(l){e||(g(o.$$.fragment,l),e=!0)},o(l){$(o.$$.fragment,l),e=!1},d(l){l&&m(t),O(o)}}}function ae(n){let t,o,r,e=n[0].categories[n[1]].name+"",l,a,s,i,f,c={ctx:n,current:null,token:null,hasCatch:!1,pending:te,then:ee,catch:x,value:2,blocks:[,,,]};return E(i=n[0].streamed.books,c),{c(){t=k("div"),o=k("h2"),r=I("Bücher der Kategorie  "),l=I(e),a=T(),s=k("ul"),c.block.c(),this.h()},l(d){t=b(d,"DIV",{class:!0});var u=v(t);o=b(u,"H2",{});var p=v(o);r=S(p,"Bücher der Kategorie  "),l=S(p,e),p.forEach(m),u.forEach(m),a=U(d),s=b(d,"UL",{class:!0});var w=v(s);c.block.l(w),w.forEach(m),this.h()},h(){B(t,"class","px-2 m-2 border-2 "),B(s,"class","grid grid-cols-2 md:grid-cols-3 bg-gray-100")},m(d,u){_(d,t,u),y(t,o),y(o,r),y(o,l),_(d,a,u),_(d,s,u),c.block.m(s,c.anchor=null),c.mount=()=>s,c.anchor=null,f=!0},p(d,[u]){n=d,(!f||u&3)&&e!==(e=n[0].categories[n[1]].name+"")&&A(l,e),c.ctx=n,u&1&&i!==(i=n[0].streamed.books)&&E(i,c)||J(c,n,u)},i(d){f||(g(c.block),f=!0)},o(d){for(let u=0;u<3;u+=1){const p=c.blocks[u];$(p)}f=!1},d(d){d&&(m(t),m(a),m(s)),c.block.d(),c.token=null,c=null}}}function oe(n,t,o){let r,{data:e}=t;return n.$$set=l=>{"data"in l&&o(0,e=l.data)},n.$$.update=()=>{n.$$.dirty&1&&o(1,r=parseInt(e.data.catid)-1)},[e,r]}class de extends Q{constructor(t){super(),R(this,t,oe,ae,M,{data:0})}}export{de as component,ue as universal};
