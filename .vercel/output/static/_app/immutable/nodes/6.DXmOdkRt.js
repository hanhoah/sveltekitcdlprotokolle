import{g as P,a as V,b as q,c as z,S as H}from"../chunks/books.CCO5EhU-.js";import{s as M,e as k,t as I,a as T,c as b,b as v,d as S,f as m,g as U,l as B,i as _,h as y,j as A,n as h,m as C,o as G}from"../chunks/scheduler.jvn8LQ5B.js";import{h as E,u as J,B as Q}from"../chunks/book.rskBzMTG.js";import{e as L}from"../chunks/each.D6YF6ztN.js";import{S as R,i as W,t as g,a as $,g as X,c as Y,b as F,d as K,m as N,e as O}from"../chunks/index.GOpXVyBW.js";async function Z({params:l}){const t=l.catid,o=await P(parseInt(t)),n=await V(parseInt(t)),e=q();return{data:{catid:t,catname:n,bookcategories:e},streamed:{books:z(o)}}}const ce=Object.freeze(Object.defineProperty({__proto__:null,load:Z},Symbol.toStringTag,{value:"Module"}));function j(l,t,o){const n=l.slice();return n[3]=t[o],n}function x(l){return{c:h,l:h,m:h,p:h,i:h,o:h,d:h}}function ee(l){let t,o,n=L(l[2]),e=[];for(let a=0;a<n.length;a+=1)e[a]=D(j(l,n,a));const r=a=>$(e[a],1,1,()=>{e[a]=null});return{c(){for(let a=0;a<e.length;a+=1)e[a].c();t=C()},l(a){for(let s=0;s<e.length;s+=1)e[s].l(a);t=C()},m(a,s){for(let i=0;i<e.length;i+=1)e[i]&&e[i].m(a,s);_(a,t,s),o=!0},p(a,s){if(s&1){n=L(a[2]);let i;for(i=0;i<n.length;i+=1){const f=j(a,n,i);e[i]?(e[i].p(f,s),g(e[i],1)):(e[i]=D(f),e[i].c(),g(e[i],1),e[i].m(t.parentNode,t))}for(X(),i=n.length;i<e.length;i+=1)r(i);Y()}},i(a){if(!o){for(let s=0;s<n.length;s+=1)g(e[s]);o=!0}},o(a){e=e.filter(Boolean);for(let s=0;s<e.length;s+=1)$(e[s]);o=!1},d(a){a&&m(t),G(e,a)}}}function D(l){let t,o,n;return o=new Q({props:{book:{id:l[3].id,title:l[3].title,img:l[3].img}}}),{c(){t=k("li"),F(o.$$.fragment),this.h()},l(e){t=b(e,"LI",{class:!0});var r=v(t);K(o.$$.fragment,r),r.forEach(m),this.h()},h(){B(t,"class","my-2")},m(e,r){_(e,t,r),N(o,t,null),n=!0},p(e,r){const a={};r&1&&(a.book={id:e[3].id,title:e[3].title,img:e[3].img}),o.$set(a)},i(e){n||(g(o.$$.fragment,e),n=!0)},o(e){$(o.$$.fragment,e),n=!1},d(e){e&&m(t),O(o)}}}function te(l){let t,o,n,e;return o=new H({}),{c(){t=k("div"),F(o.$$.fragment),n=I(`
            Loading Books ...`),this.h()},l(r){t=b(r,"DIV",{class:!0});var a=v(t);K(o.$$.fragment,a),n=S(a,`
            Loading Books ...`),a.forEach(m),this.h()},h(){B(t,"class","loading")},m(r,a){_(r,t,a),N(o,t,null),y(t,n),e=!0},p:h,i(r){e||(g(o.$$.fragment,r),e=!0)},o(r){$(o.$$.fragment,r),e=!1},d(r){r&&m(t),O(o)}}}function ae(l){let t,o,n,e=l[0].categories[l[1]].name+"",r,a,s,i,f,c={ctx:l,current:null,token:null,hasCatch:!1,pending:te,then:ee,catch:x,value:2,blocks:[,,,]};return E(i=l[0].streamed.books,c),{c(){t=k("div"),o=k("h2"),n=I("Bücher der Kategorie  "),r=I(e),a=T(),s=k("ul"),c.block.c(),this.h()},l(d){t=b(d,"DIV",{class:!0});var u=v(t);o=b(u,"H2",{});var p=v(o);n=S(p,"Bücher der Kategorie  "),r=S(p,e),p.forEach(m),u.forEach(m),a=U(d),s=b(d,"UL",{class:!0});var w=v(s);c.block.l(w),w.forEach(m),this.h()},h(){B(t,"class","px-2 m-2 border-2 "),B(s,"class","grid grid-cols-2 md:grid-cols-3 bg-gray-100")},m(d,u){_(d,t,u),y(t,o),y(o,n),y(o,r),_(d,a,u),_(d,s,u),c.block.m(s,c.anchor=null),c.mount=()=>s,c.anchor=null,f=!0},p(d,[u]){l=d,(!f||u&3)&&e!==(e=l[0].categories[l[1]].name+"")&&A(r,e),c.ctx=l,u&1&&i!==(i=l[0].streamed.books)&&E(i,c)||J(c,l,u)},i(d){f||(g(c.block),f=!0)},o(d){for(let u=0;u<3;u+=1){const p=c.blocks[u];$(p)}f=!1},d(d){d&&(m(t),m(a),m(s)),c.block.d(),c.token=null,c=null}}}function oe(l,t,o){let n,{data:e}=t;return console.log("catid ist ",n),l.$$set=r=>{"data"in r&&o(0,e=r.data)},l.$$.update=()=>{l.$$.dirty&1&&o(1,n=parseInt(e.data.catid)-1)},[e,n]}class ue extends R{constructor(t){super(),W(this,t,oe,ae,M,{data:0})}}export{ue as component,ce as universal};
