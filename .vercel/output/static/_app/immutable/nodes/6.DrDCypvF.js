import{s as st}from"../chunks/supabaseClient.B71O_sxV.js";import{d as ft,c as ut}from"../chunks/books.DTQd3f0f.js";import{b as ct,h as dt}from"../chunks/getHashtags.C3ksdnUg.js";import{s as ce,m as V,i as p,f as c,r as Q,_ as gt,v as N,w as ee,e as y,c as w,b as B,$ as mt,y as ne,B as se,C as ie,D as fe,u as _t,x as Ve,a as P,g as T,z as Ee,h as v,A as bt,t as G,d as O,l as d,j as de,G as Ue,I as Re,X as ht,H as kt,q as pt,p as Xe,O as Ie,n as I,o as Ne}from"../chunks/scheduler.DfuChs2G.js";import{h as ae,u as Se}from"../chunks/await_block.b95zegdE.js";import{e as oe}from"../chunks/each.D6YF6ztN.js";import{S as ge,i as me,g as te,a as h,c as le,t as _,b as A,d as F,m as H,e as M,f as Je}from"../chunks/index.BnyCCVNm.js";import{g as ue,a as Ce}from"../chunks/spread.CgU5AtxT.js";import{f as vt,F as it}from"../chunks/index.DrucrQ_l.js";import{t as Be}from"../chunks/bundle-mjs.BTwrKG5i.js";import{B as yt}from"../chunks/Button.BWb8FycM.js";import{S as Pe}from"../chunks/Spinner.BMfSgHGW.js";import{g as wt,B as It}from"../chunks/book.DozPUM9A.js";const Et=n=>({}),Ke=n=>({close:n[4]});function Bt(n){let e,r;const l=[n[5]];let t={$$slots:{default:[zt]},$$scope:{ctx:n}};for(let a=0;a<l.length;a+=1)t=N(t,l[a]);return e=new it({props:t}),{c(){A(e.$$.fragment)},l(a){F(e.$$.fragment,a)},m(a,o){H(e,a,o),r=!0},p(a,o){const s=o&32?ue(l,[Ce(a[5])]):{};o&128&&(s.$$scope={dirty:o,ctx:a}),e.$set(s)},i(a){r||(_(e.$$.fragment,a),r=!0)},o(a){h(e.$$.fragment,a),r=!1},d(a){M(e,a)}}}function Ct(n){let e,r,l=n[0]&&Qe(n);return{c(){l&&l.c(),e=V()},l(t){l&&l.l(t),e=V()},m(t,a){l&&l.m(t,a),p(t,e,a),r=!0},p(t,a){t[0]?l?(l.p(t,a),a&1&&_(l,1)):(l=Qe(t),l.c(),_(l,1),l.m(e.parentNode,e)):l&&(te(),h(l,1,1,()=>{l=null}),le())},i(t){r||(_(l),r=!0)},o(t){h(l),r=!1},d(t){t&&c(e),l&&l.d(t)}}}function zt(n){let e;const r=n[6].default,l=ne(r,n,n[7],null);return{c(){l&&l.c()},l(t){l&&l.l(t)},m(t,a){l&&l.m(t,a),e=!0},p(t,a){l&&l.p&&(!e||a&128)&&se(l,r,t,t[7],e?fe(r,t[7],a,null):ie(t[7]),null)},i(t){e||(_(l,t),e=!0)},o(t){h(l,t),e=!1},d(t){l&&l.d(t)}}}function Qe(n){let e,r,l,t;const a=[n[5]];let o={$$slots:{default:[Lt]},$$scope:{ctx:n}};for(let s=0;s<a.length;s+=1)o=N(o,a[s]);return r=new it({props:o}),{c(){e=y("div"),A(r.$$.fragment)},l(s){e=w(s,"DIV",{});var i=B(e);F(r.$$.fragment,i),i.forEach(c)},m(s,i){p(s,e,i),H(r,e,null),t=!0},p(s,i){n=s;const f=i&32?ue(a,[Ce(n[5])]):{};i&128&&(f.$$scope={dirty:i,ctx:n}),r.$set(f)},i(s){t||(_(r.$$.fragment,s),s&&mt(()=>{t&&(l||(l=Je(e,n[1],n[2],!0)),l.run(1))}),t=!0)},o(s){h(r.$$.fragment,s),s&&(l||(l=Je(e,n[1],n[2],!1)),l.run(0)),t=!1},d(s){s&&c(e),M(r),s&&l&&l.end()}}}function Lt(n){let e;const r=n[6].default,l=ne(r,n,n[7],Ke);return{c(){l&&l.c()},l(t){l&&l.l(t)},m(t,a){l&&l.m(t,a),e=!0},p(t,a){l&&l.p&&(!e||a&128)&&se(l,r,t,t[7],e?fe(r,t[7],a,Et):ie(t[7]),Ke)},i(t){e||(_(l,t),e=!0)},o(t){h(l,t),e=!1},d(t){l&&l.d(t)}}}function Dt(n){let e,r,l,t;const a=[Ct,Bt],o=[];function s(i,f){return i[3]?0:i[0]?1:-1}return~(e=s(n))&&(r=o[e]=a[e](n)),{c(){r&&r.c(),l=V()},l(i){r&&r.l(i),l=V()},m(i,f){~e&&o[e].m(i,f),p(i,l,f),t=!0},p(i,[f]){let u=e;e=s(i),e===u?~e&&o[e].p(i,f):(r&&(te(),h(o[u],1,1,()=>{o[u]=null}),le()),~e?(r=o[e],r?r.p(i,f):(r=o[e]=a[e](i),r.c()),_(r,1),r.m(l.parentNode,l)):r=null)},i(i){t||(_(r),t=!0)},o(i){h(r),t=!1},d(i){i&&c(l),~e&&o[e].d(i)}}}function St(n,e,r){const l=["transition","params","open","dismissable"];let t=Q(e,l),{$$slots:a={},$$scope:o}=e,{transition:s=vt}=e,{params:i={}}=e,{open:f=!0}=e,{dismissable:u=!1}=e;const k=gt();function g(m){m!=null&&m.stopPropagation&&m.stopPropagation(),r(0,f=!1)}return n.$$set=m=>{e=N(N({},e),ee(m)),r(5,t=Q(e,l)),"transition"in m&&r(1,s=m.transition),"params"in m&&r(2,i=m.params),"open"in m&&r(0,f=m.open),"dismissable"in m&&r(3,u=m.dismissable),"$$scope"in m&&r(7,o=m.$$scope)},n.$$.update=()=>{n.$$.dirty&1&&k(f?"open":"close")},[f,s,i,u,g,t,a,o]}class Vt extends ge{constructor(e){super(),me(this,e,St,Dt,ce,{transition:1,params:2,open:0,dismissable:3})}}const Nt=n=>({svgSize:n&4}),We=n=>({svgSize:n[5][n[2]]}),Pt=n=>({svgSize:n&4}),Ye=n=>({svgSize:n[5][n[2]]});function Tt(n){let e,r,l,t,a,o,s=n[0]&&Ze(n);const i=n[9].default,f=ne(i,n,n[8],We);let u=[{type:"button"},n[6],{class:n[4]},{"aria-label":l=n[1]??n[0]}],k={};for(let g=0;g<u.length;g+=1)k=N(k,u[g]);return{c(){e=y("button"),s&&s.c(),r=P(),f&&f.c(),this.h()},l(g){e=w(g,"BUTTON",{type:!0,class:!0,"aria-label":!0});var m=B(e);s&&s.l(m),r=T(m),f&&f.l(m),m.forEach(c),this.h()},h(){Ee(e,k)},m(g,m){p(g,e,m),s&&s.m(e,null),v(e,r),f&&f.m(e,null),e.autofocus&&e.focus(),t=!0,a||(o=bt(e,"click",n[10]),a=!0)},p(g,m){g[0]?s?s.p(g,m):(s=Ze(g),s.c(),s.m(e,r)):s&&(s.d(1),s=null),f&&f.p&&(!t||m&260)&&se(f,i,g,g[8],t?fe(i,g[8],m,Nt):ie(g[8]),We),Ee(e,k=ue(u,[{type:"button"},m&64&&g[6],(!t||m&16)&&{class:g[4]},(!t||m&3&&l!==(l=g[1]??g[0]))&&{"aria-label":l}]))},i(g){t||(_(f,g),t=!0)},o(g){h(f,g),t=!1},d(g){g&&c(e),s&&s.d(),f&&f.d(g),a=!1,o()}}}function jt(n){let e,r,l,t,a=n[0]&&$e(n);const o=n[9].default,s=ne(o,n,n[8],Ye);let i=[{href:n[3]},n[6],{class:n[4]},{"aria-label":l=n[1]??n[0]}],f={};for(let u=0;u<i.length;u+=1)f=N(f,i[u]);return{c(){e=y("a"),a&&a.c(),r=P(),s&&s.c(),this.h()},l(u){e=w(u,"A",{href:!0,class:!0,"aria-label":!0});var k=B(e);a&&a.l(k),r=T(k),s&&s.l(k),k.forEach(c),this.h()},h(){Ee(e,f)},m(u,k){p(u,e,k),a&&a.m(e,null),v(e,r),s&&s.m(e,null),t=!0},p(u,k){u[0]?a?a.p(u,k):(a=$e(u),a.c(),a.m(e,r)):a&&(a.d(1),a=null),s&&s.p&&(!t||k&260)&&se(s,o,u,u[8],t?fe(o,u[8],k,Pt):ie(u[8]),Ye),Ee(e,f=ue(i,[(!t||k&8)&&{href:u[3]},k&64&&u[6],(!t||k&16)&&{class:u[4]},(!t||k&3&&l!==(l=u[1]??u[0]))&&{"aria-label":l}]))},i(u){t||(_(s,u),t=!0)},o(u){h(s,u),t=!1},d(u){u&&c(e),a&&a.d(),s&&s.d(u)}}}function Ze(n){let e,r;return{c(){e=y("span"),r=G(n[0]),this.h()},l(l){e=w(l,"SPAN",{class:!0});var t=B(e);r=O(t,n[0]),t.forEach(c),this.h()},h(){d(e,"class","sr-only")},m(l,t){p(l,e,t),v(e,r)},p(l,t){t&1&&de(r,l[0])},d(l){l&&c(e)}}}function $e(n){let e,r;return{c(){e=y("span"),r=G(n[0]),this.h()},l(l){e=w(l,"SPAN",{class:!0});var t=B(e);r=O(t,n[0]),t.forEach(c),this.h()},h(){d(e,"class","sr-only")},m(l,t){p(l,e,t),v(e,r)},p(l,t){t&1&&de(r,l[0])},d(l){l&&c(e)}}}function At(n){let e,r,l,t;const a=[jt,Tt],o=[];function s(i,f){return i[3]?0:1}return e=s(n),r=o[e]=a[e](n),{c(){r.c(),l=V()},l(i){r.l(i),l=V()},m(i,f){o[e].m(i,f),p(i,l,f),t=!0},p(i,[f]){let u=e;e=s(i),e===u?o[e].p(i,f):(te(),h(o[u],1,1,()=>{o[u]=null}),le(),r=o[e],r?r.p(i,f):(r=o[e]=a[e](i),r.c()),_(r,1),r.m(l.parentNode,l))},i(i){t||(_(r),t=!0)},o(i){h(r),t=!1},d(i){i&&c(l),o[e].d(i)}}}function Ft(n,e,r){const l=["color","name","ariaLabel","size","href"];let t=Q(e,l),{$$slots:a={},$$scope:o}=e;const s=_t("background");let{color:i="default"}=e,{name:f=void 0}=e,{ariaLabel:u=void 0}=e,{size:k="md"}=e,{href:g=void 0}=e;const m={dark:"text-gray-500 hover:text-gray-900 hover:bg-gray-200 dark:text-gray-400 dark:hover:text-white dark:hover:bg-gray-600",gray:"text-gray-500 focus:ring-gray-400 hover:bg-gray-200 dark:hover:bg-gray-800 dark:hover:text-gray-300",red:"text-red-500 focus:ring-red-400 hover:bg-red-200 dark:hover:bg-red-800 dark:hover:text-red-300",yellow:"text-yellow-500 focus:ring-yellow-400 hover:bg-yellow-200 dark:hover:bg-yellow-800 dark:hover:text-yellow-300",green:"text-green-500 focus:ring-green-400 hover:bg-green-200 dark:hover:bg-green-800 dark:hover:text-green-300",indigo:"text-indigo-500 focus:ring-indigo-400 hover:bg-indigo-200 dark:hover:bg-indigo-800 dark:hover:text-indigo-300",purple:"text-purple-500 focus:ring-purple-400 hover:bg-purple-200 dark:hover:bg-purple-800 dark:hover:text-purple-300",pink:"text-pink-500 focus:ring-pink-400 hover:bg-pink-200 dark:hover:bg-pink-800 dark:hover:text-pink-300",blue:"text-blue-500 focus:ring-blue-400 hover:bg-blue-200 dark:hover:bg-blue-800 dark:hover:text-blue-300",primary:"text-primary-500 focus:ring-primary-400 hover:bg-primary-200 dark:hover:bg-primary-800 dark:hover:text-primary-300",default:"focus:ring-gray-400"},J={xs:"m-0.5 rounded-sm focus:ring-1 p-0.5",sm:"m-0.5 rounded focus:ring-1 p-0.5",md:"m-0.5 rounded-lg focus:ring-2 p-1.5",lg:"m-0.5 rounded-lg focus:ring-2 p-2.5"};let E;const U={xs:"w-3 h-3",sm:"w-3.5 h-3.5",md:"w-5 h-5",lg:"w-5 h-5"};function _e(z){Ve.call(this,n,z)}return n.$$set=z=>{r(14,e=N(N({},e),ee(z))),r(6,t=Q(e,l)),"color"in z&&r(7,i=z.color),"name"in z&&r(0,f=z.name),"ariaLabel"in z&&r(1,u=z.ariaLabel),"size"in z&&r(2,k=z.size),"href"in z&&r(3,g=z.href),"$$scope"in z&&r(8,o=z.$$scope)},n.$$.update=()=>{r(4,E=Be("focus:outline-none whitespace-normal",J[k],m[i],i==="default"&&(s?"hover:bg-gray-100 dark:hover:bg-gray-600":"hover:bg-gray-100 dark:hover:bg-gray-700"),e.class))},e=ee(e),[f,u,k,g,E,U,t,i,o,a,_e]}class Ht extends ge{constructor(e){super(),me(this,e,Ft,At,ce,{color:7,name:0,ariaLabel:1,size:2,href:3})}}function Mt(n){let e,r,l;return{c(){e=Ue("svg"),r=Ue("path"),this.h()},l(t){e=Re(t,"svg",{class:!0,fill:!0,viewBox:!0,xmlns:!0});var a=B(e);r=Re(a,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),B(r).forEach(c),a.forEach(c),this.h()},h(){d(r,"fill-rule","evenodd"),d(r,"d","M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"),d(r,"clip-rule","evenodd"),d(e,"class",l=n[4]),d(e,"fill","currentColor"),d(e,"viewBox","0 0 20 20"),d(e,"xmlns","http://www.w3.org/2000/svg")},m(t,a){p(t,e,a),v(e,r)},p(t,a){a&16&&l!==(l=t[4])&&d(e,"class",l)},d(t){t&&c(e)}}}function qt(n){let e,r;const l=[{name:n[0]},n[1],{class:Be("ms-auto",n[2].class)}];let t={$$slots:{default:[Mt,({svgSize:a})=>({4:a}),({svgSize:a})=>a?16:0]},$$scope:{ctx:n}};for(let a=0;a<l.length;a+=1)t=N(t,l[a]);return e=new Ht({props:t}),e.$on("click",n[3]),{c(){A(e.$$.fragment)},l(a){F(e.$$.fragment,a)},m(a,o){H(e,a,o),r=!0},p(a,[o]){const s=o&7?ue(l,[o&1&&{name:a[0]},o&2&&Ce(a[1]),o&4&&{class:Be("ms-auto",a[2].class)}]):{};o&48&&(s.$$scope={dirty:o,ctx:a}),e.$set(s)},i(a){r||(_(e.$$.fragment,a),r=!0)},o(a){h(e.$$.fragment,a),r=!1},d(a){M(e,a)}}}function Gt(n,e,r){const l=["name"];let t=Q(e,l),{name:a="Close"}=e;function o(s){Ve.call(this,n,s)}return n.$$set=s=>{r(2,e=N(N({},e),ee(s))),r(1,t=Q(e,l)),"name"in s&&r(0,a=s.name)},e=ee(e),[a,t,e,o]}class Ot extends ge{constructor(e){super(),me(this,e,Gt,qt,ce,{name:0})}}const Ut=n=>({close:n&8192}),xe=n=>({close:n[13]});function et(n){let e;const r=n[5]["close-button"],l=ne(r,n,n[7],xe),t=l||Rt(n);return{c(){t&&t.c()},l(a){t&&t.l(a)},m(a,o){t&&t.m(a,o),e=!0},p(a,o){l?l.p&&(!e||o&8320)&&se(l,r,a,a[7],e?fe(r,a[7],o,Ut):ie(a[7]),xe):t&&t.p&&(!e||o&8195)&&t.p(a,e?o:-1)},i(a){e||(_(t,a),e=!0)},o(a){h(t,a),e=!1},d(a){t&&t.d(a)}}}function Rt(n){let e,r;return e=new Ot({props:{color:n[0],size:n[1]?"sm":"xs",name:"Remove badge",class:"ms-1.5 -me-1.5"}}),e.$on("click",function(){ht(n[13])&&n[13].apply(this,arguments)}),{c(){A(e.$$.fragment)},l(l){F(e.$$.fragment,l)},m(l,t){H(e,l,t),r=!0},p(l,t){n=l;const a={};t&1&&(a.color=n[0]),t&2&&(a.size=n[1]?"sm":"xs"),e.$set(a)},i(l){r||(_(e.$$.fragment,l),r=!0)},o(l){h(e.$$.fragment,l),r=!1},d(l){M(e,l)}}}function Xt(n){let e,r,l;const t=n[5].default,a=ne(t,n,n[7],null);let o=n[2]&&et(n);return{c(){a&&a.c(),e=P(),o&&o.c(),r=V()},l(s){a&&a.l(s),e=T(s),o&&o.l(s),r=V()},m(s,i){a&&a.m(s,i),p(s,e,i),o&&o.m(s,i),p(s,r,i),l=!0},p(s,i){a&&a.p&&(!l||i&128)&&se(a,t,s,s[7],l?fe(t,s[7],i,null):ie(s[7]),null),s[2]?o?(o.p(s,i),i&4&&_(o,1)):(o=et(s),o.c(),_(o,1),o.m(r.parentNode,r)):o&&(te(),h(o,1,1,()=>{o=null}),le())},i(s){l||(_(a,s),_(o),l=!0)},o(s){h(a,s),h(o),l=!1},d(s){s&&(c(e),c(r)),a&&a.d(s),o&&o.d(s)}}}function Jt(n){let e,r;const l=[{dismissable:n[2]},n[4],{class:n[3]}];let t={$$slots:{default:[Xt,({close:a})=>({13:a}),({close:a})=>a?8192:0]},$$scope:{ctx:n}};for(let a=0;a<l.length;a+=1)t=N(t,l[a]);return e=new Vt({props:t}),e.$on("close",n[6]),{c(){A(e.$$.fragment)},l(a){F(e.$$.fragment,a)},m(a,o){H(e,a,o),r=!0},p(a,[o]){const s=o&28?ue(l,[o&4&&{dismissable:a[2]},o&16&&Ce(a[4]),o&8&&{class:a[3]}]):{};o&8327&&(s.$$scope={dirty:o,ctx:a}),e.$set(s)},i(a){r||(_(e.$$.fragment,a),r=!0)},o(a){h(e.$$.fragment,a),r=!1},d(a){M(e,a)}}}const Kt="font-medium inline-flex items-center justify-center px-2.5 py-0.5";function Qt(n,e,r){const l=["color","large","dismissable"];let t=Q(e,l),{$$slots:a={},$$scope:o}=e,{color:s="primary"}=e,{large:i=!1}=e,{dismissable:f=!1}=e;const u={primary:"bg-primary-100 text-primary-800 dark:bg-primary-900 dark:text-primary-300",blue:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300",dark:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",gray:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",red:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300",green:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",yellow:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300",indigo:"bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-300",purple:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300",pink:"bg-pink-100 text-pink-800 dark:bg-pink-900 dark:text-pink-300",none:""},k={primary:"bg-primary-100 text-primary-800 dark:bg-gray-700 dark:text-primary-400 border-primary-400 dark:border-primary-400",blue:"bg-blue-100 text-blue-800 dark:bg-gray-700 dark:text-blue-400 border-blue-400 dark:border-blue-400",dark:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-400 border-gray-500 dark:border-gray-500",red:"bg-red-100 text-red-800 dark:bg-gray-700 dark:text-red-400 border-red-400 dark:border-red-400",green:"bg-green-100 text-green-800 dark:bg-gray-700 dark:text-green-400 border-green-400 dark:border-green-400",yellow:"bg-yellow-100 text-yellow-800 dark:bg-gray-700 dark:text-yellow-300 border-yellow-300 dark:border-yellow-300",indigo:"bg-indigo-100 text-indigo-800 dark:bg-gray-700 dark:text-indigo-400 border-indigo-400 dark:border-indigo-400",purple:"bg-purple-100 text-purple-800 dark:bg-gray-700 dark:text-purple-400 border-purple-400 dark:border-purple-400",pink:"bg-pink-100 text-pink-800 dark:bg-gray-700 dark:text-pink-400 border-pink-400 dark:border-pink-400",none:""},g={primary:"hover:bg-primary-200",blue:"hover:bg-blue-200",dark:"hover:bg-gray-200",red:"hover:bg-red-200",green:"hover:bg-green-200",yellow:"hover:bg-yellow-200",indigo:"hover:bg-indigo-200",purple:"hover:bg-purple-200",pink:"hover:bg-pink-200",none:""};let m;function J(E){Ve.call(this,n,E)}return n.$$set=E=>{r(12,e=N(N({},e),ee(E))),r(4,t=Q(e,l)),"color"in E&&r(0,s=E.color),"large"in E&&r(1,i=E.large),"dismissable"in E&&r(2,f=E.dismissable),"$$scope"in E&&r(7,o=E.$$scope)},n.$$.update=()=>{r(3,m=Be(Kt,i?"text-sm":"text-xs",t.border?`border ${k[s]}`:u[s],t.href&&g[s],t.rounded?"rounded-full":"rounded",e.class))},e=ee(e),[s,i,f,m,t,a,J,o]}class Wt extends ge{constructor(e){super(),me(this,e,Qt,Jt,ce,{color:0,large:1,dismissable:2})}}async function Yt(n){try{const{data:e}=await st.from("books").select("*").eq("id",n).limit(1).single();return{data:e}}catch{return{}}}async function Zt(n){try{const{data:e}=await st.from("booklinks").select("label, link").eq("book_id",n);return e}catch{return{}}}async function $t({params:n}){let e=parseInt(n.bookId),{data:r}=await Yt(e),l=await ct(e),t=await ft(l);return{data:r,streamed:{links:Zt(e),similarBooks:ut(t),hashtags:dt(l)}}}const Bl=Object.freeze(Object.defineProperty({__proto__:null,load:$t},Symbol.toStringTag,{value:"Module"}));function tt(n,e,r){const l=n.slice();return l[6]=e[r],l}function lt(n,e,r){const l=n.slice();return l[10]=e[r],l}function rt(n,e,r){const l=n.slice();return l[14]=e[r],l}function xt(n){return{c:I,l:I,m:I,p:I,i:I,o:I,d:I}}function el(n){let e,r,l=oe(n[13]),t=[];for(let o=0;o<l.length;o+=1)t[o]=at(rt(n,l,o));const a=o=>h(t[o],1,1,()=>{t[o]=null});return{c(){for(let o=0;o<t.length;o+=1)t[o].c();e=V()},l(o){for(let s=0;s<t.length;s+=1)t[s].l(o);e=V()},m(o,s){for(let i=0;i<t.length;i+=1)t[i]&&t[i].m(o,s);p(o,e,s),r=!0},p(o,s){if(s&1){l=oe(o[13]);let i;for(i=0;i<l.length;i+=1){const f=rt(o,l,i);t[i]?(t[i].p(f,s),_(t[i],1)):(t[i]=at(f),t[i].c(),_(t[i],1),t[i].m(e.parentNode,e))}for(te(),i=l.length;i<t.length;i+=1)a(i);le()}},i(o){if(!r){for(let s=0;s<l.length;s+=1)_(t[s]);r=!0}},o(o){t=t.filter(Boolean);for(let s=0;s<t.length;s+=1)h(t[s]);r=!1},d(o){o&&c(e),Ne(t,o)}}}function tl(n){let e=n[14].label+"",r,l;return{c(){r=G(e),l=G(" ðŸ›’")},l(t){r=O(t,e),l=O(t," ðŸ›’")},m(t,a){p(t,r,a),p(t,l,a)},p(t,a){a&1&&e!==(e=t[14].label+"")&&de(r,e)},d(t){t&&(c(r),c(l))}}}function at(n){let e,r,l,t,a;return r=new yt({props:{class:"text-lg mt-3",color:"green",$$slots:{default:[tl]},$$scope:{ctx:n}}}),{c(){e=y("a"),A(r.$$.fragment),l=P(),this.h()},l(o){e=w(o,"A",{href:!0,target:!0});var s=B(e);F(r.$$.fragment,s),l=T(s),s.forEach(c),this.h()},h(){d(e,"href",t=n[14].link),d(e,"target","_blank")},m(o,s){p(o,e,s),H(r,e,null),v(e,l),a=!0},p(o,s){const i={};s&131073&&(i.$$scope={dirty:s,ctx:o}),r.$set(i),(!a||s&1&&t!==(t=o[14].link))&&d(e,"href",t)},i(o){a||(_(r.$$.fragment,o),a=!0)},o(o){h(r.$$.fragment,o),a=!1},d(o){o&&c(e),M(r)}}}function ll(n){let e,r,l,t;return r=new Pe({}),{c(){e=y("div"),A(r.$$.fragment),l=G(`
                Loading Shops ...`),this.h()},l(a){e=w(a,"DIV",{class:!0});var o=B(e);F(r.$$.fragment,o),l=O(o,`
                Loading Shops ...`),o.forEach(c),this.h()},h(){d(e,"class","loading")},m(a,o){p(a,e,o),H(r,e,null),v(e,l),t=!0},p:I,i(a){t||(_(r.$$.fragment,a),t=!0)},o(a){h(r.$$.fragment,a),t=!1},d(a){a&&c(e),M(r)}}}function rl(n){return{c:I,l:I,m:I,p:I,i:I,o:I,d:I}}function al(n){let e,r,l=oe(n[9]),t=[];for(let o=0;o<l.length;o+=1)t[o]=ot(lt(n,l,o));const a=o=>h(t[o],1,1,()=>{t[o]=null});return{c(){for(let o=0;o<t.length;o+=1)t[o].c();e=V()},l(o){for(let s=0;s<t.length;s+=1)t[s].l(o);e=V()},m(o,s){for(let i=0;i<t.length;i+=1)t[i]&&t[i].m(o,s);p(o,e,s),r=!0},p(o,s){if(s&1){l=oe(o[9]);let i;for(i=0;i<l.length;i+=1){const f=lt(o,l,i);t[i]?(t[i].p(f,s),_(t[i],1)):(t[i]=ot(f),t[i].c(),_(t[i],1),t[i].m(e.parentNode,e))}for(te(),i=l.length;i<t.length;i+=1)a(i);le()}},i(o){if(!r){for(let s=0;s<l.length;s+=1)_(t[s]);r=!0}},o(o){t=t.filter(Boolean);for(let s=0;s<t.length;s+=1)h(t[s]);r=!1},d(o){o&&c(e),Ne(t,o)}}}function ol(n){let e,r=n[10].tag+"",l;return{c(){e=G("#"),l=G(r)},l(t){e=O(t,"#"),l=O(t,r)},m(t,a){p(t,e,a),p(t,l,a)},p(t,a){a&1&&r!==(r=t[10].tag+"")&&de(l,r)},d(t){t&&(c(e),c(l))}}}function ot(n){let e,r;return e=new Wt({props:{class:"mx-3",border:!0,color:"yellow",$$slots:{default:[ol]},$$scope:{ctx:n}}}),{c(){A(e.$$.fragment)},l(l){F(e.$$.fragment,l)},m(l,t){H(e,l,t),r=!0},p(l,t){const a={};t&131073&&(a.$$scope={dirty:t,ctx:l}),e.$set(a)},i(l){r||(_(e.$$.fragment,l),r=!0)},o(l){h(e.$$.fragment,l),r=!1},d(l){M(e,l)}}}function nl(n){let e,r,l,t;return r=new Pe({}),{c(){e=y("div"),A(r.$$.fragment),l=G(`
                    Loading hashtags ...`),this.h()},l(a){e=w(a,"DIV",{class:!0});var o=B(e);F(r.$$.fragment,o),l=O(o,`
                    Loading hashtags ...`),o.forEach(c),this.h()},h(){d(e,"class","loading")},m(a,o){p(a,e,o),H(r,e,null),v(e,l),t=!0},p:I,i(a){t||(_(r.$$.fragment,a),t=!0)},o(a){h(r.$$.fragment,a),t=!1},d(a){a&&c(e),M(r)}}}function sl(n){return{c:I,l:I,m:I,p:I,i:I,o:I,d:I}}function il(n){let e,r,l=oe(n[5]),t=[];for(let o=0;o<l.length;o+=1)t[o]=nt(tt(n,l,o));const a=o=>h(t[o],1,1,()=>{t[o]=null});return{c(){for(let o=0;o<t.length;o+=1)t[o].c();e=V()},l(o){for(let s=0;s<t.length;s+=1)t[s].l(o);e=V()},m(o,s){for(let i=0;i<t.length;i+=1)t[i]&&t[i].m(o,s);p(o,e,s),r=!0},p(o,s){if(s&1){l=oe(o[5]);let i;for(i=0;i<l.length;i+=1){const f=tt(o,l,i);t[i]?(t[i].p(f,s),_(t[i],1)):(t[i]=nt(f),t[i].c(),_(t[i],1),t[i].m(e.parentNode,e))}for(te(),i=l.length;i<t.length;i+=1)a(i);le()}},i(o){if(!r){for(let s=0;s<l.length;s+=1)_(t[s]);r=!0}},o(o){t=t.filter(Boolean);for(let s=0;s<t.length;s+=1)h(t[s]);r=!1},d(o){o&&c(e),Ne(t,o)}}}function nt(n){let e,r,l;return r=new It({props:{book:{id:n[6].id,title:n[6].title,img:n[6].img}}}),{c(){e=y("li"),A(r.$$.fragment),this.h()},l(t){e=w(t,"LI",{class:!0});var a=B(e);F(r.$$.fragment,a),a.forEach(c),this.h()},h(){d(e,"class","my-2")},m(t,a){p(t,e,a),H(r,e,null),l=!0},p(t,a){const o={};a&1&&(o.book={id:t[6].id,title:t[6].title,img:t[6].img}),r.$set(o)},i(t){l||(_(r.$$.fragment,t),l=!0)},o(t){h(r.$$.fragment,t),l=!1},d(t){t&&c(e),M(r)}}}function fl(n){let e,r,l,t;return r=new Pe({}),{c(){e=y("div"),A(r.$$.fragment),l=G(`
            Loading similar books ...`),this.h()},l(a){e=w(a,"DIV",{class:!0});var o=B(e);F(r.$$.fragment,o),l=O(o,`
            Loading similar books ...`),o.forEach(c),this.h()},h(){d(e,"class","loading")},m(a,o){p(a,e,o),H(r,e,null),v(e,l),t=!0},p:I,i(a){t||(_(r.$$.fragment,a),t=!0)},o(a){h(r.$$.fragment,a),t=!1},d(a){a&&c(e),M(r)}}}function ul(n){let e,r,l,t,a,o,s,i,f,u,k,g,m,J,E,U,_e,z,ze,K,W,Te,be,he,R,Y,je="StichwÃ¶rter:",Le,Z,ke,pe,X,$,Ae="Ã„hnliche BÃ¼cher:",De,x,ve,q,L={ctx:n,current:null,token:null,hasCatch:!1,pending:ll,then:el,catch:xt,value:13,blocks:[,,,]};ae(m=n[0].streamed.links,L);let D={ctx:n,current:null,token:null,hasCatch:!1,pending:nl,then:al,catch:rl,value:9,blocks:[,,,]};ae(ke=n[0].streamed.hashtags,D);let S={ctx:n,current:null,token:null,hasCatch:!1,pending:fl,then:il,catch:sl,value:5,blocks:[,,,]};return ae(ve=n[0].streamed.similarBooks,S),{c(){e=y("div"),r=y("img"),t=P(),a=y("div"),o=y("h2"),s=G(n[3]),i=P(),f=y("div"),u=new kt(!1),k=P(),g=y("div"),L.block.c(),J=P(),E=y("a"),U=y("img"),ze=P(),K=y("a"),W=y("img"),he=P(),R=y("div"),Y=y("div"),Y.textContent=je,Le=P(),Z=y("div"),D.block.c(),pe=P(),X=y("div"),$=y("div"),$.textContent=Ae,De=P(),x=y("ul"),S.block.c(),this.h()},l(C){e=w(C,"DIV",{class:!0});var b=B(e);r=w(b,"IMG",{class:!0,width:!0,alt:!0,src:!0}),b.forEach(c),t=T(C),a=w(C,"DIV",{class:!0});var j=B(a);o=w(j,"H2",{class:!0});var Fe=B(o);s=O(Fe,n[3]),Fe.forEach(c),i=T(j),f=w(j,"DIV",{class:!0});var He=B(f);u=pt(He,!1),He.forEach(c),k=T(j),g=w(j,"DIV",{class:!0});var re=B(g);L.block.l(re),J=T(re),E=w(re,"A",{href:!0,target:!0});var Me=B(E);U=w(Me,"IMG",{width:!0,alt:!0,src:!0}),Me.forEach(c),ze=T(re),K=w(re,"A",{href:!0,target:!0});var qe=B(K);W=w(qe,"IMG",{width:!0,alt:!0,src:!0}),qe.forEach(c),re.forEach(c),j.forEach(c),he=T(C),R=w(C,"DIV",{class:!0});var ye=B(R);Y=w(ye,"DIV",{class:!0,"data-svelte-h":!0}),Xe(Y)!=="svelte-ooggy2"&&(Y.textContent=je),Le=T(ye),Z=w(ye,"DIV",{class:!0});var Ge=B(Z);D.block.l(Ge),Ge.forEach(c),ye.forEach(c),pe=T(C),X=w(C,"DIV",{class:!0});var we=B(X);$=w(we,"DIV",{class:!0,"data-svelte-h":!0}),Xe($)!=="svelte-nfoxyh"&&($.textContent=Ae),De=T(we),x=w(we,"UL",{class:!0});var Oe=B(x);S.block.l(Oe),Oe.forEach(c),we.forEach(c),this.h()},h(){d(r,"class","py-10"),d(r,"width","400"),d(r,"alt",n[3]),Ie(r.src,l=n[2])||d(r,"src",l),d(e,"class","w-full flex flex-row bg-gray-100 justify-center"),d(o,"class","bg-yellow-300 p-2"),u.a=null,d(f,"class","p-5"),d(U,"width","100"),d(U,"alt","Amazon Logo"),Ie(U.src,_e="/images/logos/Amazon.de-Logo.svg.png")||d(U,"src",_e),d(E,"href",z="https://www.amazon.de/gp/search?ie=UTF8&tag=jumex_online-21&linkCode=ur2&linkId=470bf27aa1feb315de9cb5f18b114f2f&camp=1638&creative=6742&index=books&keywords="+n[3]),d(E,"target","_blank"),d(W,"width","100"),d(W,"alt","Ebay Logo"),Ie(W.src,Te="/images/logos/EBay_logo.png")||d(W,"src",Te),d(K,"href",be="https://www.ebay.de/sch/i.html?_from=R40&_trksid=p4432023.m570.l1313&_nkw="+n[3]+"&_sacat=0"),d(K,"target","_blank"),d(g,"class","my-5 pb-10 flex flex-col items-center "),d(a,"class","bg-yellow-100"),d(Y,"class","p-2 w-full mt-5 bg-teal-300 text-lg font-bold text-center"),d(Z,"class","p-5 flex flex-row justify-center "),d(R,"class","bg-teal-100"),d($,"class","w-full my-5 bg-lime-300 p-3 text-lg font-bold text-center"),d(x,"class","grid grid-cols-2 md:grid-cols-3"),d(X,"class","bg-lime-100")},m(C,b){p(C,e,b),v(e,r),p(C,t,b),p(C,a,b),v(a,o),v(o,s),v(a,i),v(a,f),u.m(n[1],f),v(a,k),v(a,g),L.block.m(g,L.anchor=null),L.mount=()=>g,L.anchor=J,v(g,J),v(g,E),v(E,U),v(g,ze),v(g,K),v(K,W),p(C,he,b),p(C,R,b),v(R,Y),v(R,Le),v(R,Z),D.block.m(Z,D.anchor=null),D.mount=()=>Z,D.anchor=null,p(C,pe,b),p(C,X,b),v(X,$),v(X,De),v(X,x),S.block.m(x,S.anchor=null),S.mount=()=>x,S.anchor=null,q=!0},p(C,[b]){n=C,(!q||b&8)&&d(r,"alt",n[3]),(!q||b&4&&!Ie(r.src,l=n[2]))&&d(r,"src",l),(!q||b&8)&&de(s,n[3]),(!q||b&2)&&u.p(n[1]),L.ctx=n,b&1&&m!==(m=n[0].streamed.links)&&ae(m,L)||Se(L,n,b),(!q||b&8&&z!==(z="https://www.amazon.de/gp/search?ie=UTF8&tag=jumex_online-21&linkCode=ur2&linkId=470bf27aa1feb315de9cb5f18b114f2f&camp=1638&creative=6742&index=books&keywords="+n[3]))&&d(E,"href",z),(!q||b&8&&be!==(be="https://www.ebay.de/sch/i.html?_from=R40&_trksid=p4432023.m570.l1313&_nkw="+n[3]+"&_sacat=0"))&&d(K,"href",be),D.ctx=n,b&1&&ke!==(ke=n[0].streamed.hashtags)&&ae(ke,D)||Se(D,n,b),S.ctx=n,b&1&&ve!==(ve=n[0].streamed.similarBooks)&&ae(ve,S)||Se(S,n,b)},i(C){q||(_(L.block),_(D.block),_(S.block),q=!0)},o(C){for(let b=0;b<3;b+=1){const j=L.blocks[b];h(j)}for(let b=0;b<3;b+=1){const j=D.blocks[b];h(j)}for(let b=0;b<3;b+=1){const j=S.blocks[b];h(j)}q=!1},d(C){C&&(c(e),c(t),c(a),c(he),c(R),c(pe),c(X)),L.block.d(),L.token=null,L=null,D.block.d(),D.token=null,D=null,S.block.d(),S.token=null,S=null}}}function cl(n,e,r){let l,t,a,o,{data:s}=e;return n.$$set=i=>{"data"in i&&r(0,s=i.data)},n.$$.update=()=>{n.$$.dirty&1&&r(4,l=s.data),n.$$.dirty&16&&r(3,t=l.title),n.$$.dirty&16&&r(2,a=wt(l.img[0],l.id,"books")),n.$$.dirty&16&&r(1,o=l.desc)},[s,o,a,t,l]}class Cl extends ge{constructor(e){super(),me(this,e,cl,ul,ce,{data:0})}}export{Cl as component,Bl as universal};
