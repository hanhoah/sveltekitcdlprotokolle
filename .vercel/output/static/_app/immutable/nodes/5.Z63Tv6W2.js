import{s as j,e as g,t as L,a as q,c as k,b,d as S,f as h,g as D,l as $,i as _,h as y,j as H,n as m,m as E,o as N}from"../chunks/scheduler.MvcK4Jfn.js";import{h as B,u as U}from"../chunks/await_block.DbglkfJ3.js";import{e as P}from"../chunks/each.D6YF6ztN.js";import{S as V,i as z,t as d,a as v,g as A,c as F,b as G,d as J,m as K,e as M}from"../chunks/index.kA7WmQLO.js";import{B as O}from"../chunks/book.B4AJlZZ4.js";function C(r,l,o){const a=r.slice();return a[2]=l[o],a}function Q(r){return{c:m,l:m,m,p:m,i:m,o:m,d:m}}function R(r){let l,o,a=P(r[1]),e=[];for(let t=0;t<a.length;t+=1)e[t]=I(C(r,a,t));const u=t=>v(e[t],1,1,()=>{e[t]=null});return{c(){for(let t=0;t<e.length;t+=1)e[t].c();l=E()},l(t){for(let s=0;s<e.length;s+=1)e[s].l(t);l=E()},m(t,s){for(let n=0;n<e.length;n+=1)e[n]&&e[n].m(t,s);_(t,l,s),o=!0},p(t,s){if(s&1){a=P(t[1]);let n;for(n=0;n<a.length;n+=1){const i=C(t,a,n);e[n]?(e[n].p(i,s),d(e[n],1)):(e[n]=I(i),e[n].c(),d(e[n],1),e[n].m(l.parentNode,l))}for(A(),n=a.length;n<e.length;n+=1)u(n);F()}},i(t){if(!o){for(let s=0;s<a.length;s+=1)d(e[s]);o=!0}},o(t){e=e.filter(Boolean);for(let s=0;s<e.length;s+=1)v(e[s]);o=!1},d(t){t&&h(l),N(e,t)}}}function I(r){let l,o,a;return o=new O({props:{book:{id:r[2].id,title:r[2].title,img:r[2].img}}}),{c(){l=g("li"),G(o.$$.fragment),this.h()},l(e){l=k(e,"LI",{class:!0});var u=b(l);J(o.$$.fragment,u),u.forEach(h),this.h()},h(){$(l,"class","my-2")},m(e,u){_(e,l,u),K(o,l,null),a=!0},p(e,u){const t={};u&1&&(t.book={id:e[2].id,title:e[2].title,img:e[2].img}),o.$set(t)},i(e){a||(d(o.$$.fragment,e),a=!0)},o(e){v(o.$$.fragment,e),a=!1},d(e){e&&h(l),M(o)}}}function T(r){let l;return{c(){l=L("Please wait - loading books ...")},l(o){l=S(o,"Please wait - loading books ...")},m(o,a){_(o,l,a)},p:m,i:m,o:m,d(o){o&&h(l)}}}function W(r){let l,o,a=r[0].title+"",e,u,t,s,n,i={ctx:r,current:null,token:null,hasCatch:!1,pending:T,then:R,catch:Q,value:1,blocks:[,,,]};return B(s=r[0].streamed.books,i),{c(){l=g("div"),o=g("h2"),e=L(a),u=q(),t=g("ul"),i.block.c(),this.h()},l(f){l=k(f,"DIV",{class:!0});var c=b(l);o=k(c,"H2",{});var p=b(o);e=S(p,a),p.forEach(h),c.forEach(h),u=D(f),t=k(f,"UL",{class:!0});var w=b(t);i.block.l(w),w.forEach(h),this.h()},h(){$(l,"class","px-2 m-2 border-2 "),$(t,"class","grid grid-cols-2 md:grid-cols-3")},m(f,c){_(f,l,c),y(l,o),y(o,e),_(f,u,c),_(f,t,c),i.block.m(t,i.anchor=null),i.mount=()=>t,i.anchor=null,n=!0},p(f,[c]){r=f,(!n||c&1)&&a!==(a=r[0].title+"")&&H(e,a),i.ctx=r,c&1&&s!==(s=r[0].streamed.books)&&B(s,i)||U(i,r,c)},i(f){n||(d(i.block),n=!0)},o(f){for(let c=0;c<3;c+=1){const p=i.blocks[c];v(p)}n=!1},d(f){f&&(h(l),h(u),h(t)),i.block.d(),i.token=null,i=null}}}function X(r,l,o){let{data:a}=l;return r.$$set=e=>{"data"in e&&o(0,a=e.data)},[a]}class le extends V{constructor(l){super(),z(this,l,X,W,j,{data:0})}}export{le as component};
