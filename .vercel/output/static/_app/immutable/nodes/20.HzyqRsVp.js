import{a as le,g as ae}from"../chunks/categories.VNeXaOrY.js";import{s as re}from"../chunks/supabaseClient.CCJhsT86.js";import{s as se,e as w,a as z,t as C,p as q,o as oe,c as I,f as d,g as H,b as D,d as T,m as y,h as P,i as k,j as B,q as $,H as x,r as ee,E as ie}from"../chunks/scheduler.D78XxIca.js";import{S as ne,i as ce,t as j,e as ue,b as U,c as fe,a as de,m as me,d as _e,g as he}from"../chunks/index.VYeZ3G8j.js";import{e as L}from"../chunks/each.D6YF6ztN.js";import{g as G,P as pe}from"../chunks/product.B8w57Y_i.js";const ge="false";async function ve({params:r}){const t=r.catid;console.log("Lade Cat Parameter ...",t);const a=await le(parseInt(t)),l=await ae(parseInt(t));console.log("desc",l);const{data:e,error:s}=await re.from("productwithpricecategories").select().eq("category_id",t).order("name"),i=e==null?void 0:e.length;return{catid:t,length:i,category:a,description:l,products:e}}const Ne=Object.freeze(Object.defineProperty({__proto__:null,load:ve,prerender:ge},Symbol.toStringTag,{value:"Module"}));function J(r,t,a){const l=r.slice();return l[10]=t[a],l}function Q(r,t,a){const l=r.slice();return l[13]=t[a],l}function R(r){let t,a;return{c(){t=w("div"),a=new x(!1),this.h()},l(l){t=I(l,"DIV",{class:!0});var e=D(t);a=ee(e,!1),e.forEach(d),this.h()},h(){a.a=null,y(t,"class","border-2 p-2 bg-slate-100")},m(l,e){k(l,t,e),a.m(r[4],t)},p(l,e){e&16&&a.p(l[4])},d(l){l&&d(t)}}}function W(r){let t,a,l,e,s=G(r[13].image)+"",i,c,u,E;return c=new pe({props:{product:{id:r[13].id,name:r[13].name,img:r[13].image,price:r[13].price,slug:r[13].slug}}}),{c(){t=w("div"),a=w("li"),l=w("div"),e=new x(!1),i=z(),fe(c.$$.fragment),u=z(),this.h()},l(f){t=I(f,"DIV",{class:!0});var h=D(t);a=I(h,"LI",{class:!0});var p=D(a);l=I(p,"DIV",{class:!0});var b=D(l);e=ee(b,!1),b.forEach(d),i=H(p),de(c.$$.fragment,p),p.forEach(d),u=H(h),h.forEach(d),this.h()},h(){e.a=null,y(l,"class","absolute right-10 md:right-28"),y(a,"class","my-2 relative"),y(t,"class","lazy-load")},m(f,h){k(f,t,h),P(t,a),P(a,l),e.m(s,l),P(a,i),me(c,a,null),P(t,u),E=!0},p(f,h){(!E||h&4)&&s!==(s=G(f[13].image)+"")&&e.p(s);const p={};h&4&&(p.product={id:f[13].id,name:f[13].name,img:f[13].image,price:f[13].price,slug:f[13].slug}),c.$set(p)},i(f){E||(j(c.$$.fragment,f),E=!0)},o(f){U(c.$$.fragment,f),E=!1},d(f){f&&d(t),_e(c)}}}function X(r){let t,a=L(Array.from({length:r[3]()}).map(Z)),l=[];for(let e=0;e<a.length;e+=1)l[e]=Y(J(r,a,e));return{c(){t=w("div");for(let e=0;e<l.length;e+=1)l[e].c();this.h()},l(e){t=I(e,"DIV",{class:!0});var s=D(t);for(let i=0;i<l.length;i+=1)l[i].l(s);s.forEach(d),this.h()},h(){y(t,"class","page-selector svelte-ra8vou")},m(e,s){k(e,t,s);for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(t,null)},p(e,s){if(s&74){a=L(Array.from({length:e[3]()}).map(Z));let i;for(i=0;i<a.length;i+=1){const c=J(e,a,i);l[i]?l[i].p(c,s):(l[i]=Y(c),l[i].c(),l[i].m(t,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=a.length}},d(e){e&&d(t),$(l,e)}}}function be(r){let t,a=r[10]+"",l,e,s;function i(){return r[8](r[10])}return{c(){t=w("a"),l=C(a),this.h()},l(c){t=I(c,"A",{class:!0});var u=D(t);l=T(u,a),u.forEach(d),this.h()},h(){y(t,"class","page-number svelte-ra8vou")},m(c,u){k(c,t,u),P(t,l),e||(s=ie(t,"click",i),e=!0)},p(c,u){r=c,u&8&&a!==(a=r[10]+"")&&B(l,a)},d(c){c&&d(t),e=!1,s()}}}function ke(r){let t,a=r[10]+"",l;return{c(){t=w("span"),l=C(a),this.h()},l(e){t=I(e,"SPAN",{class:!0});var s=D(t);l=T(s,a),s.forEach(d),this.h()},h(){y(t,"class","page-number current-page svelte-ra8vou")},m(e,s){k(e,t,s),P(t,l)},p(e,s){s&8&&a!==(a=e[10]+"")&&B(l,a)},d(e){e&&d(t)}}}function Y(r){let t;function a(s,i){return s[10]==s[1]?ke:be}let l=a(r),e=l(r);return{c(){e.c(),t=q()},l(s){e.l(s),t=q()},m(s,i){e.m(s,i),k(s,t,i)},p(s,i){l===(l=a(s))&&e?e.p(s,i):(e.d(1),e=l(s),e&&(e.c(),e.m(t.parentNode,t)))},d(s){s&&d(t),e.d(s)}}}function ye(r){let t,a,l,e,s,i,c,u,E,f,h,p,b,V=r[3]()>1,A,M;document.title=t="Preisvergleich Produkte der alternativen Medizin - "+r[5];let g=r[4]&&R(r),S=L(r[2]),m=[];for(let o=0;o<S.length;o+=1)m[o]=W(Q(r,S,o));const te=o=>U(m[o],1,1,()=>{m[o]=null});let v=V&&X(r);return{c(){a=w("meta"),l=z(),e=w("div"),s=w("h2"),i=C(r[0]),c=C(" Produkte in der Kategorie "),u=C(r[5]),E=C(" gefunden."),f=z(),g&&g.c(),h=z(),p=w("ul");for(let o=0;o<m.length;o+=1)m[o].c();b=z(),v&&v.c(),A=q(),this.h()},l(o){const n=oe("svelte-1xmwefo",document.head);a=I(n,"META",{name:!0,content:!0}),n.forEach(d),l=H(o),e=I(o,"DIV",{class:!0});var _=D(e);s=I(_,"H2",{class:!0});var N=D(s);i=T(N,r[0]),c=T(N," Produkte in der Kategorie "),u=T(N,r[5]),E=T(N," gefunden."),N.forEach(d),_.forEach(d),f=H(o),g&&g.l(o),h=H(o),p=I(o,"UL",{class:!0});var F=D(p);for(let K=0;K<m.length;K+=1)m[K].l(F);F.forEach(d),b=H(o),v&&v.l(o),A=q(),this.h()},h(){y(a,"name","description"),y(a,"content",r[4]),y(s,"class","text-center my-5 p-2"),y(e,"class","w-full"),y(p,"class","grid grid-cols-2 md:grid-cols-3 space-y-5")},m(o,n){P(document.head,a),k(o,l,n),k(o,e,n),P(e,s),P(s,i),P(s,c),P(s,u),P(s,E),k(o,f,n),g&&g.m(o,n),k(o,h,n),k(o,p,n);for(let _=0;_<m.length;_+=1)m[_]&&m[_].m(p,null);k(o,b,n),v&&v.m(o,n),k(o,A,n),M=!0},p(o,[n]){if((!M||n&32)&&t!==(t="Preisvergleich Produkte der alternativen Medizin - "+o[5])&&(document.title=t),(!M||n&16)&&y(a,"content",o[4]),(!M||n&1)&&B(i,o[0]),(!M||n&32)&&B(u,o[5]),o[4]?g?g.p(o,n):(g=R(o),g.c(),g.m(h.parentNode,h)):g&&(g.d(1),g=null),n&4){S=L(o[2]);let _;for(_=0;_<S.length;_+=1){const N=Q(o,S,_);m[_]?(m[_].p(N,n),j(m[_],1)):(m[_]=W(N),m[_].c(),j(m[_],1),m[_].m(p,null))}for(he(),_=S.length;_<m.length;_+=1)te(_);ue()}n&8&&(V=o[3]()>1),V?v?v.p(o,n):(v=X(o),v.c(),v.m(A.parentNode,A)):v&&(v.d(1),v=null)},i(o){if(!M){for(let n=0;n<S.length;n+=1)j(m[n]);M=!0}},o(o){m=m.filter(Boolean);for(let n=0;n<m.length;n+=1)U(m[n]);M=!1},d(o){o&&(d(l),d(e),d(f),d(h),d(p),d(b),d(A)),d(a),g&&g.d(o),$(m,o),v&&v.d(o)}}}const O=50,Z=(r,t)=>t+1;function Pe(r,t,a){let l,e,s,i,c,{data:u}=t;console.log("catid: ",u.catid);function E(){return a(2,l=u.products.slice(0,10)),l}l=E();let f=1;async function h(b){a(1,f=b);const V=(f-1)*O,A=V+O;return a(2,l=await u.products.slice(V,A)),l}l=h(1);const p=b=>h(b);return r.$$set=b=>{"data"in b&&a(7,u=b.data)},r.$$.update=()=>{r.$$.dirty&128&&a(2,l=u.products.slice(0,10)),r.$$.dirty&128&&a(0,e=u.products.length),r.$$.dirty&128&&a(5,s=u.category),r.$$.dirty&128&&a(4,i=u.description),r.$$.dirty&1&&a(3,c=()=>Math.ceil(e/O))},[e,f,l,c,i,s,h,u,p]}class Se extends ne{constructor(t){super(),ce(this,t,Pe,ye,se,{data:7})}}export{Se as component,Ne as universal};
