import{s as me}from"../chunks/supabaseClient.CD4MZNEJ.js";import{s as Pe,e as g,a as j,t as Y,N as De,c as h,b as p,f as c,g as z,d as Z,O as Ve,p as Se,l as o,M as ne,i as $,h as _,j as de,n as P,m as ke,o as je}from"../chunks/scheduler.MvcK4Jfn.js";import{h as we,u as ze}from"../chunks/await_block.DbglkfJ3.js";import{e as ye}from"../chunks/each.D6YF6ztN.js";import{S as Ce,i as Te,b as K,d as Q,m as W,t as D,a as C,e as X,g as Ae,c as Le}from"../chunks/index.kA7WmQLO.js";import{B as oe}from"../chunks/Button.BqdHp8pG.js";import{S as Me}from"../chunks/Spinner.BHdm9wUT.js";import{g as qe,P as Be}from"../chunks/product.PPEkn7lc.js";/* empty css                                                */async function Fe({params:r}){let e=r.productid,l="name, image, description, link, products_categories(category_id)",{data:a}=await me.from("products").select(l).eq("id",e).limit(1).single(),t=a.name;async function u(y){let k=y.split(" ");return k=k.slice(0,3),k.join(" ")}let s=await u(t),f=a.products_categories[0].category_id;async function n(y,k){let{data:I}=await me.from("products_categories").select("product_id").eq("category_id",y).range(0,9),V=I.map(G=>G.product_id);return V=V.filter(G=>G!=k),V}async function d(y){let{data:k}=await me.from("products").select().in("id",y);return k}let T=await n(f,e);return{data:a,searchterm:s,streamed:{similarProducts:d(T)}}}const lt=Object.freeze(Object.defineProperty({__proto__:null,load:Fe},Symbol.toStringTag,{value:"Module"}));function Ie(r,e,l){const a=r.slice();return a[7]=e[l],a}function Ge(r){let e,l;return{c(){e=Y(r[4]),l=Y(" ðŸ›’")},l(a){e=Z(a,r[4]),l=Z(a," ðŸ›’")},m(a,t){$(a,e,t),$(a,l,t)},p(a,t){t&16&&de(e,a[4])},d(a){a&&(c(e),c(l))}}}function He(r){let e,l;return{c(){e=Y(r[4]),l=Y(" ðŸ›’")},l(a){e=Z(a,r[4]),l=Z(a," ðŸ›’")},m(a,t){$(a,e,t),$(a,l,t)},p(a,t){t&16&&de(e,a[4])},d(a){a&&(c(e),c(l))}}}function Oe(r){let e,l;return{c(){e=g("img"),this.h()},l(a){e=h(a,"IMG",{alt:!0,width:!0,src:!0}),this.h()},h(){o(e,"alt","amazon logo"),o(e,"width","100"),ne(e.src,l="/images/logos/Amazon.de-Logo.svg.png")||o(e,"src",l)},m(a,t){$(a,e,t)},p:P,d(a){a&&c(e)}}}function Ue(r){let e,l;return{c(){e=g("img"),this.h()},l(a){e=h(a,"IMG",{alt:!0,width:!0,src:!0}),this.h()},h(){o(e,"alt","ebay logo"),o(e,"width","100"),ne(e.src,l="/images/logos/EBay_logo.png")||o(e,"src",l)},m(a,t){$(a,e,t)},p:P,d(a){a&&c(e)}}}function Ne(r){return{c:P,l:P,m:P,p:P,i:P,o:P,d:P}}function Re(r){let e,l,a=ye(r[6]),t=[];for(let s=0;s<a.length;s+=1)t[s]=Ee(Ie(r,a,s));const u=s=>C(t[s],1,1,()=>{t[s]=null});return{c(){for(let s=0;s<t.length;s+=1)t[s].c();e=ke()},l(s){for(let f=0;f<t.length;f+=1)t[f].l(s);e=ke()},m(s,f){for(let n=0;n<t.length;n+=1)t[n]&&t[n].m(s,f);$(s,e,f),l=!0},p(s,f){if(f&1){a=ye(s[6]);let n;for(n=0;n<a.length;n+=1){const d=Ie(s,a,n);t[n]?(t[n].p(d,f),D(t[n],1)):(t[n]=Ee(d),t[n].c(),D(t[n],1),t[n].m(e.parentNode,e))}for(Ae(),n=a.length;n<t.length;n+=1)u(n);Le()}},i(s){if(!l){for(let f=0;f<a.length;f+=1)D(t[f]);l=!0}},o(s){t=t.filter(Boolean);for(let f=0;f<t.length;f+=1)C(t[f]);l=!1},d(s){s&&c(e),je(t,s)}}}function Ee(r){let e,l,a;return l=new Be({props:{product:{id:r[7].id,name:r[7].name,img:r[7].image}}}),{c(){e=g("li"),K(l.$$.fragment),this.h()},l(t){e=h(t,"LI",{class:!0});var u=p(e);Q(l.$$.fragment,u),u.forEach(c),this.h()},h(){o(e,"class","my-2")},m(t,u){$(t,e,u),W(l,e,null),a=!0},p(t,u){const s={};u&1&&(s.product={id:t[7].id,name:t[7].name,img:t[7].image}),l.$set(s)},i(t){a||(D(l.$$.fragment,t),a=!0)},o(t){C(l.$$.fragment,t),a=!1},d(t){t&&c(e),X(l)}}}function Je(r){let e,l,a,t;return l=new Me({}),{c(){e=g("div"),K(l.$$.fragment),a=Y(`
                Loading similar Products ...`),this.h()},l(u){e=h(u,"DIV",{class:!0});var s=p(e);Q(l.$$.fragment,s),a=Z(s,`
                Loading similar Products ...`),s.forEach(c),this.h()},h(){o(e,"class","loading")},m(u,s){$(u,e,s),W(l,e,null),_(e,a),t=!0},p:P,i(u){t||(D(l.$$.fragment,u),t=!0)},o(u){C(l.$$.fragment,u),t=!1},d(u){u&&c(e),X(l)}}}function Ke(r){let e,l,a,t,u,s,f,n,d,T,y,k,I,V,G,H,E,A,L,ie,M,q,te,ce,B,F,ae,ue,R,re,S,O,_e="Ã„hnliche Produkte:",fe,U,le,v;f=new oe({props:{class:"text-lg mt-3",color:"green",$$slots:{default:[Ge]},$$scope:{ctx:r}}}),L=new oe({props:{class:"text-lg mt-3",color:"green",$$slots:{default:[He]},$$scope:{ctx:r}}}),q=new oe({props:{class:"text-lg mt-3",color:"light",$$slots:{default:[Oe]},$$scope:{ctx:r}}}),F=new oe({props:{class:"text-lg mt-3",color:"light",$$slots:{default:[Ue]},$$scope:{ctx:r}}});let b={ctx:r,current:null,token:null,hasCatch:!1,pending:Je,then:Re,catch:Ne,value:6,blocks:[,,,]};return we(le=r[0].streamed.similarProducts,b),{c(){e=g("div"),l=g("img"),t=j(),u=g("div"),s=g("a"),K(f.$$.fragment),n=j(),d=g("div"),T=g("h2"),y=Y(r[4]),k=j(),I=g("div"),V=new De(!1),G=j(),H=g("div"),E=g("div"),A=g("a"),K(L.$$.fragment),ie=j(),M=g("a"),K(q.$$.fragment),ce=j(),B=g("a"),K(F.$$.fragment),ue=j(),R=g("div"),re=j(),S=g("div"),O=g("div"),O.textContent=_e,fe=j(),U=g("ul"),b.block.c(),this.h()},l(m){e=h(m,"DIV",{class:!0});var i=p(e);l=h(i,"IMG",{class:!0,width:!0,alt:!0,src:!0}),i.forEach(c),t=z(m),u=h(m,"DIV",{class:!0});var N=p(u);s=h(N,"A",{href:!0,target:!0});var x=p(s);Q(f.$$.fragment,x),x.forEach(c),N.forEach(c),n=z(m),d=h(m,"DIV",{class:!0});var w=p(d);T=h(w,"H2",{class:!0});var ee=p(T);y=Z(ee,r[4]),ee.forEach(c),k=z(w),I=h(w,"DIV",{id:!0,class:!0});var ge=p(I);V=Ve(ge,!1),ge.forEach(c),G=z(w),H=h(w,"DIV",{id:!0,class:!0});var he=p(H);E=h(he,"DIV",{class:!0});var J=p(E);A=h(J,"A",{href:!0,target:!0});var pe=p(A);Q(L.$$.fragment,pe),pe.forEach(c),ie=z(J),M=h(J,"A",{href:!0,target:!0});var $e=p(M);Q(q.$$.fragment,$e),$e.forEach(c),ce=z(J),B=h(J,"A",{href:!0,target:!0});var be=p(B);Q(F.$$.fragment,be),be.forEach(c),J.forEach(c),he.forEach(c),ue=z(w),R=h(w,"DIV",{id:!0,class:!0}),p(R).forEach(c),w.forEach(c),re=z(m),S=h(m,"DIV",{class:!0});var se=p(S);O=h(se,"DIV",{class:!0,"data-svelte-h":!0}),Se(O)!=="svelte-g4vgml"&&(O.textContent=_e),fe=z(se),U=h(se,"UL",{class:!0});var ve=p(U);b.block.l(ve),ve.forEach(c),se.forEach(c),this.h()},h(){o(l,"class","py-10"),o(l,"width","400"),o(l,"alt",r[4]),ne(l.src,a=r[5])||o(l,"src",a),o(e,"class","w-full flex flex-row bg-gray-100 justify-center"),o(s,"href",r[2]),o(s,"target","_blank"),o(u,"class","my-5 pb-10 flex flex-col items-center top-0 sticky "),o(T,"class","bg-yellow-300 p-2"),V.a=null,o(I,"id","desc"),o(I,"class","p-5"),o(A,"href",r[2]),o(A,"target","_blank"),o(M,"href",te="https://www.amazon.de/gp/search?ie=UTF8&tag=jumex_online-21&linkCode=ur2&linkId=470bf27aa1feb315de9cb5f18b114f2f&camp=1638&creative=6742&index=books&keywords="+r[1]),o(M,"target","_blank"),o(B,"href",ae="https://www.ebay.de/sch/i.html?_from=R40&_trksid=p4432023.m570.l1313&_nkw="+r[1]+"&_sacat=0"),o(B,"target","_blank"),o(E,"class","my-5 pb-10 flex flex-col items-center "),o(H,"id","links"),o(H,"class","w-5/6 m-auto bg-zinc-50 border-zinc-200 border-2 p-5"),o(R,"id","abstand"),o(R,"class","h-5"),o(d,"class","bg-yellow-100"),o(O,"class","w-full my-5 bg-lime-300 p-3 text-lg font-bold text-center"),o(U,"class","grid grid-cols-2 md:grid-cols-3"),o(S,"class","bg-lime-100")},m(m,i){$(m,e,i),_(e,l),$(m,t,i),$(m,u,i),_(u,s),W(f,s,null),$(m,n,i),$(m,d,i),_(d,T),_(T,y),_(d,k),_(d,I),V.m(r[3],I),_(d,G),_(d,H),_(H,E),_(E,A),W(L,A,null),_(E,ie),_(E,M),W(q,M,null),_(E,ce),_(E,B),W(F,B,null),_(d,ue),_(d,R),$(m,re,i),$(m,S,i),_(S,O),_(S,fe),_(S,U),b.block.m(U,b.anchor=null),b.mount=()=>U,b.anchor=null,v=!0},p(m,[i]){r=m,(!v||i&16)&&o(l,"alt",r[4]),(!v||i&32&&!ne(l.src,a=r[5]))&&o(l,"src",a);const N={};i&1040&&(N.$$scope={dirty:i,ctx:r}),f.$set(N),(!v||i&4)&&o(s,"href",r[2]),(!v||i&16)&&de(y,r[4]),(!v||i&8)&&V.p(r[3]);const x={};i&1040&&(x.$$scope={dirty:i,ctx:r}),L.$set(x),(!v||i&4)&&o(A,"href",r[2]);const w={};i&1024&&(w.$$scope={dirty:i,ctx:r}),q.$set(w),(!v||i&2&&te!==(te="https://www.amazon.de/gp/search?ie=UTF8&tag=jumex_online-21&linkCode=ur2&linkId=470bf27aa1feb315de9cb5f18b114f2f&camp=1638&creative=6742&index=books&keywords="+r[1]))&&o(M,"href",te);const ee={};i&1024&&(ee.$$scope={dirty:i,ctx:r}),F.$set(ee),(!v||i&2&&ae!==(ae="https://www.ebay.de/sch/i.html?_from=R40&_trksid=p4432023.m570.l1313&_nkw="+r[1]+"&_sacat=0"))&&o(B,"href",ae),b.ctx=r,i&1&&le!==(le=r[0].streamed.similarProducts)&&we(le,b)||ze(b,r,i)},i(m){v||(D(f.$$.fragment,m),D(L.$$.fragment,m),D(q.$$.fragment,m),D(F.$$.fragment,m),D(b.block),v=!0)},o(m){C(f.$$.fragment,m),C(L.$$.fragment,m),C(q.$$.fragment,m),C(F.$$.fragment,m);for(let i=0;i<3;i+=1){const N=b.blocks[i];C(N)}v=!1},d(m){m&&(c(e),c(t),c(u),c(n),c(d),c(re),c(S)),X(f),X(L),X(q),X(F),b.block.d(),b.token=null,b=null}}}function Qe(r,e,l){let a,t,u,s,f,{data:n}=e;return console.log("***************"),r.$$set=d=>{"data"in d&&l(0,n=d.data)},r.$$.update=()=>{r.$$.dirty&1&&l(5,a=qe(n.data.image)),r.$$.dirty&1&&l(4,t=n.data.name),r.$$.dirty&1&&l(3,u=n.data.description),r.$$.dirty&1&&l(2,s=n.data.link),r.$$.dirty&1&&l(1,f=n.searchterm)},[n,f,s,u,t,a]}class st extends Ce{constructor(e){super(),Te(this,e,Qe,Ke,Pe,{data:0})}}export{st as component,lt as universal};
