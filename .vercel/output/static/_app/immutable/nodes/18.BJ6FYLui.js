import{s as be}from"../chunks/supabaseClient.CCJhsT86.js";import{s as Me,e as h,a as y,H as we,t as ee,o as He,c as g,f as u,g as P,b as v,r as ke,d as te,l as Fe,m as o,P as de,h as _,i as $,j as Ee,n as T,p as je,q as Ge}from"../chunks/scheduler.zM5vpuro.js";import{h as Ae,u as Ue}from"../chunks/await_block.DV1PVPDO.js";import{e as Ce}from"../chunks/each.D6YF6ztN.js";import{S as Oe,i as Re,c as X,a as Y,m as Z,t as j,b as q,d as x,g as Ne,e as Je}from"../chunks/index.Lc7HYTwW.js";import{B as fe}from"../chunks/Button.DXAEX3aa.js";import{S as Ke}from"../chunks/Spinner.C4Jw4b_I.js";import{g as me,a as Qe,P as We}from"../chunks/shops.IvLJLzM-.js";import{r as qe}from"../chunks/helper.ByxkrZMk.js";async function Xe({params:t}){let e=t.productid,r="id, name, image, description, link, products_categories(category_id)",{data:a}=await be.from("products").select(r).eq("id",e).limit(1).single(),l=a.name;console.log("product: ",l,"id: ",e),a.description;async function m(b){let w=b.split(" ");return w=w.slice(0,3),w.join(" ")}let s=await m(l),f=a.products_categories[0].category_id;async function c(b,w){let{data:D}=await be.from("products_categories").select("product_id").eq("category_id",b).range(0,9),V=D.map(B=>B.product_id);return V=V.filter(B=>B!=w),V}async function n(b){let{data:w}=await be.from("products").select().in("id",b);return w}let p=await c(f,e);return{data:a,searchterm:s,streamed:{similarProducts:n(p)}}}const ht=Object.freeze(Object.defineProperty({__proto__:null,load:Xe},Symbol.toStringTag,{value:"Module"}));function Be(t,e,r){const a=t.slice();return a[8]=e[r],a}function Ye(t){let e,r;return{c(){e=ee(t[5]),r=ee(" ðŸ›’")},l(a){e=te(a,t[5]),r=te(a," ðŸ›’")},m(a,l){$(a,e,l),$(a,r,l)},p(a,l){l&32&&Ee(e,a[5])},d(a){a&&(u(e),u(r))}}}function Ze(t){let e,r;return{c(){e=ee(t[5]),r=ee(" ðŸ›’")},l(a){e=te(a,t[5]),r=te(a," ðŸ›’")},m(a,l){$(a,e,l),$(a,r,l)},p(a,l){l&32&&Ee(e,a[5])},d(a){a&&(u(e),u(r))}}}function xe(t){let e,r;return{c(){e=h("img"),this.h()},l(a){e=g(a,"IMG",{alt:!0,width:!0,src:!0}),this.h()},h(){o(e,"alt","amazon logo"),o(e,"width","100"),de(e.src,r="/images/logos/Amazon.de-Logo.svg.png")||o(e,"src",r)},m(a,l){$(a,e,l)},p:T,d(a){a&&u(e)}}}function et(t){let e,r;return{c(){e=h("img"),this.h()},l(a){e=g(a,"IMG",{alt:!0,width:!0,src:!0}),this.h()},h(){o(e,"alt","ebay logo"),o(e,"width","100"),de(e.src,r="/images/logos/EBay_logo.png")||o(e,"src",r)},m(a,l){$(a,e,l)},p:T,d(a){a&&u(e)}}}function tt(t){return{c:T,l:T,m:T,p:T,i:T,o:T,d:T}}function at(t){let e,r,a=Ce(t[7]),l=[];for(let s=0;s<a.length;s+=1)l[s]=Le(Be(t,a,s));const m=s=>q(l[s],1,1,()=>{l[s]=null});return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=je()},l(s){for(let f=0;f<l.length;f+=1)l[f].l(s);e=je()},m(s,f){for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(s,f);$(s,e,f),r=!0},p(s,f){if(f&1){a=Ce(s[7]);let c;for(c=0;c<a.length;c+=1){const n=Be(s,a,c);l[c]?(l[c].p(n,f),j(l[c],1)):(l[c]=Le(n),l[c].c(),j(l[c],1),l[c].m(e.parentNode,e))}for(Ne(),c=a.length;c<l.length;c+=1)m(c);Je()}},i(s){if(!r){for(let f=0;f<a.length;f+=1)j(l[f]);r=!0}},o(s){l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)q(l[f]);r=!1},d(s){s&&u(e),Ge(l,s)}}}function Le(t){let e,r,a,l=me(t[8].id)+"",m,s,f,c;return s=new We({props:{product:{id:t[8].id,name:t[8].name,img:t[8].image,price:t[8].price}}}),{c(){e=h("li"),r=h("div"),a=new we(!1),m=y(),X(s.$$.fragment),f=y(),this.h()},l(n){e=g(n,"LI",{class:!0});var p=v(e);r=g(p,"DIV",{class:!0});var b=v(r);a=ke(b,!1),b.forEach(u),m=P(p),Y(s.$$.fragment,p),f=P(p),p.forEach(u),this.h()},h(){a.a=null,o(r,"class","absolute right-10"),o(e,"class","my-2 relative ")},m(n,p){$(n,e,p),_(e,r),a.m(l,r),_(e,m),Z(s,e,null),_(e,f),c=!0},p(n,p){(!c||p&1)&&l!==(l=me(n[8].id)+"")&&a.p(l);const b={};p&1&&(b.product={id:n[8].id,name:n[8].name,img:n[8].image,price:n[8].price}),s.$set(b)},i(n){c||(j(s.$$.fragment,n),c=!0)},o(n){q(s.$$.fragment,n),c=!1},d(n){n&&u(e),x(s)}}}function lt(t){let e,r,a,l;return r=new Ke({}),{c(){e=h("div"),X(r.$$.fragment),a=ee(`
                Loading similar Products ...`),this.h()},l(m){e=g(m,"DIV",{class:!0});var s=v(e);Y(r.$$.fragment,s),a=te(s,`
                Loading similar Products ...`),s.forEach(u),this.h()},h(){o(e,"class","loading")},m(m,s){$(m,e,s),Z(r,e,null),_(e,a),l=!0},p:T,i(m){l||(j(r.$$.fragment,m),l=!0)},o(m){q(r.$$.fragment,m),l=!1},d(m){m&&u(e),x(r)}}}function rt(t){let e,r,a,l,m,s,f=me(t[4])+"",c,n,p,b,w,D,V,B,I,K,se,_e,O,ae,he,R,S,L,M,ge,H,F,oe,pe,G,U,ne,ve,Q,ie,A,N,Ie="Ã„hnliche Produkte:",$e,J,ce,k;document.title=e=t[5],V=new fe({props:{class:"text-lg mt-3",color:"green",$$slots:{default:[Ye]},$$scope:{ctx:t}}}),M=new fe({props:{class:"text-lg mt-3",color:"green",$$slots:{default:[Ze]},$$scope:{ctx:t}}}),F=new fe({props:{class:"text-lg mt-3",color:"light",$$slots:{default:[xe]},$$scope:{ctx:t}}}),U=new fe({props:{class:"text-lg mt-3",color:"light",$$slots:{default:[et]},$$scope:{ctx:t}}});let E={ctx:t,current:null,token:null,hasCatch:!1,pending:lt,then:at,catch:tt,value:7,blocks:[,,,]};return Ae(ce=t[0].streamed.similarProducts,E),{c(){r=h("meta"),l=y(),m=h("div"),s=new we(!1),c=y(),n=h("img"),b=y(),w=h("div"),D=h("a"),X(V.$$.fragment),B=y(),I=h("div"),K=h("h2"),se=ee(t[5]),_e=y(),O=h("div"),ae=new we(!1),he=y(),R=h("div"),S=h("div"),L=h("a"),X(M.$$.fragment),ge=y(),H=h("a"),X(F.$$.fragment),pe=y(),G=h("a"),X(U.$$.fragment),ve=y(),Q=h("div"),ie=y(),A=h("div"),N=h("div"),N.textContent=Ie,$e=y(),J=h("ul"),E.block.c(),this.h()},l(d){const i=He("svelte-wubmel",document.head);r=g(i,"META",{name:!0,content:!0}),i.forEach(u),l=P(d),m=g(d,"DIV",{class:!0});var C=v(m);s=ke(C,!1),c=P(C),n=g(C,"IMG",{class:!0,width:!0,alt:!0,src:!0}),C.forEach(u),b=P(d),w=g(d,"DIV",{class:!0});var le=v(w);D=g(le,"A",{href:!0,target:!0});var re=v(D);Y(V.$$.fragment,re),re.forEach(u),le.forEach(u),B=P(d),I=g(d,"DIV",{class:!0});var z=v(I);K=g(z,"H2",{class:!0});var ye=v(K);se=te(ye,t[5]),ye.forEach(u),_e=P(z),O=g(z,"DIV",{id:!0,class:!0});var Pe=v(O);ae=ke(Pe,!1),Pe.forEach(u),he=P(z),R=g(z,"DIV",{id:!0,class:!0});var Ve=v(R);S=g(Ve,"DIV",{class:!0});var W=v(S);L=g(W,"A",{href:!0,target:!0});var De=v(L);Y(M.$$.fragment,De),De.forEach(u),ge=P(W),H=g(W,"A",{href:!0,target:!0});var ze=v(H);Y(F.$$.fragment,ze),ze.forEach(u),pe=P(W),G=g(W,"A",{href:!0,target:!0});var Se=v(G);Y(U.$$.fragment,Se),Se.forEach(u),W.forEach(u),Ve.forEach(u),ve=P(z),Q=g(z,"DIV",{id:!0,class:!0}),v(Q).forEach(u),z.forEach(u),ie=P(d),A=g(d,"DIV",{class:!0});var ue=v(A);N=g(ue,"DIV",{class:!0,"data-svelte-h":!0}),Fe(N)!=="svelte-g4vgml"&&(N.textContent=Ie),$e=P(ue),J=g(ue,"UL",{class:!0});var Te=v(J);E.block.l(Te),Te.forEach(u),ue.forEach(u),this.h()},h(){o(r,"name","description"),o(r,"content",a=qe(t[3])),s.a=c,o(n,"class","py-10"),o(n,"width","400"),o(n,"alt",t[5]),de(n.src,p=t[6])||o(n,"src",p),o(m,"class","w-full flex flex-row bg-gray-100 justify-center relative"),o(D,"href",t[2]),o(D,"target","_blank"),o(w,"class","my-5 pb-10 flex flex-col items-center top-0 sticky z-10"),o(K,"class","bg-yellow-300 p-2"),ae.a=null,o(O,"id","desc"),o(O,"class","p-5"),o(L,"href",t[2]),o(L,"target","_blank"),o(H,"href",oe="https://www.amazon.de/gp/search?ie=UTF8&tag=jumex_online-21&linkCode=ur2&linkId=470bf27aa1feb315de9cb5f18b114f2f&camp=1638&creative=6742&index=books&keywords="+t[1]),o(H,"target","_blank"),o(G,"href",ne="https://www.ebay.de/sch/i.html?_from=R40&_trksid=p4432023.m570.l1313&_nkw="+t[1]+"&_sacat=0"),o(G,"target","_blank"),o(S,"class","my-5 pb-10 flex flex-col items-center space-y-5"),o(R,"id","links"),o(R,"class","w-5/6 m-auto bg-zinc-50 border-zinc-200 border-2 p-5"),o(Q,"id","abstand"),o(Q,"class","h-5"),o(I,"class","bg-yellow-100"),o(N,"class","w-full my-5 bg-lime-300 p-3 text-lg font-bold text-center"),o(J,"class","grid grid-cols-2 md:grid-cols-3 px-5 pb-20"),o(A,"class","bg-lime-100 h-full ")},m(d,i){_(document.head,r),$(d,l,i),$(d,m,i),s.m(f,m),_(m,c),_(m,n),$(d,b,i),$(d,w,i),_(w,D),Z(V,D,null),$(d,B,i),$(d,I,i),_(I,K),_(K,se),_(I,_e),_(I,O),ae.m(t[3],O),_(I,he),_(I,R),_(R,S),_(S,L),Z(M,L,null),_(S,ge),_(S,H),Z(F,H,null),_(S,pe),_(S,G),Z(U,G,null),_(I,ve),_(I,Q),$(d,ie,i),$(d,A,i),_(A,N),_(A,$e),_(A,J),E.block.m(J,E.anchor=null),E.mount=()=>J,E.anchor=null,k=!0},p(d,[i]){t=d,(!k||i&32)&&e!==(e=t[5])&&(document.title=e),(!k||i&8&&a!==(a=qe(t[3])))&&o(r,"content",a),(!k||i&16)&&f!==(f=me(t[4])+"")&&s.p(f),(!k||i&32)&&o(n,"alt",t[5]),(!k||i&64&&!de(n.src,p=t[6]))&&o(n,"src",p);const C={};i&2080&&(C.$$scope={dirty:i,ctx:t}),V.$set(C),(!k||i&4)&&o(D,"href",t[2]),(!k||i&32)&&Ee(se,t[5]),(!k||i&8)&&ae.p(t[3]);const le={};i&2080&&(le.$$scope={dirty:i,ctx:t}),M.$set(le),(!k||i&4)&&o(L,"href",t[2]);const re={};i&2048&&(re.$$scope={dirty:i,ctx:t}),F.$set(re),(!k||i&2&&oe!==(oe="https://www.amazon.de/gp/search?ie=UTF8&tag=jumex_online-21&linkCode=ur2&linkId=470bf27aa1feb315de9cb5f18b114f2f&camp=1638&creative=6742&index=books&keywords="+t[1]))&&o(H,"href",oe);const z={};i&2048&&(z.$$scope={dirty:i,ctx:t}),U.$set(z),(!k||i&2&&ne!==(ne="https://www.ebay.de/sch/i.html?_from=R40&_trksid=p4432023.m570.l1313&_nkw="+t[1]+"&_sacat=0"))&&o(G,"href",ne),E.ctx=t,i&1&&ce!==(ce=t[0].streamed.similarProducts)&&Ae(ce,E)||Ue(E,t,i)},i(d){k||(j(V.$$.fragment,d),j(M.$$.fragment,d),j(F.$$.fragment,d),j(U.$$.fragment,d),j(E.block),k=!0)},o(d){q(V.$$.fragment,d),q(M.$$.fragment,d),q(F.$$.fragment,d),q(U.$$.fragment,d);for(let i=0;i<3;i+=1){const C=E.blocks[i];q(C)}k=!1},d(d){d&&(u(l),u(m),u(b),u(w),u(B),u(I),u(ie),u(A)),u(r),x(V),x(M),x(F),x(U),E.block.d(),E.token=null,E=null}}}function st(t,e,r){let a,l,m,s,f,c,{data:n}=e;return t.$$set=p=>{"data"in p&&r(0,n=p.data)},t.$$.update=()=>{t.$$.dirty&1&&r(6,a=Qe(n.data.image)),t.$$.dirty&1&&r(5,l=n.data.name),t.$$.dirty&1&&r(4,m=n.data.id),t.$$.dirty&1&&r(3,s=n.data.description),t.$$.dirty&1&&r(2,f=n.data.link),t.$$.dirty&1&&r(1,c=n.searchterm)},[n,c,f,s,m,l,a]}class gt extends Oe{constructor(e){super(),Re(this,e,st,rt,Me,{data:0})}}export{gt as component,ht as universal};
