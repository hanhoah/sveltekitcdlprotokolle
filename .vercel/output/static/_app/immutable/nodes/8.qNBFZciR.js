import{s as P,e as k,t as L,a as U,c as b,b as $,d as j,f as m,g as V,m as v,i as _,h as E,j as z,n as h,o as S,p as A}from"../chunks/scheduler.CzVGMVSq.js";import{h as w,u as F}from"../chunks/await_block.BOjnY7XG.js";import{e as B}from"../chunks/each.D6YF6ztN.js";import{S as G,i as J,t as d,b as p,g as K,e as M,c as q,a as D,m as H,d as N}from"../chunks/index.anhLQDqu.js";import{B as O}from"../chunks/book.CsRgF8V3.js";import{S as Q}from"../chunks/Spinner.TCbjCvWt.js";function C(r,t,a){const o=r.slice();return o[2]=t[a],o}function R(r){return{c:h,l:h,m:h,p:h,i:h,o:h,d:h}}function T(r){let t,a,o=B(r[1]),e=[];for(let l=0;l<o.length;l+=1)e[l]=I(C(r,o,l));const c=l=>p(e[l],1,1,()=>{e[l]=null});return{c(){for(let l=0;l<e.length;l+=1)e[l].c();t=S()},l(l){for(let s=0;s<e.length;s+=1)e[s].l(l);t=S()},m(l,s){for(let n=0;n<e.length;n+=1)e[n]&&e[n].m(l,s);_(l,t,s),a=!0},p(l,s){if(s&1){o=B(l[1]);let n;for(n=0;n<o.length;n+=1){const i=C(l,o,n);e[n]?(e[n].p(i,s),d(e[n],1)):(e[n]=I(i),e[n].c(),d(e[n],1),e[n].m(t.parentNode,t))}for(K(),n=o.length;n<e.length;n+=1)c(n);M()}},i(l){if(!a){for(let s=0;s<o.length;s+=1)d(e[s]);a=!0}},o(l){e=e.filter(Boolean);for(let s=0;s<e.length;s+=1)p(e[s]);a=!1},d(l){l&&m(t),A(e,l)}}}function I(r){let t,a,o;return a=new O({props:{book:{id:r[2].id,title:r[2].title,img:r[2].img}}}),{c(){t=k("li"),q(a.$$.fragment),this.h()},l(e){t=b(e,"LI",{class:!0});var c=$(t);D(a.$$.fragment,c),c.forEach(m),this.h()},h(){v(t,"class","my-2")},m(e,c){_(e,t,c),H(a,t,null),o=!0},p(e,c){const l={};c&1&&(l.book={id:e[2].id,title:e[2].title,img:e[2].img}),a.$set(l)},i(e){o||(d(a.$$.fragment,e),o=!0)},o(e){p(a.$$.fragment,e),o=!1},d(e){e&&m(t),N(a)}}}function W(r){let t,a,o;return t=new Q({}),{c(){q(t.$$.fragment),a=L(" loading books ...")},l(e){D(t.$$.fragment,e),a=j(e," loading books ...")},m(e,c){H(t,e,c),_(e,a,c),o=!0},p:h,i(e){o||(d(t.$$.fragment,e),o=!0)},o(e){p(t.$$.fragment,e),o=!1},d(e){e&&m(a),N(t,e)}}}function X(r){let t,a,o=r[0].title+"",e,c,l,s,n,i={ctx:r,current:null,token:null,hasCatch:!1,pending:W,then:T,catch:R,value:1,blocks:[,,,]};return w(s=r[0].streamed.books,i),{c(){t=k("div"),a=k("h2"),e=L(o),c=U(),l=k("ul"),i.block.c(),this.h()},l(f){t=b(f,"DIV",{class:!0});var u=$(t);a=b(u,"H2",{});var g=$(a);e=j(g,o),g.forEach(m),u.forEach(m),c=V(f),l=b(f,"UL",{class:!0});var y=$(l);i.block.l(y),y.forEach(m),this.h()},h(){v(t,"class","px-2 m-2 border-2 "),v(l,"class","grid grid-cols-2 md:grid-cols-3")},m(f,u){_(f,t,u),E(t,a),E(a,e),_(f,c,u),_(f,l,u),i.block.m(l,i.anchor=null),i.mount=()=>l,i.anchor=null,n=!0},p(f,[u]){r=f,(!n||u&1)&&o!==(o=r[0].title+"")&&z(e,o),i.ctx=r,u&1&&s!==(s=r[0].streamed.books)&&w(s,i)||F(i,r,u)},i(f){n||(d(i.block),n=!0)},o(f){for(let u=0;u<3;u+=1){const g=i.blocks[u];p(g)}n=!1},d(f){f&&(m(t),m(c),m(l)),i.block.d(),i.token=null,i=null}}}function Y(r,t,a){let{data:o}=t;return r.$$set=e=>{"data"in e&&a(0,o=e.data)},[o]}class ae extends G{constructor(t){super(),J(this,t,Y,X,P,{data:0})}}export{ae as component};
